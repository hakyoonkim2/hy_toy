import{r as g,u as _,j as e,l,L as F}from"./index-D_0jlqG_.js";import{u,a as v,s as m,C as S,b as N}from"./CoinChartView-BLN8NfWm.js";import{u as j,q as C}from"./SymbolContextProvider-GHboY-yo.js";const W="_chartList_143de_1",k="_symbolListLabel_143de_17",w="_priceWrpper_143de_23",D="_price_143de_23",P="_krwPrice_143de_35",R="_pricehighlight_143de_46",r={chartList:W,symbolListLabel:k,priceWrpper:w,price:D,krwPrice:P,pricehighlight:R},T=s=>{const c=s.replace("USDT","");return u({queryKey:["symbol",`KRW-${c}`],queryFn:async()=>null,initialData:null,staleTime:1/0})},$=({symbol:s})=>{const{setSymbol:c}=j(),{data:i}=v(s),{data:n}=T(s),p=g.useRef(null),y=_(),{data:a}=u({queryKey:["exchange-rate","USD-KRW"],queryFn:C,refetchInterval:1e3*60*10,staleTime:1e3*60*10,gcTime:1e3*60*60,refetchOnWindowFocus:!1}),f=()=>{c(s),l.isMobile&&y("/chart/chartview")},t=(i==null?void 0:i.price)??0,d=(i==null?void 0:i.openPrice)??1,L=t===0?0:((t-d)/d*100).toFixed(2),h=(i==null?void 0:i.color)??"#FFFFFF",b=!!(n&&a&&t&&n.price/a-t>0);return g.useEffect(()=>{let o=null;if(p.current){const x=p.current;x.classList.add(r.pricehighlight),o=setTimeout(()=>{x.classList.remove(r.pricehighlight)},300)}return()=>{o&&(clearTimeout(o),o=null)}},[i]),e.jsxs("div",{id:`${s}-pricelist`,className:r.chartList,onClick:f,children:[e.jsx("div",{children:e.jsx("strong",{className:r.symbolListLabel,children:s.replace("USDT","")})}),e.jsxs("div",{className:r.priceWrpper,children:[e.jsxs("div",{children:[e.jsx("strong",{ref:p,className:r.price,style:{color:h},children:`${t}`}),e.jsx("strong",{className:r.price,style:{color:h,marginLeft:"10px"},children:`${L}% `}),e.jsx("strong",{className:r.price,style:{marginLeft:"10px"},children:"USD"})]}),t&&n&&a?e.jsxs("div",{className:r.krwPrice,children:[e.jsx("strong",{children:"김프: "}),e.jsx("strong",{style:{color:b?"#f75467":"#4386f9"},children:`${((n.price/a-t)/t*100).toFixed(2)}% `}),e.jsx("strong",{style:{marginLeft:"10px"},children:"KRW: "}),e.jsx("strong",{style:{color:h},children:`${n.price.toLocaleString()}`})]}):e.jsx(e.Fragment,{})]})]})},M=()=>{const{symbolList:s}=j();return e.jsxs("div",{className:m.app,style:l.isMobile?{flexDirection:"column"}:{},children:[l.isMobile?e.jsx("div",{className:m.mobildSearchWrapper,children:e.jsx(S,{})}):e.jsx(e.Fragment,{}),e.jsx("div",{className:m.listContainer,style:{minWidth:l.isMobile?"100%":"300px"},children:s.length>0?s.map(c=>e.jsx($,{symbol:c},c)):e.jsx(F,{})}),l.isMobile?e.jsx(e.Fragment,{}):e.jsx(N,{})]})};export{M as default};
