const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CoinAppWrapper-B8vDpD-1.js","assets/SymbolContextProvider-DEJ-RIc7.js","assets/CoinApp-Dn8vArU3.js","assets/CoinChartView-DiPTdbTr.js","assets/CoinChartView-BOD8plJO.css","assets/CoinApp-DidqASx1.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var om={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function TA(){if(Iv)return Yl;Iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=e,Yl.jsx=t,Yl.jsxs=t,Yl}var Cv;function wA(){return Cv||(Cv=1,om.exports=TA()),om.exports}var ae=wA(),lm={exports:{}},Wl={},um={exports:{}},cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function bA(){return Ov||(Ov=1,function(r){function e(X,he){var ge=X.length;X.push(he);e:for(;0<ge;){var Ce=ge-1>>>1,V=X[Ce];if(0<o(V,he))X[Ce]=he,X[ge]=V,ge=Ce;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var he=X[0],ge=X.pop();if(ge!==he){X[0]=ge;e:for(var Ce=0,V=X.length,te=V>>>1;Ce<te;){var de=2*(Ce+1)-1,ce=X[de],Ae=de+1,fe=X[Ae];if(0>o(ce,ge))Ae<V&&0>o(fe,ce)?(X[Ce]=fe,X[Ae]=ge,Ce=Ae):(X[Ce]=ce,X[de]=ge,Ce=de);else if(Ae<V&&0>o(fe,ge))X[Ce]=fe,X[Ae]=ge,Ce=Ae;else break e}}return he}function o(X,he){var ge=X.sortIndex-he.sortIndex;return ge!==0?ge:X.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,T=3,R=!1,S=!1,k=!1,O=!1,Y=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function oe(X){for(var he=t(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=X)s(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(g)}}function me(X){if(k=!1,oe(X),!S)if(t(p)!==null)S=!0,we||(we=!0,z());else{var he=t(g);he!==null&&We(me,he.startTime-X)}}var we=!1,U=-1,I=5,N=-1;function x(){return O?!0:!(r.unstable_now()-N<I)}function B(){if(O=!1,we){var X=r.unstable_now();N=X;var he=!0;try{e:{S=!1,k&&(k=!1,ue(U),U=-1),R=!0;var ge=T;try{t:{for(oe(X),A=t(p);A!==null&&!(A.expirationTime>X&&x());){var Ce=A.callback;if(typeof Ce=="function"){A.callback=null,T=A.priorityLevel;var V=Ce(A.expirationTime<=X);if(X=r.unstable_now(),typeof V=="function"){A.callback=V,oe(X),he=!0;break t}A===t(p)&&s(p),oe(X)}else s(p);A=t(p)}if(A!==null)he=!0;else{var te=t(g);te!==null&&We(me,te.startTime-X),he=!1}}break e}finally{A=null,T=ge,R=!1}he=void 0}}finally{he?z():we=!1}}}var z;if(typeof $=="function")z=function(){$(B)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ze=D.port2;D.port1.onmessage=B,z=function(){Ze.postMessage(null)}}else z=function(){Y(B,0)};function We(X,he){U=Y(function(){X(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(X){switch(T){case 1:case 2:case 3:var he=3;break;default:he=T}var ge=T;T=he;try{return X()}finally{T=ge}},r.unstable_requestPaint=function(){O=!0},r.unstable_runWithPriority=function(X,he){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=T;T=X;try{return he()}finally{T=ge}},r.unstable_scheduleCallback=function(X,he,ge){var Ce=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ce+ge:Ce):ge=Ce,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ge+V,X={id:E++,callback:he,priorityLevel:X,startTime:ge,expirationTime:V,sortIndex:-1},ge>Ce?(X.sortIndex=ge,e(g,X),t(p)===null&&X===t(g)&&(k?(ue(U),U=-1):k=!0,We(me,ge-Ce))):(X.sortIndex=V,e(p,X),S||R||(S=!0,we||(we=!0,z()))),X},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(X){var he=T;return function(){var ge=T;T=he;try{return X.apply(this,arguments)}finally{T=ge}}}}(cm)),cm}var Nv;function SA(){return Nv||(Nv=1,um.exports=bA()),um.exports}var hm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function AA(){if(Dv)return qe;Dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function O(V,te,de){this.props=V,this.context=te,this.refs=k,this.updater=de||R}O.prototype.isReactComponent={},O.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},O.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Y(){}Y.prototype=O.prototype;function ue(V,te,de){this.props=V,this.context=te,this.refs=k,this.updater=de||R}var $=ue.prototype=new Y;$.constructor=ue,S($,O.prototype),$.isPureReactComponent=!0;var oe=Array.isArray,me={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function U(V,te,de,ce,Ae,fe){return de=fe.ref,{$$typeof:r,type:V,key:te,ref:de!==void 0?de:null,props:fe}}function I(V,te){return U(V.type,te,void 0,void 0,void 0,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function x(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return te[de]})}var B=/\/+/g;function z(V,te){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):te.toString(36)}function D(){}function Ze(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function We(V,te,de,ce,Ae){var fe=typeof V;(fe==="undefined"||fe==="boolean")&&(V=null);var Oe=!1;if(V===null)Oe=!0;else switch(fe){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(V.$$typeof){case r:case e:Oe=!0;break;case E:return Oe=V._init,We(Oe(V._payload),te,de,ce,Ae)}}if(Oe)return Ae=Ae(V),Oe=ce===""?"."+z(V,0):ce,oe(Ae)?(de="",Oe!=null&&(de=Oe.replace(B,"$&/")+"/"),We(Ae,te,de,"",function(dn){return dn})):Ae!=null&&(N(Ae)&&(Ae=I(Ae,de+(Ae.key==null||V&&V.key===Ae.key?"":(""+Ae.key).replace(B,"$&/")+"/")+Oe)),te.push(Ae)),1;Oe=0;var yt=ce===""?".":ce+":";if(oe(V))for(var rt=0;rt<V.length;rt++)ce=V[rt],fe=yt+z(ce,rt),Oe+=We(ce,te,de,fe,Ae);else if(rt=T(V),typeof rt=="function")for(V=rt.call(V),rt=0;!(ce=V.next()).done;)ce=ce.value,fe=yt+z(ce,rt++),Oe+=We(ce,te,de,fe,Ae);else if(fe==="object"){if(typeof V.then=="function")return We(Ze(V),te,de,ce,Ae);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function X(V,te,de){if(V==null)return V;var ce=[],Ae=0;return We(V,ce,"","",function(fe){return te.call(de,fe,Ae++)}),ce}function he(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var ge=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ce(){}return qe.Children={map:X,forEach:function(V,te,de){X(V,function(){te.apply(this,arguments)},de)},count:function(V){var te=0;return X(V,function(){te++}),te},toArray:function(V){return X(V,function(te){return te})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},qe.Component=O,qe.Fragment=t,qe.Profiler=o,qe.PureComponent=ue,qe.StrictMode=s,qe.Suspense=p,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,qe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return me.H.useMemoCache(V)}},qe.cache=function(V){return function(){return V.apply(null,arguments)}},qe.cloneElement=function(V,te,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=S({},V.props),Ae=V.key,fe=void 0;if(te!=null)for(Oe in te.ref!==void 0&&(fe=void 0),te.key!==void 0&&(Ae=""+te.key),te)!we.call(te,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&te.ref===void 0||(ce[Oe]=te[Oe]);var Oe=arguments.length-2;if(Oe===1)ce.children=de;else if(1<Oe){for(var yt=Array(Oe),rt=0;rt<Oe;rt++)yt[rt]=arguments[rt+2];ce.children=yt}return U(V.type,Ae,void 0,void 0,fe,ce)},qe.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},qe.createElement=function(V,te,de){var ce,Ae={},fe=null;if(te!=null)for(ce in te.key!==void 0&&(fe=""+te.key),te)we.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ae[ce]=te[ce]);var Oe=arguments.length-2;if(Oe===1)Ae.children=de;else if(1<Oe){for(var yt=Array(Oe),rt=0;rt<Oe;rt++)yt[rt]=arguments[rt+2];Ae.children=yt}if(V&&V.defaultProps)for(ce in Oe=V.defaultProps,Oe)Ae[ce]===void 0&&(Ae[ce]=Oe[ce]);return U(V,fe,void 0,void 0,null,Ae)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(V){return{$$typeof:m,render:V}},qe.isValidElement=N,qe.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:he}},qe.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},qe.startTransition=function(V){var te=me.T,de={};me.T=de;try{var ce=V(),Ae=me.S;Ae!==null&&Ae(de,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ce,ge)}catch(fe){ge(fe)}finally{me.T=te}},qe.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},qe.use=function(V){return me.H.use(V)},qe.useActionState=function(V,te,de){return me.H.useActionState(V,te,de)},qe.useCallback=function(V,te){return me.H.useCallback(V,te)},qe.useContext=function(V){return me.H.useContext(V)},qe.useDebugValue=function(){},qe.useDeferredValue=function(V,te){return me.H.useDeferredValue(V,te)},qe.useEffect=function(V,te,de){var ce=me.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(V,te)},qe.useId=function(){return me.H.useId()},qe.useImperativeHandle=function(V,te,de){return me.H.useImperativeHandle(V,te,de)},qe.useInsertionEffect=function(V,te){return me.H.useInsertionEffect(V,te)},qe.useLayoutEffect=function(V,te){return me.H.useLayoutEffect(V,te)},qe.useMemo=function(V,te){return me.H.useMemo(V,te)},qe.useOptimistic=function(V,te){return me.H.useOptimistic(V,te)},qe.useReducer=function(V,te,de){return me.H.useReducer(V,te,de)},qe.useRef=function(V){return me.H.useRef(V)},qe.useState=function(V){return me.H.useState(V)},qe.useSyncExternalStore=function(V,te,de){return me.H.useSyncExternalStore(V,te,de)},qe.useTransition=function(){return me.H.useTransition()},qe.version="19.1.0",qe}var kv;function Hh(){return kv||(kv=1,hm.exports=AA()),hm.exports}var fm={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function RA(){if(Mv)return pn;Mv=1;var r=Hh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},pn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},pn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},pn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},pn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:R}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:T,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},pn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},pn.requestFormReset=function(p){s.d.r(p)},pn.unstable_batchedUpdates=function(p,g){return p(g)},pn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},pn.useFormStatus=function(){return f.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var Pv;function IA(){if(Pv)return fm.exports;Pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=RA(),fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function CA(){if(Vv)return Wl;Vv=1;var r=SA(),e=Hh(),t=IA();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,w=h.child;w;){if(w===a){v=!0,a=h,l=d;break}if(w===l){v=!0,l=h,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=h;break}if(w===l){v=!0,l=d,a=h;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),$=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Ze(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case O:return"Profiler";case k:return"StrictMode";case me:return"Suspense";case we:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case R:return"Portal";case $:return(n.displayName||"Context")+".Provider";case ue:return(n._context.displayName||"Context")+".Consumer";case oe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return i=n.displayName||null,i!==null?i:Ze(n.type)||"Memo";case I:i=n._payload,n=n._init;try{return Ze(n(i))}catch{}}return null}var We=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ce=[],V=-1;function te(n){return{current:n}}function de(n){0>V||(n.current=Ce[V],Ce[V]=null,V--)}function ce(n,i){V++,Ce[V]=n.current,n.current=i}var Ae=te(null),fe=te(null),Oe=te(null),yt=te(null);function rt(n,i){switch(ce(Oe,i),ce(fe,n),ce(Ae,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?tv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=tv(i),n=nv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}de(Ae),ce(Ae,n)}function dn(){de(Ae),de(fe),de(Oe)}function Un(n){n.memoizedState!==null&&ce(yt,n);var i=Ae.current,a=nv(i,n.type);i!==a&&(ce(fe,n),ce(Ae,a))}function Rn(n){fe.current===n&&(de(Ae),de(fe)),yt.current===n&&(de(yt),Fl._currentValue=ge)}var _i=Object.prototype.hasOwnProperty,In=r.unstable_scheduleCallback,Wn=r.unstable_cancelCallback,vn=r.unstable_shouldYield,lr=r.unstable_requestPaint,qt=r.unstable_now,Xn=r.unstable_getCurrentPriorityLevel,En=r.unstable_ImmediatePriority,vi=r.unstable_UserBlockingPriority,Ln=r.unstable_NormalPriority,ur=r.unstable_LowPriority,Nt=r.unstable_IdlePriority,Tn=r.log,Zn=r.unstable_setDisableYieldValue,be=null,Ee=null;function Se(n){if(typeof Tn=="function"&&Zn(n),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(be,n)}catch{}}var xe=Math.clz32?Math.clz32:je,nn=Math.log,rn=Math.LN2;function je(n){return n>>>=0,n===0?32:31-(nn(n)/rn|0)|0}var Ie=256,Dt=4194304;function Wt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Cn(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=Wt(l):(v&=w,v!==0?h=Wt(v):a||(a=w&~n,a!==0&&(h=Wt(a))))):(w=l&~d,w!==0?h=Wt(w):v!==0?h=Wt(v):a||(a=l&~n,a!==0&&(h=Wt(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Ui(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Jr(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function es(){var n=Ie;return Ie<<=1,(Ie&4194048)===0&&(Ie=256),n}function ts(){var n=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),n}function Jn(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function ei(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ns(n,i,a,l,h,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,M=n.expirationTimes,G=n.hiddenUpdates;for(a=v&~a;0<a;){var ee=31-xe(a),ie=1<<ee;w[ee]=0,M[ee]=-1;var Q=G[ee];if(Q!==null)for(G[ee]=null,ee=0;ee<Q.length;ee++){var W=Q[ee];W!==null&&(W.lane&=-536870913)}a&=~ie}l!==0&&Bn(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~i))}function Bn(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-xe(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function is(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-xe(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function Ei(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function cr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ti(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:Tv(n.type))}function Js(n,i){var a=he.p;try{return he.p=n,i()}finally{he.p=a}}var st=Math.random().toString(36).slice(2),Rt="__reactFiber$"+st,at="__reactProps$"+st,wn="__reactContainer$"+st,rs="__reactEvents$"+st,Fa="__reactListeners$"+st,wi="__reactHandles$"+st,ea="__reactResources$"+st,Li="__reactMarker$"+st;function bi(n){delete n[Rt],delete n[at],delete n[rs],delete n[Fa],delete n[wi]}function Si(n){var i=n[Rt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[wn]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=av(n);n!==null;){if(a=n[Rt])return a;n=av(n)}return i}n=a,a=n.parentNode}return null}function ti(n){if(n=n[Rt]||n[wn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function ni(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function xt(n){var i=n[ea];return i||(i=n[ea]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(n){n[Li]=!0}var ss=new Set,hr={};function zn(n,i){ii(n,i),ii(n+"Capture",i)}function ii(n,i){for(hr[n]=i,n=0;n<i.length;n++)ss.add(i[n])}var ta=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),na={},fr={};function Ga(n){return _i.call(fr,n)?!0:_i.call(na,n)?!1:ta.test(n)?fr[n]=!0:(na[n]=!0,!1)}function Bi(n,i,a){if(Ga(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ri(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Ut(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var dr,$a;function Ai(n){if(dr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);dr=i&&i[1]||"",$a=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dr+n+$a}var as=!1;function os(n,i){if(!n||as)return"";as=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Q=W}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(W){Q=W}n.call(ie.prototype)}}else{try{throw Error()}catch(W){Q=W}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var M=v.split(`
`),G=w.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===G.length)for(l=M.length-1,h=G.length-1;1<=l&&0<=h&&M[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==G[h]){var ee=`
`+M[l].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=l&&0<=h);break}}}finally{as=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ai(a):""}function ia(n){switch(n.tag){case 26:case 27:case 5:return Ai(n.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return os(n.type,!1);case 11:return os(n.type.render,!1);case 1:return os(n.type,!0);case 31:return Ai("Activity");default:return""}}function ls(n){try{var i="";do i+=ia(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ra(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tl(n){var i=ra(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function us(n){n._valueTracker||(n._valueTracker=tl(n))}function sa(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=ra(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function mr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var nl=/[\n"\\]/g;function It(n){return n.replace(nl,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bn(n,i,a,l,h,d,v,w){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),i!=null?v==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+sn(i)):n.value!==""+sn(i)&&(n.value=""+sn(i)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),i!=null?zi(n,v,sn(i)):a!=null?zi(n,v,sn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+sn(w):n.removeAttribute("name")}function pr(n,i,a,l,h,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+sn(a):"",i=i!=null?""+sn(i):a,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function zi(n,i,a){i==="number"&&mr(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ri(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function ut(n,i,a){if(i!=null&&(i=""+sn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+sn(a):""}function gr(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(We(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=sn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function On(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ka(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||yr.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function aa(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ka(n,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ka(n,d,i[d])}function oa(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(n){return rl.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ii=null;function Nn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ci=null,Oi=null;function la(n){var i=ti(n);if(i&&(n=i.stateNode)){var a=n[at]||null;e:switch(n=i.stateNode,i.type){case"input":if(bn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+It(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[at]||null;if(!h)throw Error(s(90));bn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&sa(l)}break e;case"textarea":ut(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ri(n,!!a.multiple,i,!1)}}}var si=!1;function Qa(n,i,a){if(si)return n(i,a);si=!0;try{var l=n(i);return l}finally{if(si=!1,(Ci!==null||Oi!==null)&&(Cc(),Ci&&(i=Ci,n=Oi,Oi=Ci=null,la(i),n)))for(i=0;i<n.length;i++)la(n[i])}}function _r(n,i){var a=n.stateNode;if(a===null)return null;var l=a[at]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(jn)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{Dn=!1}var ai=null,q=null,C=null;function P(){if(C)return C;var n,i=q,a=i.length,l,h="value"in ai?ai.value:ai.textContent,d=h.length;for(n=0;n<a&&i[n]===h[n];n++);var v=a-n;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return C=h.slice(n,1<l?1-l:void 0)}function Z(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function le(){return!0}function ze(){return!1}function He(n){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?le:ze,this.isPropagationStopped=ze,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=le)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=le)},persist:function(){},isPersistent:le}),i}var Ue={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=He(Ue),vr=E({},Ue,{view:0,detail:0}),Ya=He(vr),Er,Tr,qn,qi=E({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qn&&(qn&&n.type==="mousemove"?(Er=n.screenX-qn.screenX,Tr=n.screenY-qn.screenY):Tr=Er=0,qn=n),Er)},movementY:function(n){return"movementY"in n?n.movementY:Tr}}),oi=He(qi),Uu=E({},qi,{dataTransfer:0}),pf=He(Uu),ua=E({},vr,{relatedTarget:0}),Wa=He(ua),sl=E({},Ue,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=He(sl),Lu=E({},Ue,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Za=He(Lu),gf=E({},Ue,{data:0}),al=He(gf),ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=zu[n])?!!i[n]:!1}function ha(){return ol}var ju=E({},vr,{key:function(n){if(n.key){var i=ca[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Z(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(n){return n.type==="keypress"?Z(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Z(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ja=He(ju),qu=E({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=He(qu),wr=E({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),Hu=He(wr),Fu=E({},Ue,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gu=He(Fu),$u=E({},qi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),eo=He($u),Sn=E({},Ue,{newState:0,oldState:0}),Ku=He(Sn),Qu=[9,13,27,32],Hi=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var y=jn&&"TextEvent"in window&&!c,_=jn&&(!Hi||c&&8<c&&11>=c),b=" ",H=!1;function J(n,i){switch(n){case"keyup":return Qu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Je=!1;function Ht(n,i){switch(n){case"compositionend":return pe(i);case"keypress":return i.which!==32?null:(H=!0,b);case"textInput":return n=i.data,n===b&&H?null:n;default:return null}}function et(n,i){if(Je)return n==="compositionend"||!Hi&&J(n,i)?(n=P(),C=q=ai=null,Je=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Xt[n.type]:i==="textarea"}function br(n,i,a,l){Ci?Oi?Oi.push(l):Oi=[l]:Ci=l,i=Pc(i,"onChange"),0<i.length&&(a=new Ni("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var an=null,Fi=null;function ul(n){W_(n,0)}function Yu(n){var i=ni(n);if(sa(i))return n}function yg(n,i){if(n==="change")return i}var _g=!1;if(jn){var yf;if(jn){var _f="oninput"in document;if(!_f){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),_f=typeof vg.oninput=="function"}yf=_f}else yf=!1;_g=yf&&(!document.documentMode||9<document.documentMode)}function Eg(){an&&(an.detachEvent("onpropertychange",Tg),Fi=an=null)}function Tg(n){if(n.propertyName==="value"&&Yu(Fi)){var i=[];br(i,Fi,n,Nn(n)),Qa(ul,i)}}function Xb(n,i,a){n==="focusin"?(Eg(),an=i,Fi=a,an.attachEvent("onpropertychange",Tg)):n==="focusout"&&Eg()}function Zb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yu(Fi)}function Jb(n,i){if(n==="click")return Yu(i)}function eS(n,i){if(n==="input"||n==="change")return Yu(i)}function tS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Hn=typeof Object.is=="function"?Object.is:tS;function cl(n,i){if(Hn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_i.call(i,h)||!Hn(n[h],i[h]))return!1}return!0}function wg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bg(n,i){var a=wg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wg(a)}}function Sg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Sg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ag(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=mr(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=mr(n.document)}return i}function vf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var nS=jn&&"documentMode"in document&&11>=document.documentMode,to=null,Ef=null,hl=null,Tf=!1;function Rg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||to==null||to!==mr(l)||(l=to,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Pc(Ef,"onSelect"),0<l.length&&(i=new Ni("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=to)))}function fa(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var no={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},wf={},Ig={};jn&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function da(n){if(wf[n])return wf[n];if(!no[n])return n;var i=no[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ig)return wf[n]=i[a];return n}var Cg=da("animationend"),Og=da("animationiteration"),Ng=da("animationstart"),iS=da("transitionrun"),rS=da("transitionstart"),sS=da("transitioncancel"),Dg=da("transitionend"),kg=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function Di(n,i){kg.set(n,i),zn(i,[n])}var Mg=new WeakMap;function li(n,i){if(typeof n=="object"&&n!==null){var a=Mg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ls(i)},Mg.set(n,i),i)}return{value:n,source:i,stack:ls(i)}}var ui=[],io=0,Sf=0;function Wu(){for(var n=io,i=Sf=io=0;i<n;){var a=ui[i];ui[i++]=null;var l=ui[i];ui[i++]=null;var h=ui[i];ui[i++]=null;var d=ui[i];if(ui[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Pg(a,h,d)}}function Xu(n,i,a,l){ui[io++]=n,ui[io++]=i,ui[io++]=a,ui[io++]=l,Sf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Af(n,i,a,l){return Xu(n,i,a,l),Zu(n)}function ro(n,i){return Xu(n,null,null,i),Zu(n)}function Pg(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&i!==null&&(h=31-xe(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Zu(n){if(50<xl)throw xl=0,Dd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var so={};function aS(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(n,i,a,l){return new aS(n,i,a,l)}function Rf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sr(n,i){var a=n.alternate;return a===null?(a=Fn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Vg(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Ju(n,i,a,l,h,d){var v=0;if(l=n,typeof n=="function")Rf(n)&&(v=1);else if(typeof n=="string")v=lA(n,a,Ae.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case N:return n=Fn(31,a,i,h),n.elementType=N,n.lanes=d,n;case S:return ma(a.children,h,d,i);case k:v=8,h|=24;break;case O:return n=Fn(12,a,i,h|2),n.elementType=O,n.lanes=d,n;case me:return n=Fn(13,a,i,h),n.elementType=me,n.lanes=d,n;case we:return n=Fn(19,a,i,h),n.elementType=we,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:case $:v=10;break e;case ue:v=9;break e;case oe:v=11;break e;case U:v=14;break e;case I:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=Fn(v,a,i,h),i.elementType=n,i.type=l,i.lanes=d,i}function ma(n,i,a,l){return n=Fn(7,n,l,i),n.lanes=a,n}function If(n,i,a){return n=Fn(6,n,null,i),n.lanes=a,n}function Cf(n,i,a){return i=Fn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ao=[],oo=0,ec=null,tc=0,ci=[],hi=0,pa=null,Ar=1,Rr="";function ga(n,i){ao[oo++]=tc,ao[oo++]=ec,ec=n,tc=i}function xg(n,i,a){ci[hi++]=Ar,ci[hi++]=Rr,ci[hi++]=pa,pa=n;var l=Ar;n=Rr;var h=32-xe(l)-1;l&=~(1<<h),a+=1;var d=32-xe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ar=1<<32-xe(i)+h|a<<h|l,Rr=d+n}else Ar=1<<d|a<<h|l,Rr=n}function Of(n){n.return!==null&&(ga(n,1),xg(n,1,0))}function Nf(n){for(;n===ec;)ec=ao[--oo],ao[oo]=null,tc=ao[--oo],ao[oo]=null;for(;n===pa;)pa=ci[--hi],ci[hi]=null,Rr=ci[--hi],ci[hi]=null,Ar=ci[--hi],ci[hi]=null}var An=null,Ct=null,ot=!1,ya=null,Gi=!1,Df=Error(s(519));function _a(n){var i=Error(s(418,""));throw ml(li(i,n)),Df}function Ug(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Rt]=n,i[at]=l,a){case"dialog":Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":case"embed":Ye("load",i);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Ye(Ll[a],i);break;case"source":Ye("error",i);break;case"img":case"image":case"link":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"input":Ye("invalid",i),pr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),us(i);break;case"select":Ye("invalid",i);break;case"textarea":Ye("invalid",i),gr(i,l.value,l.defaultValue,l.children),us(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ev(i.textContent,a)?(l.popover!=null&&(Ye("beforetoggle",i),Ye("toggle",i)),l.onScroll!=null&&Ye("scroll",i),l.onScrollEnd!=null&&Ye("scrollend",i),l.onClick!=null&&(i.onclick=Vc),i=!0):i=!1,i||_a(n)}function Lg(n){for(An=n.return;An;)switch(An.tag){case 5:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:An=An.return}}function fl(n){if(n!==An)return!1;if(!ot)return Lg(n),ot=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Kd(n.type,n.memoizedProps)),a=!a),a&&Ct&&_a(n),Lg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Ct=Mi(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Ct=null}}else i===27?(i=Ct,Rs(n.type)?(n=Xd,Xd=null,Ct=n):Ct=i):Ct=An?Mi(n.stateNode.nextSibling):null;return!0}function dl(){Ct=An=null,ot=!1}function Bg(){var n=ya;return n!==null&&(Pn===null?Pn=n:Pn.push.apply(Pn,n),ya=null),n}function ml(n){ya===null?ya=[n]:ya.push(n)}var kf=te(null),va=null,Ir=null;function hs(n,i,a){ce(kf,i._currentValue),i._currentValue=a}function Cr(n){n._currentValue=kf.current,de(kf)}function Mf(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Pf(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var M=0;M<i.length;M++)if(w.context===i[M]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Mf(d.return,a,n),l||(v=null);break e}d=w.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Mf(v,a,n),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function pl(n,i,a,l){n=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=h.type;Hn(h.pendingProps.value,v.value)||(n!==null?n.push(w):n=[w])}}else if(h===yt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Fl):n=[Fl])}h=h.return}n!==null&&Pf(i,n,a,l),i.flags|=262144}function nc(n){for(n=n.firstContext;n!==null;){if(!Hn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ea(n){va=n,Ir=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function mn(n){return zg(va,n)}function ic(n,i){return va===null&&Ea(n),zg(n,i)}function zg(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ir===null){if(n===null)throw Error(s(308));Ir=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ir=Ir.next=i;return a}var oS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},lS=r.unstable_scheduleCallback,uS=r.unstable_NormalPriority,Gt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new oS,data:new Map,refCount:0}}function gl(n){n.refCount--,n.refCount===0&&lS(uS,function(){n.controller.abort()})}var yl=null,xf=0,lo=0,uo=null;function cS(n,i){if(yl===null){var a=yl=[];xf=0,lo=Ld(),uo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,i.then(jg,jg),i}function jg(){if(--xf===0&&yl!==null){uo!==null&&(uo.status="fulfilled");var n=yl;yl=null,lo=0,uo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function hS(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&cS(n,i),qg!==null&&qg(n,i)};var Ta=te(null);function Uf(){var n=Ta.current;return n!==null?n:_t.pooledCache}function rc(n,i){i===null?ce(Ta,Ta.current):ce(Ta,i.pool)}function Hg(){var n=Uf();return n===null?null:{parent:Gt._currentValue,pool:n}}var _l=Error(s(460)),Fg=Error(s(474)),sc=Error(s(542)),Lf={then:function(){}};function Gg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ac(){}function $g(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(ac,ac),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Qg(n),n;default:if(typeof i.status=="string")i.then(ac,ac);else{if(n=_t,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Qg(n),n}throw vl=i,_l}}var vl=null;function Kg(){if(vl===null)throw Error(s(459));var n=vl;return vl=null,n}function Qg(n){if(n===_l||n===sc)throw Error(s(483))}var fs=!1;function Bf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ds(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ms(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Zu(n),Pg(n,null,a),i}return Xu(n,l,i,a),Zu(n)}function El(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,is(n,a)}}function jf(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var qf=!1;function Tl(){if(qf){var n=uo;if(n!==null)throw n}}function wl(n,i,a,l){qf=!1;var h=n.updateQueue;fs=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var M=w,G=M.next;M.next=null,v===null?d=G:v.next=G,v=M;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==v&&(w===null?ee.firstBaseUpdate=G:w.next=G,ee.lastBaseUpdate=M))}if(d!==null){var ie=h.baseState;v=0,ee=G=M=null,w=d;do{var Q=w.lane&-536870913,W=Q!==w.lane;if(W?(tt&Q)===Q:(l&Q)===Q){Q!==0&&Q===lo&&(qf=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Pe=n,De=w;Q=i;var pt=a;switch(De.tag){case 1:if(Pe=De.payload,typeof Pe=="function"){ie=Pe.call(pt,ie,Q);break e}ie=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=De.payload,Q=typeof Pe=="function"?Pe.call(pt,ie,Q):Pe,Q==null)break e;ie=E({},ie,Q);break e;case 2:fs=!0}}Q=w.callback,Q!==null&&(n.flags|=64,W&&(n.flags|=8192),W=h.callbacks,W===null?h.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(G=ee=W,M=ie):ee=ee.next=W,v|=Q;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;W=w,w=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);ee===null&&(M=ie),h.baseState=M,h.firstBaseUpdate=G,h.lastBaseUpdate=ee,d===null&&(h.shared.lanes=0),ws|=v,n.lanes=v,n.memoizedState=ie}}function Yg(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Wg(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Yg(a[n],i)}var co=te(null),oc=te(0);function Xg(n,i){n=Vr,ce(oc,n),ce(co,i),Vr=n|i.baseLanes}function Hf(){ce(oc,Vr),ce(co,co.current)}function Ff(){Vr=oc.current,de(co),de(oc)}var ps=0,Fe=null,dt=null,Lt=null,lc=!1,ho=!1,wa=!1,uc=0,bl=0,fo=null,fS=0;function kt(){throw Error(s(321))}function Gf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Hn(n[a],i[a]))return!1;return!0}function $f(n,i,a,l,h,d){return ps=d,Fe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?Py:Vy,wa=!1,d=a(l,h),wa=!1,ho&&(d=Jg(i,a,l,h)),Zg(n),d}function Zg(n){X.H=pc;var i=dt!==null&&dt.next!==null;if(ps=0,Lt=dt=Fe=null,lc=!1,bl=0,fo=null,i)throw Error(s(300));n===null||Zt||(n=n.dependencies,n!==null&&nc(n)&&(Zt=!0))}function Jg(n,i,a,l){Fe=n;var h=0;do{if(ho&&(fo=null),bl=0,ho=!1,25<=h)throw Error(s(301));if(h+=1,Lt=dt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=vS,d=i(a,l)}while(ho);return d}function dS(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?Sl(i):i,n=n.useState()[0],(dt!==null?dt.memoizedState:null)!==n&&(Fe.flags|=1024),i}function Kf(){var n=uc!==0;return uc=0,n}function Qf(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Yf(n){if(lc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}lc=!1}ps=0,Lt=dt=Fe=null,ho=!1,bl=uc=0,fo=null}function kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Fe.memoizedState=Lt=n:Lt=Lt.next=n,Lt}function Bt(){if(dt===null){var n=Fe.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var i=Lt===null?Fe.memoizedState:Lt.next;if(i!==null)Lt=i,dt=n;else{if(n===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Lt===null?Fe.memoizedState=Lt=n:Lt=Lt.next=n}return Lt}function Wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(n){var i=bl;return bl+=1,fo===null&&(fo=[]),n=$g(fo,n,i),i=Fe,(Lt===null?i.memoizedState:Lt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Py:Vy),n}function cc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Sl(n);if(n.$$typeof===$)return mn(n)}throw Error(s(438,String(n)))}function Xf(n){var i=null,a=Fe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Wf(),Fe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=x;return i.index++,a}function Or(n,i){return typeof i=="function"?i(n):i}function hc(n){var i=Bt();return Zf(i,dt,n)}function Zf(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{i=h.next;var w=v=null,M=null,G=i,ee=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(tt&ie)===ie:(ps&ie)===ie){var Q=G.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===lo&&(ee=!0);else if((ps&Q)===Q){G=G.next,Q===lo&&(ee=!0);continue}else ie={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(w=M=ie,v=d):M=M.next=ie,Fe.lanes|=Q,ws|=Q;ie=G.action,wa&&a(d,ie),d=G.hasEagerState?G.eagerState:a(d,ie)}else Q={lane:ie,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(w=M=Q,v=d):M=M.next=Q,Fe.lanes|=ie,ws|=ie;G=G.next}while(G!==null&&G!==i);if(M===null?v=d:M.next=w,!Hn(d,n.memoizedState)&&(Zt=!0,ee&&(a=uo,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=M,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Jf(n){var i=Bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=n(d,v.action),v=v.next;while(v!==h);Hn(d,i.memoizedState)||(Zt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ey(n,i,a){var l=Fe,h=Bt(),d=ot;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Hn((dt||h).memoizedState,a);v&&(h.memoizedState=a,Zt=!0),h=h.queue;var w=iy.bind(null,l,h,n);if(Al(2048,8,w,[n]),h.getSnapshot!==i||v||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,mo(9,fc(),ny.bind(null,l,h,a,i),null),_t===null)throw Error(s(349));d||(ps&124)!==0||ty(l,i,a)}return a}function ty(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Fe.updateQueue,i===null?(i=Wf(),Fe.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function ny(n,i,a,l){i.value=a,i.getSnapshot=l,ry(i)&&sy(n)}function iy(n,i,a){return a(function(){ry(i)&&sy(n)})}function ry(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Hn(n,a)}catch{return!0}}function sy(n){var i=ro(n,2);i!==null&&Yn(i,n,2)}function ed(n){var i=kn();if(typeof n=="function"){var a=n;if(n=a(),wa){Se(!0);try{a()}finally{Se(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:n},i}function ay(n,i,a,l){return n.baseState=a,Zf(n,dt,typeof l=="function"?l:Or)}function mS(n,i,a,l,h){if(mc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,oy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function oy(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var d=X.T,v={};X.T=v;try{var w=a(h,l),M=X.S;M!==null&&M(v,w),ly(n,i,w)}catch(G){td(n,i,G)}finally{X.T=d}}else try{d=a(h,l),ly(n,i,d)}catch(G){td(n,i,G)}}function ly(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){uy(n,i,l)},function(l){return td(n,i,l)}):uy(n,i,a)}function uy(n,i,a){i.status="fulfilled",i.value=a,cy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,oy(n,a)))}function td(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,cy(i),i=i.next;while(i!==l)}n.action=null}function cy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function hy(n,i){return i}function fy(n,i){if(ot){var a=_t.formState;if(a!==null){e:{var l=Fe;if(ot){if(Ct){t:{for(var h=Ct,d=Gi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Mi(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ct=Mi(h.nextSibling),l=h.data==="F!";break e}}_a(l)}l=!1}l&&(i=a[0])}}return a=kn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:i},a.queue=l,a=Dy.bind(null,Fe,l),l.dispatch=a,l=ed(!1),d=ad.bind(null,Fe,!1,l.queue),l=kn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=mS.bind(null,Fe,h,d,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function dy(n){var i=Bt();return my(i,dt,n)}function my(n,i,a){if(i=Zf(n,i,hy)[0],n=hc(Or)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Sl(i)}catch(v){throw v===_l?sc:v}else l=i;i=Bt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Fe.flags|=2048,mo(9,fc(),pS.bind(null,h,a),null)),[l,d,n]}function pS(n,i){n.action=i}function py(n){var i=Bt(),a=dt;if(a!==null)return my(i,a,n);Bt(),i=i.memoizedState,a=Bt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function mo(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Fe.updateQueue,i===null&&(i=Wf(),Fe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function fc(){return{destroy:void 0,resource:void 0}}function gy(){return Bt().memoizedState}function dc(n,i,a,l){var h=kn();l=l===void 0?null:l,Fe.flags|=n,h.memoizedState=mo(1|i,fc(),a,l)}function Al(n,i,a,l){var h=Bt();l=l===void 0?null:l;var d=h.memoizedState.inst;dt!==null&&l!==null&&Gf(l,dt.memoizedState.deps)?h.memoizedState=mo(i,d,a,l):(Fe.flags|=n,h.memoizedState=mo(1|i,d,a,l))}function yy(n,i){dc(8390656,8,n,i)}function _y(n,i){Al(2048,8,n,i)}function vy(n,i){return Al(4,2,n,i)}function Ey(n,i){return Al(4,4,n,i)}function Ty(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function wy(n,i,a){a=a!=null?a.concat([n]):null,Al(4,4,Ty.bind(null,i,n),a)}function nd(){}function by(n,i){var a=Bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Gf(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Sy(n,i){var a=Bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Gf(i,l[1]))return l[0];if(l=n(),wa){Se(!0);try{n()}finally{Se(!1)}}return a.memoizedState=[l,i],l}function id(n,i,a){return a===void 0||(ps&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=I_(),Fe.lanes|=n,ws|=n,a)}function Ay(n,i,a,l){return Hn(a,i)?a:co.current!==null?(n=id(n,a,l),Hn(n,i)||(Zt=!0),n):(ps&42)===0?(Zt=!0,n.memoizedState=a):(n=I_(),Fe.lanes|=n,ws|=n,i)}function Ry(n,i,a,l,h){var d=he.p;he.p=d!==0&&8>d?d:8;var v=X.T,w={};X.T=w,ad(n,!1,i,a);try{var M=h(),G=X.S;if(G!==null&&G(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ee=hS(M,l);Rl(n,i,ee,Qn(n))}else Rl(n,i,l,Qn(n))}catch(ie){Rl(n,i,{then:function(){},status:"rejected",reason:ie},Qn())}finally{he.p=d,X.T=v}}function gS(){}function rd(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=Iy(n).queue;Ry(n,h,i,ge,a===null?gS:function(){return Cy(n),a(l)})}function Iy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Cy(n){var i=Iy(n).next.queue;Rl(n,i,{},Qn())}function sd(){return mn(Fl)}function Oy(){return Bt().memoizedState}function Ny(){return Bt().memoizedState}function yS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Qn();n=ds(a);var l=ms(i,n,a);l!==null&&(Yn(l,i,a),El(l,i,a)),i={cache:Vf()},n.payload=i;return}i=i.return}}function _S(n,i,a){var l=Qn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mc(n)?ky(i,a):(a=Af(n,i,a,l),a!==null&&(Yn(a,n,l),My(a,i,l)))}function Dy(n,i,a){var l=Qn();Rl(n,i,a,l)}function Rl(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(n))ky(i,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,w=d(v,a);if(h.hasEagerState=!0,h.eagerState=w,Hn(w,v))return Xu(n,i,h,0),_t===null&&Wu(),!1}catch{}finally{}if(a=Af(n,i,h,l),a!==null)return Yn(a,n,l),My(a,i,l),!0}return!1}function ad(n,i,a,l){if(l={lane:2,revertLane:Ld(),action:l,hasEagerState:!1,eagerState:null,next:null},mc(n)){if(i)throw Error(s(479))}else i=Af(n,a,l,2),i!==null&&Yn(i,n,2)}function mc(n){var i=n.alternate;return n===Fe||i!==null&&i===Fe}function ky(n,i){ho=lc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function My(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,is(n,a)}}var pc={readContext:mn,use:cc,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},Py={readContext:mn,use:cc,useCallback:function(n,i){return kn().memoizedState=[n,i===void 0?null:i],n},useContext:mn,useEffect:yy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,dc(4194308,4,Ty.bind(null,i,n),a)},useLayoutEffect:function(n,i){return dc(4194308,4,n,i)},useInsertionEffect:function(n,i){dc(4,2,n,i)},useMemo:function(n,i){var a=kn();i=i===void 0?null:i;var l=n();if(wa){Se(!0);try{n()}finally{Se(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=kn();if(a!==void 0){var h=a(i);if(wa){Se(!0);try{a(i)}finally{Se(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=_S.bind(null,Fe,n),[l.memoizedState,n]},useRef:function(n){var i=kn();return n={current:n},i.memoizedState=n},useState:function(n){n=ed(n);var i=n.queue,a=Dy.bind(null,Fe,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(n,i){var a=kn();return id(a,n,i)},useTransition:function(){var n=ed(!1);return n=Ry.bind(null,Fe,n.queue,!0,!1),kn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Fe,h=kn();if(ot){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),_t===null)throw Error(s(349));(tt&124)!==0||ty(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,yy(iy.bind(null,l,d,n),[n]),l.flags|=2048,mo(9,fc(),ny.bind(null,l,d,a,i),null),a},useId:function(){var n=kn(),i=_t.identifierPrefix;if(ot){var a=Rr,l=Ar;a=(l&~(1<<32-xe(l)-1)).toString(32)+a,i=""+i+"R"+a,a=uc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=fS++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:sd,useFormState:fy,useActionState:fy,useOptimistic:function(n){var i=kn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ad.bind(null,Fe,!0,a),a.dispatch=i,[n,i]},useMemoCache:Xf,useCacheRefresh:function(){return kn().memoizedState=yS.bind(null,Fe)}},Vy={readContext:mn,use:cc,useCallback:by,useContext:mn,useEffect:_y,useImperativeHandle:wy,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:Sy,useReducer:hc,useRef:gy,useState:function(){return hc(Or)},useDebugValue:nd,useDeferredValue:function(n,i){var a=Bt();return Ay(a,dt.memoizedState,n,i)},useTransition:function(){var n=hc(Or)[0],i=Bt().memoizedState;return[typeof n=="boolean"?n:Sl(n),i]},useSyncExternalStore:ey,useId:Oy,useHostTransitionStatus:sd,useFormState:dy,useActionState:dy,useOptimistic:function(n,i){var a=Bt();return ay(a,dt,n,i)},useMemoCache:Xf,useCacheRefresh:Ny},vS={readContext:mn,use:cc,useCallback:by,useContext:mn,useEffect:_y,useImperativeHandle:wy,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:Sy,useReducer:Jf,useRef:gy,useState:function(){return Jf(Or)},useDebugValue:nd,useDeferredValue:function(n,i){var a=Bt();return dt===null?id(a,n,i):Ay(a,dt.memoizedState,n,i)},useTransition:function(){var n=Jf(Or)[0],i=Bt().memoizedState;return[typeof n=="boolean"?n:Sl(n),i]},useSyncExternalStore:ey,useId:Oy,useHostTransitionStatus:sd,useFormState:py,useActionState:py,useOptimistic:function(n,i){var a=Bt();return dt!==null?ay(a,dt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:Ny},po=null,Il=0;function gc(n){var i=Il;return Il+=1,po===null&&(po=[]),$g(po,n,i)}function Cl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function yc(n,i){throw i.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function xy(n){var i=n._init;return i(n._payload)}function Uy(n){function i(j,L){if(n){var F=j.deletions;F===null?(j.deletions=[L],j.flags|=16):F.push(L)}}function a(j,L){if(!n)return null;for(;L!==null;)i(j,L),L=L.sibling;return null}function l(j){for(var L=new Map;j!==null;)j.key!==null?L.set(j.key,j):L.set(j.index,j),j=j.sibling;return L}function h(j,L){return j=Sr(j,L),j.index=0,j.sibling=null,j}function d(j,L,F){return j.index=F,n?(F=j.alternate,F!==null?(F=F.index,F<L?(j.flags|=67108866,L):F):(j.flags|=67108866,L)):(j.flags|=1048576,L)}function v(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function w(j,L,F,ne){return L===null||L.tag!==6?(L=If(F,j.mode,ne),L.return=j,L):(L=h(L,F),L.return=j,L)}function M(j,L,F,ne){var Te=F.type;return Te===S?ee(j,L,F.props.children,ne,F.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&xy(Te)===L.type)?(L=h(L,F.props),Cl(L,F),L.return=j,L):(L=Ju(F.type,F.key,F.props,null,j.mode,ne),Cl(L,F),L.return=j,L)}function G(j,L,F,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Cf(F,j.mode,ne),L.return=j,L):(L=h(L,F.children||[]),L.return=j,L)}function ee(j,L,F,ne,Te){return L===null||L.tag!==7?(L=ma(F,j.mode,ne,Te),L.return=j,L):(L=h(L,F),L.return=j,L)}function ie(j,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=If(""+L,j.mode,F),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return F=Ju(L.type,L.key,L.props,null,j.mode,F),Cl(F,L),F.return=j,F;case R:return L=Cf(L,j.mode,F),L.return=j,L;case I:var ne=L._init;return L=ne(L._payload),ie(j,L,F)}if(We(L)||z(L))return L=ma(L,j.mode,F,null),L.return=j,L;if(typeof L.then=="function")return ie(j,gc(L),F);if(L.$$typeof===$)return ie(j,ic(j,L),F);yc(j,L)}return null}function Q(j,L,F,ne){var Te=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Te!==null?null:w(j,L,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===Te?M(j,L,F,ne):null;case R:return F.key===Te?G(j,L,F,ne):null;case I:return Te=F._init,F=Te(F._payload),Q(j,L,F,ne)}if(We(F)||z(F))return Te!==null?null:ee(j,L,F,ne,null);if(typeof F.then=="function")return Q(j,L,gc(F),ne);if(F.$$typeof===$)return Q(j,L,ic(j,F),ne);yc(j,F)}return null}function W(j,L,F,ne,Te){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return j=j.get(F)||null,w(L,j,""+ne,Te);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return j=j.get(ne.key===null?F:ne.key)||null,M(L,j,ne,Te);case R:return j=j.get(ne.key===null?F:ne.key)||null,G(L,j,ne,Te);case I:var $e=ne._init;return ne=$e(ne._payload),W(j,L,F,ne,Te)}if(We(ne)||z(ne))return j=j.get(F)||null,ee(L,j,ne,Te,null);if(typeof ne.then=="function")return W(j,L,F,gc(ne),Te);if(ne.$$typeof===$)return W(j,L,F,ic(L,ne),Te);yc(L,ne)}return null}function Pe(j,L,F,ne){for(var Te=null,$e=null,Re=L,ke=L=0,en=null;Re!==null&&ke<F.length;ke++){Re.index>ke?(en=Re,Re=null):en=Re.sibling;var it=Q(j,Re,F[ke],ne);if(it===null){Re===null&&(Re=en);break}n&&Re&&it.alternate===null&&i(j,Re),L=d(it,L,ke),$e===null?Te=it:$e.sibling=it,$e=it,Re=en}if(ke===F.length)return a(j,Re),ot&&ga(j,ke),Te;if(Re===null){for(;ke<F.length;ke++)Re=ie(j,F[ke],ne),Re!==null&&(L=d(Re,L,ke),$e===null?Te=Re:$e.sibling=Re,$e=Re);return ot&&ga(j,ke),Te}for(Re=l(Re);ke<F.length;ke++)en=W(Re,j,ke,F[ke],ne),en!==null&&(n&&en.alternate!==null&&Re.delete(en.key===null?ke:en.key),L=d(en,L,ke),$e===null?Te=en:$e.sibling=en,$e=en);return n&&Re.forEach(function(Ds){return i(j,Ds)}),ot&&ga(j,ke),Te}function De(j,L,F,ne){if(F==null)throw Error(s(151));for(var Te=null,$e=null,Re=L,ke=L=0,en=null,it=F.next();Re!==null&&!it.done;ke++,it=F.next()){Re.index>ke?(en=Re,Re=null):en=Re.sibling;var Ds=Q(j,Re,it.value,ne);if(Ds===null){Re===null&&(Re=en);break}n&&Re&&Ds.alternate===null&&i(j,Re),L=d(Ds,L,ke),$e===null?Te=Ds:$e.sibling=Ds,$e=Ds,Re=en}if(it.done)return a(j,Re),ot&&ga(j,ke),Te;if(Re===null){for(;!it.done;ke++,it=F.next())it=ie(j,it.value,ne),it!==null&&(L=d(it,L,ke),$e===null?Te=it:$e.sibling=it,$e=it);return ot&&ga(j,ke),Te}for(Re=l(Re);!it.done;ke++,it=F.next())it=W(Re,j,ke,it.value,ne),it!==null&&(n&&it.alternate!==null&&Re.delete(it.key===null?ke:it.key),L=d(it,L,ke),$e===null?Te=it:$e.sibling=it,$e=it);return n&&Re.forEach(function(EA){return i(j,EA)}),ot&&ga(j,ke),Te}function pt(j,L,F,ne){if(typeof F=="object"&&F!==null&&F.type===S&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:e:{for(var Te=F.key;L!==null;){if(L.key===Te){if(Te=F.type,Te===S){if(L.tag===7){a(j,L.sibling),ne=h(L,F.props.children),ne.return=j,j=ne;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&xy(Te)===L.type){a(j,L.sibling),ne=h(L,F.props),Cl(ne,F),ne.return=j,j=ne;break e}a(j,L);break}else i(j,L);L=L.sibling}F.type===S?(ne=ma(F.props.children,j.mode,ne,F.key),ne.return=j,j=ne):(ne=Ju(F.type,F.key,F.props,null,j.mode,ne),Cl(ne,F),ne.return=j,j=ne)}return v(j);case R:e:{for(Te=F.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(j,L.sibling),ne=h(L,F.children||[]),ne.return=j,j=ne;break e}else{a(j,L);break}else i(j,L);L=L.sibling}ne=Cf(F,j.mode,ne),ne.return=j,j=ne}return v(j);case I:return Te=F._init,F=Te(F._payload),pt(j,L,F,ne)}if(We(F))return Pe(j,L,F,ne);if(z(F)){if(Te=z(F),typeof Te!="function")throw Error(s(150));return F=Te.call(F),De(j,L,F,ne)}if(typeof F.then=="function")return pt(j,L,gc(F),ne);if(F.$$typeof===$)return pt(j,L,ic(j,F),ne);yc(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(a(j,L.sibling),ne=h(L,F),ne.return=j,j=ne):(a(j,L),ne=If(F,j.mode,ne),ne.return=j,j=ne),v(j)):a(j,L)}return function(j,L,F,ne){try{Il=0;var Te=pt(j,L,F,ne);return po=null,Te}catch(Re){if(Re===_l||Re===sc)throw Re;var $e=Fn(29,Re,null,j.mode);return $e.lanes=ne,$e.return=j,$e}finally{}}}var go=Uy(!0),Ly=Uy(!1),fi=te(null),$i=null;function gs(n){var i=n.alternate;ce($t,$t.current&1),ce(fi,n),$i===null&&(i===null||co.current!==null||i.memoizedState!==null)&&($i=n)}function By(n){if(n.tag===22){if(ce($t,$t.current),ce(fi,n),$i===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&($i=n)}}else ys()}function ys(){ce($t,$t.current),ce(fi,fi.current)}function Nr(n){de(fi),$i===n&&($i=null),de($t)}var $t=te(0);function _c(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Wd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function od(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ld={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Qn(),h=ds(l);h.payload=i,a!=null&&(h.callback=a),i=ms(n,h,l),i!==null&&(Yn(i,n,l),El(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Qn(),h=ds(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ms(n,h,l),i!==null&&(Yn(i,n,l),El(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Qn(),l=ds(a);l.tag=2,i!=null&&(l.callback=i),i=ms(n,l,a),i!==null&&(Yn(i,n,a),El(i,n,a))}};function zy(n,i,a,l,h,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!cl(a,l)||!cl(h,d):!0}function jy(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&ld.enqueueReplaceState(i,i.state,null)}function ba(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=E({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function qy(n){vc(n)}function Hy(n){console.error(n)}function Fy(n){vc(n)}function Ec(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Gy(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ud(n,i,a){return a=ds(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(n,i)},a}function $y(n){return n=ds(n),n.tag=3,n}function Ky(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){Gy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Gy(i,a,l),typeof h!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function ES(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&pl(i,a,h,!0),a=fi.current,a!==null){switch(a.tag){case 13:return $i===null?Md():a.alternate===null&&Ot===0&&(Ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Lf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(n,l,h)),!1;case 22:return a.flags|=65536,l===Lf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(n,l,h)),!1}throw Error(s(435,a.tag))}return Vd(n,l,h),Md(),!1}if(ot)return i=fi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Df&&(n=Error(s(422),{cause:l}),ml(li(n,a)))):(l!==Df&&(i=Error(s(423),{cause:l}),ml(li(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=li(l,a),h=ud(n.stateNode,l,h),jf(n,h),Ot!==4&&(Ot=2)),!1;var d=Error(s(520),{cause:l});if(d=li(d,a),Vl===null?Vl=[d]:Vl.push(d),Ot!==4&&(Ot=2),i===null)return!0;l=li(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=ud(a.stateNode,l,n),jf(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(bs===null||!bs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$y(h),Ky(h,n,a,l),jf(a,h),!1}a=a.return}while(a!==null);return!1}var Qy=Error(s(461)),Zt=!1;function on(n,i,a,l){i.child=n===null?Ly(i,null,a,l):go(i,n.child,a,l)}function Yy(n,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Ea(i),l=$f(n,i,a,v,d,h),w=Kf(),n!==null&&!Zt?(Qf(n,i,h),Dr(n,i,h)):(ot&&w&&Of(i),i.flags|=1,on(n,i,l,h),i.child)}function Wy(n,i,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!Rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Xy(n,i,d,l,h)):(n=Ju(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!yd(n,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(v,l)&&n.ref===i.ref)return Dr(n,i,h)}return i.flags|=1,n=Sr(d,l),n.ref=i.ref,n.return=i,i.child=n}function Xy(n,i,a,l,h){if(n!==null){var d=n.memoizedProps;if(cl(d,l)&&n.ref===i.ref)if(Zt=!1,i.pendingProps=l=d,yd(n,h))(n.flags&131072)!==0&&(Zt=!0);else return i.lanes=n.lanes,Dr(n,i,h)}return cd(n,i,a,l,h)}function Zy(n,i,a){var l=i.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=i.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Jy(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&rc(i,d!==null?d.cachePool:null),d!==null?Xg(i,d):Hf(),By(i);else return i.lanes=i.childLanes=536870912,Jy(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(rc(i,d.cachePool),Xg(i,d),ys(),i.memoizedState=null):(n!==null&&rc(i,null),Hf(),ys());return on(n,i,h,a),i.child}function Jy(n,i,a,l){var h=Uf();return h=h===null?null:{parent:Gt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&rc(i,null),Hf(),By(i),n!==null&&pl(n,i,l,!0),null}function Tc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function cd(n,i,a,l,h){return Ea(i),a=$f(n,i,a,l,void 0,h),l=Kf(),n!==null&&!Zt?(Qf(n,i,h),Dr(n,i,h)):(ot&&l&&Of(i),i.flags|=1,on(n,i,a,h),i.child)}function e_(n,i,a,l,h,d){return Ea(i),i.updateQueue=null,a=Jg(i,l,a,h),Zg(n),l=Kf(),n!==null&&!Zt?(Qf(n,i,d),Dr(n,i,d)):(ot&&l&&Of(i),i.flags|=1,on(n,i,a,d),i.child)}function t_(n,i,a,l,h){if(Ea(i),i.stateNode===null){var d=so,v=a.contextType;typeof v=="object"&&v!==null&&(d=mn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ld,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?mn(v):so,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(od(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ld.enqueueReplaceState(d,d.state,null),wl(i,l,d,h),Tl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var w=i.memoizedProps,M=ba(a,w);d.props=M;var G=d.context,ee=a.contextType;v=so,typeof ee=="object"&&ee!==null&&(v=mn(ee));var ie=a.getDerivedStateFromProps;ee=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||G!==v)&&jy(i,d,l,v),fs=!1;var Q=i.memoizedState;d.state=Q,wl(i,l,d,h),Tl(),G=i.memoizedState,w||Q!==G||fs?(typeof ie=="function"&&(od(i,a,ie,l),G=i.memoizedState),(M=fs||zy(i,a,M,l,Q,G,v))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=v,l=M):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,zf(n,i),v=i.memoizedProps,ee=ba(a,v),d.props=ee,ie=i.pendingProps,Q=d.context,G=a.contextType,M=so,typeof G=="object"&&G!==null&&(M=mn(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ie||Q!==M)&&jy(i,d,l,M),fs=!1,Q=i.memoizedState,d.state=Q,wl(i,l,d,h),Tl();var W=i.memoizedState;v!==ie||Q!==W||fs||n!==null&&n.dependencies!==null&&nc(n.dependencies)?(typeof w=="function"&&(od(i,a,w,l),W=i.memoizedState),(ee=fs||zy(i,a,ee,l,Q,W,M)||n!==null&&n.dependencies!==null&&nc(n.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,M)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),d.props=l,d.state=W,d.context=M,l=ee):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=go(i,n.child,null,h),i.child=go(i,null,a,h)):on(n,i,a,h),i.memoizedState=d.state,n=i.child):n=Dr(n,i,h),n}function n_(n,i,a,l){return dl(),i.flags|=256,on(n,i,a,l),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(n){return{baseLanes:n,cachePool:Hg()}}function dd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=di),n}function i_(n,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:($t.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,n===null){if(ot){if(h?gs(i):ys(),ot){var w=Ct,M;if(M=w){e:{for(M=w,w=Gi;M.nodeType!==8;){if(!w){w=null;break e}if(M=Mi(M.nextSibling),M===null){w=null;break e}}w=M}w!==null?(i.memoizedState={dehydrated:w,treeContext:pa!==null?{id:Ar,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},M=Fn(18,null,null,0),M.stateNode=w,M.return=i,i.child=M,An=i,Ct=null,M=!0):M=!1}M||_a(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Wd(w)?i.lanes=32:i.lanes=536870912,null;Nr(i)}return w=l.children,l=l.fallback,h?(ys(),h=i.mode,w=wc({mode:"hidden",children:w},h),l=ma(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=fd(a),h.childLanes=dd(n,v,a),i.memoizedState=hd,l):(gs(i),md(i,w))}if(M=n.memoizedState,M!==null&&(w=M.dehydrated,w!==null)){if(d)i.flags&256?(gs(i),i.flags&=-257,i=pd(n,i,a)):i.memoizedState!==null?(ys(),i.child=n.child,i.flags|=128,i=null):(ys(),h=l.fallback,w=i.mode,l=wc({mode:"visible",children:l.children},w),h=ma(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,go(i,n.child,null,a),l=i.child,l.memoizedState=fd(a),l.childLanes=dd(n,v,a),i.memoizedState=hd,i=h);else if(gs(i),Wd(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(s(419)),l.stack="",l.digest=v,ml({value:l,source:null,stack:null}),i=pd(n,i,a)}else if(Zt||pl(n,i,a,!1),v=(a&n.childLanes)!==0,Zt||v){if(v=_t,v!==null&&(l=a&-a,l=(l&42)!==0?1:Ei(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==M.retryLane))throw M.retryLane=l,ro(n,l),Yn(v,n,l),Qy;w.data==="$?"||Md(),i=pd(n,i,a)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=M.treeContext,Ct=Mi(w.nextSibling),An=i,ot=!0,ya=null,Gi=!1,n!==null&&(ci[hi++]=Ar,ci[hi++]=Rr,ci[hi++]=pa,Ar=n.id,Rr=n.overflow,pa=i),i=md(i,l.children),i.flags|=4096);return i}return h?(ys(),h=l.fallback,w=i.mode,M=n.child,G=M.sibling,l=Sr(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,G!==null?h=Sr(G,h):(h=ma(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=n.child.memoizedState,w===null?w=fd(a):(M=w.cachePool,M!==null?(G=Gt._currentValue,M=M.parent!==G?{parent:G,pool:G}:M):M=Hg(),w={baseLanes:w.baseLanes|a,cachePool:M}),h.memoizedState=w,h.childLanes=dd(n,v,a),i.memoizedState=hd,l):(gs(i),a=n.child,n=a.sibling,a=Sr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(v=i.deletions,v===null?(i.deletions=[n],i.flags|=16):v.push(n)),i.child=a,i.memoizedState=null,a)}function md(n,i){return i=wc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function wc(n,i){return n=Fn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function pd(n,i,a){return go(i,n.child,null,a),n=md(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function r_(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Mf(n.return,i,a)}function gd(n,i,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function s_(n,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(on(n,i,l.children,a),l=$t.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&r_(n,a,i);else if(n.tag===19)r_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ce($t,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&_c(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),gd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&_c(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}gd(i,!0,a,null,d);break;case"together":gd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Dr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ws|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(pl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Sr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Sr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function yd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&nc(n)))}function TS(n,i,a){switch(i.tag){case 3:rt(i,i.stateNode.containerInfo),hs(i,Gt,n.memoizedState.cache),dl();break;case 27:case 5:Un(i);break;case 4:rt(i,i.stateNode.containerInfo);break;case 10:hs(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(gs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?i_(n,i,a):(gs(i),n=Dr(n,i,a),n!==null?n.sibling:null);gs(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(pl(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return s_(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce($t,$t.current),l)break;return null;case 22:case 23:return i.lanes=0,Zy(n,i,a);case 24:hs(i,Gt,n.memoizedState.cache)}return Dr(n,i,a)}function a_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Zt=!0;else{if(!yd(n,a)&&(i.flags&128)===0)return Zt=!1,TS(n,i,a);Zt=(n.flags&131072)!==0}else Zt=!1,ot&&(i.flags&1048576)!==0&&xg(i,tc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Rf(l)?(n=ba(l,n),i.tag=1,i=t_(null,i,l,n,a)):(i.tag=0,i=cd(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===oe){i.tag=11,i=Yy(null,i,l,n,a);break e}else if(h===U){i.tag=14,i=Wy(null,i,l,n,a);break e}}throw i=Ze(l)||l,Error(s(306,i,""))}}return i;case 0:return cd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ba(l,i.pendingProps),t_(n,i,l,h,a);case 3:e:{if(rt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,zf(n,i),wl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,hs(i,Gt,l),l!==d.cache&&Pf(i,[Gt],a,!0),Tl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=n_(n,i,l,a);break e}else if(l!==h){h=li(Error(s(424)),i),ml(h),i=n_(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ct=Mi(n.firstChild),An=i,ot=!0,ya=null,Gi=!0,a=Ly(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(dl(),l===h){i=Dr(n,i,a);break e}on(n,i,l,a)}i=i.child}return i;case 26:return Tc(n,i),n===null?(a=cv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ot||(a=i.type,n=i.pendingProps,l=xc(Oe.current).createElement(a),l[Rt]=i,l[at]=n,un(l,a,n),Tt(l),i.stateNode=l):i.memoizedState=cv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Un(i),n===null&&ot&&(l=i.stateNode=ov(i.type,i.pendingProps,Oe.current),An=i,Gi=!0,h=Ct,Rs(i.type)?(Xd=h,Ct=Mi(l.firstChild)):Ct=h),on(n,i,i.pendingProps.children,a),Tc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ot&&((h=l=Ct)&&(l=YS(l,i.type,i.pendingProps,Gi),l!==null?(i.stateNode=l,An=i,Ct=Mi(l.firstChild),Gi=!1,h=!0):h=!1),h||_a(i)),Un(i),h=i.type,d=i.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,Kd(h,d)?l=null:v!==null&&Kd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=$f(n,i,dS,null,null,a),Fl._currentValue=h),Tc(n,i),on(n,i,l,a),i.child;case 6:return n===null&&ot&&((n=a=Ct)&&(a=WS(a,i.pendingProps,Gi),a!==null?(i.stateNode=a,An=i,Ct=null,n=!0):n=!1),n||_a(i)),null;case 13:return i_(n,i,a);case 4:return rt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=go(i,null,l,a):on(n,i,l,a),i.child;case 11:return Yy(n,i,i.type,i.pendingProps,a);case 7:return on(n,i,i.pendingProps,a),i.child;case 8:return on(n,i,i.pendingProps.children,a),i.child;case 12:return on(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,hs(i,i.type,l.value),on(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ea(i),h=mn(h),l=l(h),i.flags|=1,on(n,i,l,a),i.child;case 14:return Wy(n,i,i.type,i.pendingProps,a);case 15:return Xy(n,i,i.type,i.pendingProps,a);case 19:return s_(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=wc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Sr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Zy(n,i,a);case 24:return Ea(i),l=mn(Gt),n===null?(h=Uf(),h===null&&(h=_t,d=Vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Bf(i),hs(i,Gt,h)):((n.lanes&a)!==0&&(zf(n,i),wl(i,null,null,a),Tl()),h=n.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),hs(i,Gt,l)):(l=d.cache,hs(i,Gt,l),l!==h.cache&&Pf(i,[Gt],a,!0))),on(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function kr(n){n.flags|=4}function o_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!pv(i)){if(i=fi.current,i!==null&&((tt&4194048)===tt?$i!==null:(tt&62914560)!==tt&&(tt&536870912)===0||i!==$i))throw vl=Lf,Fg;n.flags|=8192}}function bc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?ts():536870912,n.lanes|=i,Eo|=i)}function Ol(n,i){if(!ot)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function bt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function wS(n,i,a){var l=i.pendingProps;switch(Nf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(i),null;case 1:return bt(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Cr(Gt),dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(fl(i)?kr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bg())),bt(i),null;case 26:return a=i.memoizedState,n===null?(kr(i),a!==null?(bt(i),o_(i,a)):(bt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(kr(i),bt(i),o_(i,a)):(bt(i),i.flags&=-16777217):(n.memoizedProps!==l&&kr(i),bt(i),i.flags&=-16777217),null;case 27:Rn(i),a=Oe.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&kr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return bt(i),null}n=Ae.current,fl(i)?Ug(i):(n=ov(h,l,a),i.stateNode=n,kr(i))}return bt(i),null;case 5:if(Rn(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&kr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return bt(i),null}if(n=Ae.current,fl(i))Ug(i);else{switch(h=xc(Oe.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Rt]=i,n[at]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(un(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&kr(i)}}return bt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&kr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Oe.current,fl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=An,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Rt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ev(n.nodeValue,a)),n||_a(i)}else n=xc(n).createTextNode(l),n[Rt]=i,i.stateNode=n}return bt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=fl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Rt]=i}else dl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),h=!1}else h=Bg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Nr(i),i):(Nr(i),null)}if(Nr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),bt(i),null;case 4:return dn(),n===null&&qd(i.stateNode.containerInfo),bt(i),null;case 10:return Cr(i.type),bt(i),null;case 19:if(de($t),h=i.memoizedState,h===null)return bt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ol(h,!1);else{if(Ot!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=_c(n),d!==null){for(i.flags|=128,Ol(h,!1),n=d.updateQueue,i.updateQueue=n,bc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Vg(a,n),a=a.sibling;return ce($t,$t.current&1|2),i.child}n=n.sibling}h.tail!==null&&qt()>Rc&&(i.flags|=128,l=!0,Ol(h,!1),i.lanes=4194304)}else{if(!l)if(n=_c(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,bc(i,n),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ot)return bt(i),null}else 2*qt()-h.renderingStartTime>Rc&&a!==536870912&&(i.flags|=128,l=!0,Ol(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(n=h.last,n!==null?n.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=qt(),i.sibling=null,n=$t.current,ce($t,l?n&1|2:n&1),i):(bt(i),null);case 22:case 23:return Nr(i),Ff(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(bt(i),i.subtreeFlags&6&&(i.flags|=8192)):bt(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&de(Ta),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Cr(Gt),bt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function bS(n,i){switch(Nf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Cr(Gt),dn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Rn(i),null;case 13:if(Nr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));dl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return de($t),null;case 4:return dn(),null;case 10:return Cr(i.type),null;case 22:case 23:return Nr(i),Ff(),n!==null&&de(Ta),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Cr(Gt),null;case 25:return null;default:return null}}function l_(n,i){switch(Nf(i),i.tag){case 3:Cr(Gt),dn();break;case 26:case 27:case 5:Rn(i);break;case 4:dn();break;case 13:Nr(i);break;case 19:de($t);break;case 10:Cr(i.type);break;case 22:case 23:Nr(i),Ff(),n!==null&&de(Ta);break;case 24:Cr(Gt)}}function Nl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(w){gt(i,i.return,w)}}function _s(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,h=i;var M=a,G=w;try{G()}catch(ee){gt(h,M,ee)}}}l=l.next}while(l!==d)}}catch(ee){gt(i,i.return,ee)}}function u_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Wg(i,a)}catch(l){gt(n,n.return,l)}}}function c_(n,i,a){a.props=ba(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){gt(n,i,l)}}function Dl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){gt(n,i,h)}}function Ki(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){gt(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){gt(n,i,h)}else a.current=null}function h_(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){gt(n,n.return,h)}}function _d(n,i,a){try{var l=n.stateNode;FS(l,n.type,a,i),l[at]=i}catch(h){gt(n,n.return,h)}}function f_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Rs(n.type)||n.tag===4}function vd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||f_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Rs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ed(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Vc));else if(l!==4&&(l===27&&Rs(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Ed(n,i,a),n=n.sibling;n!==null;)Ed(n,i,a),n=n.sibling}function Sc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Rs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Sc(n,i,a),n=n.sibling;n!==null;)Sc(n,i,a),n=n.sibling}function d_(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);un(i,l,a),i[Rt]=n,i[at]=a}catch(d){gt(n,n.return,d)}}var Mr=!1,Mt=!1,Td=!1,m_=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function SS(n,i){if(n=n.containerInfo,Gd=qc,n=Ag(n),vf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,M=-1,G=0,ee=0,ie=n,Q=null;t:for(;;){for(var W;ie!==a||h!==0&&ie.nodeType!==3||(w=v+h),ie!==d||l!==0&&ie.nodeType!==3||(M=v+l),ie.nodeType===3&&(v+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Q=ie,ie=W;for(;;){if(ie===n)break t;if(Q===a&&++G===h&&(w=v),Q===d&&++ee===l&&(M=v),(W=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=W}a=w===-1||M===-1?null:{start:w,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:n,selectionRange:a},qc=!1,Jt=i;Jt!==null;)if(i=Jt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Jt=n;else for(;Jt!==null;){switch(i=Jt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Pe=ba(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Pe,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(De){gt(a,a.return,De)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Yd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Yd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Jt=n;break}Jt=i.return}}function p_(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vs(n,a),l&4&&Nl(5,a);break;case 1:if(vs(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(v){gt(a,a.return,v)}else{var h=ba(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(v){gt(a,a.return,v)}}l&64&&u_(a),l&512&&Dl(a,a.return);break;case 3:if(vs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wg(n,i)}catch(v){gt(a,a.return,v)}}break;case 27:i===null&&l&4&&d_(a);case 26:case 5:vs(n,a),i===null&&l&4&&h_(a),l&512&&Dl(a,a.return);break;case 12:vs(n,a);break;case 13:vs(n,a),l&4&&__(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=MS.bind(null,a),XS(n,a))));break;case 22:if(l=a.memoizedState!==null||Mr,!l){i=i!==null&&i.memoizedState!==null||Mt,h=Mr;var d=Mt;Mr=l,(Mt=i)&&!d?Es(n,a,(a.subtreeFlags&8772)!==0):vs(n,a),Mr=h,Mt=d}break;case 30:break;default:vs(n,a)}}function g_(n){var i=n.alternate;i!==null&&(n.alternate=null,g_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&bi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var wt=null,Mn=!1;function Pr(n,i,a){for(a=a.child;a!==null;)y_(n,i,a),a=a.sibling}function y_(n,i,a){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(be,a)}catch{}switch(a.tag){case 26:Mt||Ki(a,i),Pr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Ki(a,i);var l=wt,h=Mn;Rs(a.type)&&(wt=a.stateNode,Mn=!1),Pr(n,i,a),zl(a.stateNode),wt=l,Mn=h;break;case 5:Mt||Ki(a,i);case 6:if(l=wt,h=Mn,wt=null,Pr(n,i,a),wt=l,Mn=h,wt!==null)if(Mn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(a.stateNode)}catch(d){gt(a,i,d)}else try{wt.removeChild(a.stateNode)}catch(d){gt(a,i,d)}break;case 18:wt!==null&&(Mn?(n=wt,sv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ql(n)):sv(wt,a.stateNode));break;case 4:l=wt,h=Mn,wt=a.stateNode.containerInfo,Mn=!0,Pr(n,i,a),wt=l,Mn=h;break;case 0:case 11:case 14:case 15:Mt||_s(2,a,i),Mt||_s(4,a,i),Pr(n,i,a);break;case 1:Mt||(Ki(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&c_(a,i,l)),Pr(n,i,a);break;case 21:Pr(n,i,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,Pr(n,i,a),Mt=l;break;default:Pr(n,i,a)}}function __(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ql(n)}catch(a){gt(i,i.return,a)}}function AS(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new m_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new m_),i;default:throw Error(s(435,n.tag))}}function wd(n,i){var a=AS(n);i.forEach(function(l){var h=PS.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Gn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,v=i,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Rs(w.type)){wt=w.stateNode,Mn=!1;break e}break;case 5:wt=w.stateNode,Mn=!1;break e;case 3:case 4:wt=w.stateNode.containerInfo,Mn=!0;break e}w=w.return}if(wt===null)throw Error(s(160));y_(d,v,h),wt=null,Mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)v_(i,n),i=i.sibling}var ki=null;function v_(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gn(i,n),$n(n),l&4&&(_s(3,n,n.return),Nl(3,n),_s(5,n,n.return));break;case 1:Gn(i,n),$n(n),l&512&&(Mt||a===null||Ki(a,a.return)),l&64&&Mr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ki;if(Gn(i,n),$n(n),l&512&&(Mt||a===null||Ki(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Li]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),un(d,l,a),d[Rt]=n,Tt(d),l=d;break e;case"link":var v=dv("link","href",h).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=h.createElement(l),un(d,l,a),h.head.appendChild(d);break;case"meta":if(v=dv("meta","content",h).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=h.createElement(l),un(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=n,Tt(d),l=d}n.stateNode=l}else mv(h,n.type,n.stateNode);else n.stateNode=fv(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?mv(h,n.type,n.stateNode):fv(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&_d(n,n.memoizedProps,a.memoizedProps)}break;case 27:Gn(i,n),$n(n),l&512&&(Mt||a===null||Ki(a,a.return)),a!==null&&l&4&&_d(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Gn(i,n),$n(n),l&512&&(Mt||a===null||Ki(a,a.return)),n.flags&32){h=n.stateNode;try{On(h,"")}catch(W){gt(n,n.return,W)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,_d(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(Gn(i,n),$n(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(W){gt(n,n.return,W)}}break;case 3:if(Bc=null,h=ki,ki=Uc(i.containerInfo),Gn(i,n),ki=h,$n(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ql(i.containerInfo)}catch(W){gt(n,n.return,W)}Td&&(Td=!1,E_(n));break;case 4:l=ki,ki=Uc(n.stateNode.containerInfo),Gn(i,n),$n(n),ki=l;break;case 12:Gn(i,n),$n(n);break;case 13:Gn(i,n),$n(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cd=qt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,wd(n,l)));break;case 22:h=n.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,G=Mr,ee=Mt;if(Mr=G||h,Mt=ee||M,Gn(i,n),Mt=ee,Mr=G,$n(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||M||Mr||Mt||Sa(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(d=M.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=M.stateNode;var ie=M.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(W){gt(M,M.return,W)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(W){gt(M,M.return,W)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wd(n,a))));break;case 19:Gn(i,n),$n(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,wd(n,l)));break;case 30:break;case 21:break;default:Gn(i,n),$n(n)}}function $n(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(f_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=vd(n);Sc(n,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(On(v,""),a.flags&=-33);var w=vd(n);Sc(n,w,v);break;case 3:case 4:var M=a.stateNode.containerInfo,G=vd(n);Ed(n,G,M);break;default:throw Error(s(161))}}catch(ee){gt(n,n.return,ee)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function E_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;E_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function vs(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)p_(n,i.alternate,i),i=i.sibling}function Sa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:_s(4,i,i.return),Sa(i);break;case 1:Ki(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&c_(i,i.return,a),Sa(i);break;case 27:zl(i.stateNode);case 26:case 5:Ki(i,i.return),Sa(i);break;case 22:i.memoizedState===null&&Sa(i);break;case 30:Sa(i);break;default:Sa(i)}n=n.sibling}}function Es(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Es(h,d,a),Nl(4,d);break;case 1:if(Es(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){gt(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)Yg(M[h],w)}catch(G){gt(l,l.return,G)}}a&&v&64&&u_(d),Dl(d,d.return);break;case 27:d_(d);case 26:case 5:Es(h,d,a),a&&l===null&&v&4&&h_(d),Dl(d,d.return);break;case 12:Es(h,d,a);break;case 13:Es(h,d,a),a&&v&4&&__(h,d);break;case 22:d.memoizedState===null&&Es(h,d,a),Dl(d,d.return);break;case 30:break;default:Es(h,d,a)}i=i.sibling}}function bd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&gl(a))}function Sd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&gl(n))}function Qi(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)T_(n,i,a,l),i=i.sibling}function T_(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Qi(n,i,a,l),h&2048&&Nl(9,i);break;case 1:Qi(n,i,a,l);break;case 3:Qi(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&gl(n)));break;case 12:if(h&2048){Qi(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){gt(i,i.return,M)}}else Qi(n,i,a,l);break;case 13:Qi(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Qi(n,i,a,l):kl(n,i):d._visibility&2?Qi(n,i,a,l):(d._visibility|=2,yo(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&bd(v,i);break;case 24:Qi(n,i,a,l),h&2048&&Sd(i.alternate,i);break;default:Qi(n,i,a,l)}}function yo(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,v=i,w=a,M=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:yo(d,v,w,M,h),Nl(8,v);break;case 23:break;case 22:var ee=v.stateNode;v.memoizedState!==null?ee._visibility&2?yo(d,v,w,M,h):kl(d,v):(ee._visibility|=2,yo(d,v,w,M,h)),h&&G&2048&&bd(v.alternate,v);break;case 24:yo(d,v,w,M,h),h&&G&2048&&Sd(v.alternate,v);break;default:yo(d,v,w,M,h)}i=i.sibling}}function kl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:kl(a,l),h&2048&&bd(l.alternate,l);break;case 24:kl(a,l),h&2048&&Sd(l.alternate,l);break;default:kl(a,l)}i=i.sibling}}var Ml=8192;function _o(n){if(n.subtreeFlags&Ml)for(n=n.child;n!==null;)w_(n),n=n.sibling}function w_(n){switch(n.tag){case 26:_o(n),n.flags&Ml&&n.memoizedState!==null&&cA(ki,n.memoizedState,n.memoizedProps);break;case 5:_o(n);break;case 3:case 4:var i=ki;ki=Uc(n.stateNode.containerInfo),_o(n),ki=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ml,Ml=16777216,_o(n),Ml=i):_o(n));break;default:_o(n)}}function b_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Pl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Jt=l,A_(l,n)}b_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)S_(n),n=n.sibling}function S_(n){switch(n.tag){case 0:case 11:case 15:Pl(n),n.flags&2048&&_s(9,n,n.return);break;case 3:Pl(n);break;case 12:Pl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Ac(n)):Pl(n);break;default:Pl(n)}}function Ac(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Jt=l,A_(l,n)}b_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:_s(8,i,i.return),Ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(i));break;default:Ac(i)}n=n.sibling}}function A_(n,i){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:_s(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=n;Jt!==null;){l=Jt;var h=l.sibling,d=l.return;if(g_(l),l===a){Jt=null;break e}if(h!==null){h.return=d,Jt=h;break e}Jt=d}}}var RS={getCacheForType:function(n){var i=mn(Gt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},IS=typeof WeakMap=="function"?WeakMap:Map,ht=0,_t=null,Qe=null,tt=0,ft=0,Kn=null,Ts=!1,vo=!1,Ad=!1,Vr=0,Ot=0,ws=0,Aa=0,Rd=0,di=0,Eo=0,Vl=null,Pn=null,Id=!1,Cd=0,Rc=1/0,Ic=null,bs=null,ln=0,Ss=null,To=null,wo=0,Od=0,Nd=null,R_=null,xl=0,Dd=null;function Qn(){if((ht&2)!==0&&tt!==0)return tt&-tt;if(X.T!==null){var n=lo;return n!==0?n:Ld()}return Ti()}function I_(){di===0&&(di=(tt&536870912)===0||ot?es():536870912);var n=fi.current;return n!==null&&(n.flags|=32),di}function Yn(n,i,a){(n===_t&&(ft===2||ft===9)||n.cancelPendingCommit!==null)&&(bo(n,0),As(n,tt,di,!1)),ei(n,a),((ht&2)===0||n!==_t)&&(n===_t&&((ht&2)===0&&(Aa|=a),Ot===4&&As(n,tt,di,!1)),Yi(n))}function C_(n,i,a){if((ht&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Ui(n,i),h=l?NS(n,i):Pd(n,i,!0),d=l;do{if(h===0){vo&&!l&&As(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!CS(a)){h=Pd(n,i,!1),d=!1;continue}if(h===2){if(d=i,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var w=n;h=Vl;var M=w.current.memoizedState.isDehydrated;if(M&&(bo(w,v).flags|=256),v=Pd(w,v,!1),v!==2){if(Ad&&!M){w.errorRecoveryDisabledLanes|=d,Aa|=d,h=4;break e}d=Pn,Pn=h,d!==null&&(Pn===null?Pn=d:Pn.push.apply(Pn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){bo(n,0),As(n,i,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:As(l,i,di,!Ts);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cd+300-qt(),10<h)){if(As(l,i,di,!Ts),Cn(l,0,!0)!==0)break e;l.timeoutHandle=iv(O_.bind(null,l,a,Pn,Ic,Id,i,di,Aa,Eo,Ts,d,2,-0,0),h);break e}O_(l,a,Pn,Ic,Id,i,di,Aa,Eo,Ts,d,0,-0,0)}}break}while(!0);Yi(n)}function O_(n,i,a,l,h,d,v,w,M,G,ee,ie,Q,W){if(n.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:uA},w_(i),ie=hA(),ie!==null)){n.cancelPendingCommit=ie(x_.bind(null,n,i,d,a,l,h,v,w,M,ee,1,Q,W)),As(n,d,v,!G);return}x_(n,i,d,a,l,h,v,w,M)}function CS(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function As(n,i,a,l){i&=~Rd,i&=~Aa,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var d=31-xe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Bn(n,a,i)}function Cc(){return(ht&6)===0?(Ul(0),!1):!0}function kd(){if(Qe!==null){if(ft===0)var n=Qe.return;else n=Qe,Ir=va=null,Yf(n),po=null,Il=0,n=Qe;for(;n!==null;)l_(n.alternate,n),n=n.return;Qe=null}}function bo(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,$S(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),kd(),_t=n,Qe=a=Sr(n.current,null),tt=i,ft=0,Kn=null,Ts=!1,vo=Ui(n,i),Ad=!1,Eo=di=Rd=Aa=ws=Ot=0,Pn=Vl=null,Id=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-xe(l),d=1<<h;i|=n[h],l&=~d}return Vr=i,Wu(),a}function N_(n,i){Fe=null,X.H=pc,i===_l||i===sc?(i=Kg(),ft=3):i===Fg?(i=Kg(),ft=4):ft=i===Qy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,Qe===null&&(Ot=1,Ec(n,li(i,n.current)))}function D_(){var n=X.H;return X.H=pc,n===null?pc:n}function k_(){var n=X.A;return X.A=RS,n}function Md(){Ot=4,Ts||(tt&4194048)!==tt&&fi.current!==null||(vo=!0),(ws&134217727)===0&&(Aa&134217727)===0||_t===null||As(_t,tt,di,!1)}function Pd(n,i,a){var l=ht;ht|=2;var h=D_(),d=k_();(_t!==n||tt!==i)&&(Ic=null,bo(n,i)),i=!1;var v=Ot;e:do try{if(ft!==0&&Qe!==null){var w=Qe,M=Kn;switch(ft){case 8:kd(),v=6;break e;case 3:case 2:case 9:case 6:fi.current===null&&(i=!0);var G=ft;if(ft=0,Kn=null,So(n,w,M,G),a&&vo){v=0;break e}break;default:G=ft,ft=0,Kn=null,So(n,w,M,G)}}OS(),v=Ot;break}catch(ee){N_(n,ee)}while(!0);return i&&n.shellSuspendCounter++,Ir=va=null,ht=l,X.H=h,X.A=d,Qe===null&&(_t=null,tt=0,Wu()),v}function OS(){for(;Qe!==null;)M_(Qe)}function NS(n,i){var a=ht;ht|=2;var l=D_(),h=k_();_t!==n||tt!==i?(Ic=null,Rc=qt()+500,bo(n,i)):vo=Ui(n,i);e:do try{if(ft!==0&&Qe!==null){i=Qe;var d=Kn;t:switch(ft){case 1:ft=0,Kn=null,So(n,i,d,1);break;case 2:case 9:if(Gg(d)){ft=0,Kn=null,P_(i);break}i=function(){ft!==2&&ft!==9||_t!==n||(ft=7),Yi(n)},d.then(i,i);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Gg(d)?(ft=0,Kn=null,P_(i)):(ft=0,Kn=null,So(n,i,d,7));break;case 5:var v=null;switch(Qe.tag){case 26:v=Qe.memoizedState;case 5:case 27:var w=Qe;if(!v||pv(v)){ft=0,Kn=null;var M=w.sibling;if(M!==null)Qe=M;else{var G=w.return;G!==null?(Qe=G,Oc(G)):Qe=null}break t}}ft=0,Kn=null,So(n,i,d,5);break;case 6:ft=0,Kn=null,So(n,i,d,6);break;case 8:kd(),Ot=6;break e;default:throw Error(s(462))}}DS();break}catch(ee){N_(n,ee)}while(!0);return Ir=va=null,X.H=l,X.A=h,ht=a,Qe!==null?0:(_t=null,tt=0,Wu(),Ot)}function DS(){for(;Qe!==null&&!vn();)M_(Qe)}function M_(n){var i=a_(n.alternate,n,Vr);n.memoizedProps=n.pendingProps,i===null?Oc(n):Qe=i}function P_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=e_(a,i,i.pendingProps,i.type,void 0,tt);break;case 11:i=e_(a,i,i.pendingProps,i.type.render,i.ref,tt);break;case 5:Yf(i);default:l_(a,i),i=Qe=Vg(i,Vr),i=a_(a,i,Vr)}n.memoizedProps=n.pendingProps,i===null?Oc(n):Qe=i}function So(n,i,a,l){Ir=va=null,Yf(i),po=null,Il=0;var h=i.return;try{if(ES(n,h,i,a,tt)){Ot=1,Ec(n,li(a,n.current)),Qe=null;return}}catch(d){if(h!==null)throw Qe=h,d;Ot=1,Ec(n,li(a,n.current)),Qe=null;return}i.flags&32768?(ot||l===1?n=!0:vo||(tt&536870912)!==0?n=!1:(Ts=n=!0,(l===2||l===9||l===3||l===6)&&(l=fi.current,l!==null&&l.tag===13&&(l.flags|=16384))),V_(i,n)):Oc(i)}function Oc(n){var i=n;do{if((i.flags&32768)!==0){V_(i,Ts);return}n=i.return;var a=wS(i.alternate,i,Vr);if(a!==null){Qe=a;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=n}while(i!==null);Ot===0&&(Ot=5)}function V_(n,i){do{var a=bS(n.alternate,n);if(a!==null){a.flags&=32767,Qe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Qe=n;return}Qe=n=a}while(n!==null);Ot=6,Qe=null}function x_(n,i,a,l,h,d,v,w,M){n.cancelPendingCommit=null;do Nc();while(ln!==0);if((ht&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Sf,ns(n,a,d,v,w,M),n===_t&&(Qe=_t=null,tt=0),To=i,Ss=n,wo=a,Od=d,Nd=h,R_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,VS(Ln,function(){return j_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=he.p,he.p=2,v=ht,ht|=4;try{SS(n,i,a)}finally{ht=v,he.p=h,X.T=l}}ln=1,U_(),L_(),B_()}}function U_(){if(ln===1){ln=0;var n=Ss,i=To,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=he.p;he.p=2;var h=ht;ht|=4;try{v_(i,n);var d=$d,v=Ag(n.containerInfo),w=d.focusedElem,M=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&Sg(w.ownerDocument.documentElement,w)){if(M!==null&&vf(w)){var G=M.start,ee=M.end;if(ee===void 0&&(ee=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(ee,w.value.length);else{var ie=w.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),Pe=w.textContent.length,De=Math.min(M.start,Pe),pt=M.end===void 0?De:Math.min(M.end,Pe);!W.extend&&De>pt&&(v=pt,pt=De,De=v);var j=bg(w,De),L=bg(w,pt);if(j&&L&&(W.rangeCount!==1||W.anchorNode!==j.node||W.anchorOffset!==j.offset||W.focusNode!==L.node||W.focusOffset!==L.offset)){var F=ie.createRange();F.setStart(j.node,j.offset),W.removeAllRanges(),De>pt?(W.addRange(F),W.extend(L.node,L.offset)):(F.setEnd(L.node,L.offset),W.addRange(F))}}}}for(ie=[],W=w;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var ne=ie[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}qc=!!Gd,$d=Gd=null}finally{ht=h,he.p=l,X.T=a}}n.current=i,ln=2}}function L_(){if(ln===2){ln=0;var n=Ss,i=To,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=he.p;he.p=2;var h=ht;ht|=4;try{p_(n,i.alternate,i)}finally{ht=h,he.p=l,X.T=a}}ln=3}}function B_(){if(ln===4||ln===3){ln=0,lr();var n=Ss,i=To,a=wo,l=R_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ln=5:(ln=0,To=Ss=null,z_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(bs=null),cr(a),i=i.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(be,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=he.p,he.p=2,X.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{X.T=i,he.p=h}}(wo&3)!==0&&Nc(),Yi(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Dd?xl++:(xl=0,Dd=n):xl=0,Ul(0)}}function z_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,gl(i)))}function Nc(n){return U_(),L_(),B_(),j_()}function j_(){if(ln!==5)return!1;var n=Ss,i=Od;Od=0;var a=cr(wo),l=X.T,h=he.p;try{he.p=32>a?32:a,X.T=null,a=Nd,Nd=null;var d=Ss,v=wo;if(ln=0,To=Ss=null,wo=0,(ht&6)!==0)throw Error(s(331));var w=ht;if(ht|=4,S_(d.current),T_(d,d.current,v,a),ht=w,Ul(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(be,d)}catch{}return!0}finally{he.p=h,X.T=l,z_(n,i)}}function q_(n,i,a){i=li(a,i),i=ud(n.stateNode,i,2),n=ms(n,i,2),n!==null&&(ei(n,2),Yi(n))}function gt(n,i,a){if(n.tag===3)q_(n,n,a);else for(;i!==null;){if(i.tag===3){q_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(bs===null||!bs.has(l))){n=li(a,n),a=$y(2),l=ms(i,a,2),l!==null&&(Ky(a,l,i,n),ei(l,2),Yi(l));break}}i=i.return}}function Vd(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new IS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ad=!0,h.add(a),n=kS.bind(null,n,i,a),i.then(n,n))}function kS(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,_t===n&&(tt&a)===a&&(Ot===4||Ot===3&&(tt&62914560)===tt&&300>qt()-Cd?(ht&2)===0&&bo(n,0):Rd|=a,Eo===tt&&(Eo=0)),Yi(n)}function H_(n,i){i===0&&(i=ts()),n=ro(n,i),n!==null&&(ei(n,i),Yi(n))}function MS(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),H_(n,a)}function PS(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),H_(n,a)}function VS(n,i){return In(n,i)}var Dc=null,Ao=null,xd=!1,kc=!1,Ud=!1,Ra=0;function Yi(n){n!==Ao&&n.next===null&&(Ao===null?Dc=Ao=n:Ao=Ao.next=n),kc=!0,xd||(xd=!0,US())}function Ul(n,i){if(!Ud&&kc){Ud=!0;do for(var a=!1,l=Dc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-xe(42|n)+1)-1,d&=h&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,K_(l,d))}else d=tt,d=Cn(l,l===_t?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ui(l,d)||(a=!0,K_(l,d));l=l.next}while(a);Ud=!1}}function xS(){F_()}function F_(){kc=xd=!1;var n=0;Ra!==0&&(GS()&&(n=Ra),Ra=0);for(var i=qt(),a=null,l=Dc;l!==null;){var h=l.next,d=G_(l,i);d===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(Ao=a)):(a=l,(n!==0||(d&3)!==0)&&(kc=!0)),l=h}Ul(n)}function G_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-xe(d),w=1<<v,M=h[v];M===-1?((w&a)===0||(w&l)!==0)&&(h[v]=Jr(w,i)):M<=i&&(n.expiredLanes|=w),d&=~w}if(i=_t,a=tt,a=Cn(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(ft===2||ft===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Wn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ui(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Wn(l),cr(a)){case 2:case 8:a=vi;break;case 32:a=Ln;break;case 268435456:a=Nt;break;default:a=Ln}return l=$_.bind(null,n),a=In(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Wn(l),n.callbackPriority=2,n.callbackNode=null,2}function $_(n,i){if(ln!==0&&ln!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Nc()&&n.callbackNode!==a)return null;var l=tt;return l=Cn(n,n===_t?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(C_(n,l,i),G_(n,qt()),n.callbackNode!=null&&n.callbackNode===a?$_.bind(null,n):null)}function K_(n,i){if(Nc())return null;C_(n,i,!0)}function US(){KS(function(){(ht&6)!==0?In(En,xS):F_()})}function Ld(){return Ra===0&&(Ra=es()),Ra}function Q_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:cs(""+n)}function Y_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function LS(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Q_((h[at]||null).action),v=l.submitter;v&&(i=(i=v[at]||null)?Q_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var w=new Ni("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ra!==0){var M=v?Y_(h,v):new FormData(h);rd(a,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(w.preventDefault(),M=v?Y_(h,v):new FormData(h),rd(a,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var Bd=0;Bd<bf.length;Bd++){var zd=bf[Bd],BS=zd.toLowerCase(),zS=zd[0].toUpperCase()+zd.slice(1);Di(BS,"on"+zS)}Di(Cg,"onAnimationEnd"),Di(Og,"onAnimationIteration"),Di(Ng,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(iS,"onTransitionRun"),Di(rS,"onTransitionStart"),Di(sS,"onTransitionCancel"),Di(Dg,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function W_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var w=l[v],M=w.instance,G=w.currentTarget;if(w=w.listener,M!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=G;try{d(h)}catch(ee){vc(ee)}h.currentTarget=null,d=M}else for(v=0;v<l.length;v++){if(w=l[v],M=w.instance,G=w.currentTarget,w=w.listener,M!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=G;try{d(h)}catch(ee){vc(ee)}h.currentTarget=null,d=M}}}}function Ye(n,i){var a=i[rs];a===void 0&&(a=i[rs]=new Set);var l=n+"__bubble";a.has(l)||(X_(i,n,2,!1),a.add(l))}function jd(n,i,a){var l=0;i&&(l|=4),X_(a,n,l,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function qd(n){if(!n[Mc]){n[Mc]=!0,ss.forEach(function(a){a!=="selectionchange"&&(jS.has(a)||jd(a,!1,n),jd(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,jd("selectionchange",!1,i))}}function X_(n,i,a,l){switch(Tv(i)){case 2:var h=mA;break;case 8:h=pA;break;default:h=nm}a=h.bind(null,i,a,n),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function Hd(n,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===h)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;w!==null;){if(v=Si(w),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=d=v;continue e}w=w.parentNode}}l=l.return}Qa(function(){var G=d,ee=Nn(a),ie=[];e:{var Q=kg.get(n);if(Q!==void 0){var W=Ni,Pe=n;switch(n){case"keypress":if(Z(a)===0)break e;case"keydown":case"keyup":W=Ja;break;case"focusin":Pe="focus",W=Wa;break;case"focusout":Pe="blur",W=Wa;break;case"beforeblur":case"afterblur":W=Wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=oi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Hu;break;case Cg:case Og:case Ng:W=Xa;break;case Dg:W=Gu;break;case"scroll":case"scrollend":W=Ya;break;case"wheel":W=eo;break;case"copy":case"cut":case"paste":W=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ll;break;case"toggle":case"beforetoggle":W=Ku}var De=(i&4)!==0,pt=!De&&(n==="scroll"||n==="scrollend"),j=De?Q!==null?Q+"Capture":null:Q;De=[];for(var L=G,F;L!==null;){var ne=L;if(F=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||F===null||j===null||(ne=_r(L,j),ne!=null&&De.push(Bl(L,ne,F))),pt)break;L=L.return}0<De.length&&(Q=new W(Q,Pe,null,a,ee),ie.push({event:Q,listeners:De}))}}if((i&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",Q&&a!==Ii&&(Pe=a.relatedTarget||a.fromElement)&&(Si(Pe)||Pe[wn]))break e;if((W||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(Pe=a.relatedTarget||a.toElement,W=G,Pe=Pe?Si(Pe):null,Pe!==null&&(pt=u(Pe),De=Pe.tag,Pe!==pt||De!==5&&De!==27&&De!==6)&&(Pe=null)):(W=null,Pe=G),W!==Pe)){if(De=oi,ne="onMouseLeave",j="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(De=ll,ne="onPointerLeave",j="onPointerEnter",L="pointer"),pt=W==null?Q:ni(W),F=Pe==null?Q:ni(Pe),Q=new De(ne,L+"leave",W,a,ee),Q.target=pt,Q.relatedTarget=F,ne=null,Si(ee)===G&&(De=new De(j,L+"enter",Pe,a,ee),De.target=F,De.relatedTarget=pt,ne=De),pt=ne,W&&Pe)t:{for(De=W,j=Pe,L=0,F=De;F;F=Ro(F))L++;for(F=0,ne=j;ne;ne=Ro(ne))F++;for(;0<L-F;)De=Ro(De),L--;for(;0<F-L;)j=Ro(j),F--;for(;L--;){if(De===j||j!==null&&De===j.alternate)break t;De=Ro(De),j=Ro(j)}De=null}else De=null;W!==null&&Z_(ie,Q,W,De,!1),Pe!==null&&pt!==null&&Z_(ie,pt,Pe,De,!0)}}e:{if(Q=G?ni(G):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Te=yg;else if(Ft(Q))if(_g)Te=eS;else{Te=Zb;var $e=Xb}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&oa(G.elementType)&&(Te=yg):Te=Jb;if(Te&&(Te=Te(n,G))){br(ie,Te,a,ee);break e}$e&&$e(n,Q,G),n==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&zi(Q,"number",Q.value)}switch($e=G?ni(G):window,n){case"focusin":(Ft($e)||$e.contentEditable==="true")&&(to=$e,Ef=G,hl=null);break;case"focusout":hl=Ef=to=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Rg(ie,a,ee);break;case"selectionchange":if(nS)break;case"keydown":case"keyup":Rg(ie,a,ee)}var Re;if(Hi)e:{switch(n){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Je?J(n,a)&&(ke="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(_&&a.locale!=="ko"&&(Je||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Je&&(Re=P()):(ai=ee,q="value"in ai?ai.value:ai.textContent,Je=!0)),$e=Pc(G,ke),0<$e.length&&(ke=new al(ke,n,null,a,ee),ie.push({event:ke,listeners:$e}),Re?ke.data=Re:(Re=pe(a),Re!==null&&(ke.data=Re)))),(Re=y?Ht(n,a):et(n,a))&&(ke=Pc(G,"onBeforeInput"),0<ke.length&&($e=new al("onBeforeInput","beforeinput",null,a,ee),ie.push({event:$e,listeners:ke}),$e.data=Re)),LS(ie,n,G,a,ee)}W_(ie,i)})}function Bl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Pc(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_r(n,a),h!=null&&l.unshift(Bl(n,h,d)),h=_r(n,i),h!=null&&l.push(Bl(n,h,d))),n.tag===3)return l;n=n.return}return[]}function Ro(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Z_(n,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var w=a,M=w.alternate,G=w.stateNode;if(w=w.tag,M!==null&&M===l)break;w!==5&&w!==26&&w!==27||G===null||(M=G,h?(G=_r(a,d),G!=null&&v.unshift(Bl(a,G,M))):h||(G=_r(a,d),G!=null&&v.push(Bl(a,G,M)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var qS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function J_(n){return(typeof n=="string"?n:""+n).replace(qS,`
`).replace(HS,"")}function ev(n,i){return i=J_(i),J_(n)===i}function Vc(){}function mt(n,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||On(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&On(n,""+l);break;case"className":ri(n,"class",l);break;case"tabIndex":ri(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(n,a,l);break;case"style":aa(n,l,d);break;case"data":if(i!=="object"){ri(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=cs(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&mt(n,i,"name",h.name,h,null),mt(n,i,"formEncType",h.formEncType,h,null),mt(n,i,"formMethod",h.formMethod,h,null),mt(n,i,"formTarget",h.formTarget,h,null)):(mt(n,i,"encType",h.encType,h,null),mt(n,i,"method",h.method,h,null),mt(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=cs(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Vc);break;case"onScroll":l!=null&&Ye("scroll",n);break;case"onScrollEnd":l!=null&&Ye("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=cs(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ye("beforetoggle",n),Ye("toggle",n),Bi(n,"popover",l);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=il.get(a)||a,Bi(n,a,l))}}function Fd(n,i,a,l,h,d){switch(a){case"style":aa(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?On(n,l):(typeof l=="number"||typeof l=="bigint")&&On(n,""+l);break;case"onScroll":l!=null&&Ye("scroll",n);break;case"onScrollEnd":l!=null&&Ye("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=n[at]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Bi(n,a,l)}}}function un(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",n),Ye("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(n,i,d,v,a,null)}}h&&mt(n,i,"srcSet",a.srcSet,a,null),l&&mt(n,i,"src",a.src,a,null);return;case"input":Ye("invalid",n);var w=d=v=h=null,M=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":h=ee;break;case"type":v=ee;break;case"checked":M=ee;break;case"defaultChecked":G=ee;break;case"value":d=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:mt(n,i,l,ee,a,null)}}pr(n,d,w,M,G,v,h,!1),us(n);return;case"select":Ye("invalid",n),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:mt(n,i,h,w,a,null)}i=d,a=v,n.multiple=!!l,i!=null?Ri(n,!!l,i,!1):a!=null&&Ri(n,!!l,a,!0);return;case"textarea":Ye("invalid",n),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:mt(n,i,v,w,a,null)}gr(n,l,h,d),us(n);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:mt(n,i,M,l,a,null)}return;case"dialog":Ye("beforetoggle",n),Ye("toggle",n),Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":Ye("load",n);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Ye(Ll[l],n);break;case"image":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"embed":case"source":case"link":Ye("error",n),Ye("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(n,i,G,l,a,null)}return;default:if(oa(i)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&Fd(n,i,ee,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&mt(n,i,w,l,a,null))}function FS(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,w=null,M=null,G=null,ee=null;for(W in a){var ie=a[W];if(a.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":M=ie;default:l.hasOwnProperty(W)||mt(n,i,W,null,l,ie)}}for(var Q in l){var W=l[Q];if(ie=a[Q],l.hasOwnProperty(Q)&&(W!=null||ie!=null))switch(Q){case"type":d=W;break;case"name":h=W;break;case"checked":G=W;break;case"defaultChecked":ee=W;break;case"value":v=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==ie&&mt(n,i,Q,W,l,ie)}}bn(n,v,w,M,G,ee,d,h);return;case"select":W=v=w=Q=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":W=M;default:l.hasOwnProperty(d)||mt(n,i,d,null,l,M)}for(h in l)if(d=l[h],M=a[h],l.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":Q=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==M&&mt(n,i,h,d,l,M)}i=w,a=v,l=W,Q!=null?Ri(n,!!a,Q,!1):!!l!=!!a&&(i!=null?Ri(n,!!a,i,!0):Ri(n,!!a,a?[]:"",!1));return;case"textarea":W=Q=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:mt(n,i,w,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":Q=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&mt(n,i,v,h,l,d)}ut(n,Q,W);return;case"option":for(var Pe in a)if(Q=a[Pe],a.hasOwnProperty(Pe)&&Q!=null&&!l.hasOwnProperty(Pe))switch(Pe){case"selected":n.selected=!1;break;default:mt(n,i,Pe,null,l,Q)}for(M in l)if(Q=l[M],W=a[M],l.hasOwnProperty(M)&&Q!==W&&(Q!=null||W!=null))switch(M){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:mt(n,i,M,Q,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)Q=a[De],a.hasOwnProperty(De)&&Q!=null&&!l.hasOwnProperty(De)&&mt(n,i,De,null,l,Q);for(G in l)if(Q=l[G],W=a[G],l.hasOwnProperty(G)&&Q!==W&&(Q!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:mt(n,i,G,Q,l,W)}return;default:if(oa(i)){for(var pt in a)Q=a[pt],a.hasOwnProperty(pt)&&Q!==void 0&&!l.hasOwnProperty(pt)&&Fd(n,i,pt,void 0,l,Q);for(ee in l)Q=l[ee],W=a[ee],!l.hasOwnProperty(ee)||Q===W||Q===void 0&&W===void 0||Fd(n,i,ee,Q,l,W);return}}for(var j in a)Q=a[j],a.hasOwnProperty(j)&&Q!=null&&!l.hasOwnProperty(j)&&mt(n,i,j,null,l,Q);for(ie in l)Q=l[ie],W=a[ie],!l.hasOwnProperty(ie)||Q===W||Q==null&&W==null||mt(n,i,ie,Q,l,W)}var Gd=null,$d=null;function xc(n){return n.nodeType===9?n:n.ownerDocument}function tv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Kd(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qd=null;function GS(){var n=window.event;return n&&n.type==="popstate"?n===Qd?!1:(Qd=n,!0):(Qd=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,$S=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(n){return rv.resolve(null).then(n).catch(QS)}:iv;function QS(n){setTimeout(function(){throw n})}function Rs(n){return n==="head"}function sv(n,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&zl(v.documentElement),a&2&&zl(v.body),a&4)for(a=v.head,zl(a),v=a.firstChild;v;){var w=v.nextSibling,M=v.nodeName;v[Li]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=w}}if(h===0){n.removeChild(d),Ql(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ql(i)}function Yd(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),bi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function YS(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Li])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Mi(n.nextSibling),n===null)break}return null}function WS(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Mi(n.nextSibling),n===null))return null;return n}function Wd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function XS(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Mi(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Xd=null;function av(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function ov(n,i,a){switch(i=xc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function zl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);bi(n)}var mi=new Map,lv=new Set;function Uc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var xr=he.d;he.d={f:ZS,r:JS,D:eA,C:tA,L:nA,m:iA,X:sA,S:rA,M:aA};function ZS(){var n=xr.f(),i=Cc();return n||i}function JS(n){var i=ti(n);i!==null&&i.tag===5&&i.type==="form"?Cy(i):xr.r(n)}var Io=typeof document>"u"?null:document;function uv(n,i,a){var l=Io;if(l&&typeof i=="string"&&i){var h=It(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),lv.has(h)||(lv.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),un(i,"link",n),Tt(i),l.head.appendChild(i)))}}function eA(n){xr.D(n),uv("dns-prefetch",n,null)}function tA(n,i){xr.C(n,i),uv("preconnect",n,i)}function nA(n,i,a){xr.L(n,i,a);var l=Io;if(l&&n&&i){var h='link[rel="preload"][as="'+It(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+It(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+It(a.imageSizes)+'"]')):h+='[href="'+It(n)+'"]';var d=h;switch(i){case"style":d=Co(n);break;case"script":d=Oo(n)}mi.has(d)||(n=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),mi.set(d,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(jl(d))||i==="script"&&l.querySelector(ql(d))||(i=l.createElement("link"),un(i,"link",n),Tt(i),l.head.appendChild(i)))}}function iA(n,i){xr.m(n,i);var a=Io;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Oo(n)}if(!mi.has(d)&&(n=E({rel:"modulepreload",href:n},i),mi.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(d)))return}l=a.createElement("link"),un(l,"link",n),Tt(l),a.head.appendChild(l)}}}function rA(n,i,a){xr.S(n,i,a);var l=Io;if(l&&n){var h=xt(l).hoistableStyles,d=Co(n);i=i||"default";var v=h.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(jl(d)))w.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":i},a),(a=mi.get(d))&&Zd(n,a);var M=v=l.createElement("link");Tt(M),un(M,"link",n),M._p=new Promise(function(G,ee){M.onload=G,M.onerror=ee}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Lc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:w},h.set(d,v)}}}function sA(n,i){xr.X(n,i);var a=Io;if(a&&n){var l=xt(a).hoistableScripts,h=Oo(n),d=l.get(h);d||(d=a.querySelector(ql(h)),d||(n=E({src:n,async:!0},i),(i=mi.get(h))&&Jd(n,i),d=a.createElement("script"),Tt(d),un(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function aA(n,i){xr.M(n,i);var a=Io;if(a&&n){var l=xt(a).hoistableScripts,h=Oo(n),d=l.get(h);d||(d=a.querySelector(ql(h)),d||(n=E({src:n,async:!0,type:"module"},i),(i=mi.get(h))&&Jd(n,i),d=a.createElement("script"),Tt(d),un(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function cv(n,i,a,l){var h=(h=Oe.current)?Uc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Co(a.href),a=xt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Co(a.href);var d=xt(h).hoistableStyles,v=d.get(n);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=h.querySelector(jl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),mi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mi.set(n,a),d||oA(h,n,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oo(a),a=xt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Co(n){return'href="'+It(n)+'"'}function jl(n){return'link[rel="stylesheet"]['+n+"]"}function hv(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function oA(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),un(i,"link",a),Tt(i),n.head.appendChild(i))}function Oo(n){return'[src="'+It(n)+'"]'}function ql(n){return"script[async]"+n}function fv(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+It(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Tt(l),un(l,"style",h),Lc(l,a.precedence,n),i.instance=l;case"stylesheet":h=Co(a.href);var d=n.querySelector(jl(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=hv(a),(h=mi.get(h))&&Zd(l,h),d=(n.ownerDocument||n).createElement("link"),Tt(d);var v=d;return v._p=new Promise(function(w,M){v.onload=w,v.onerror=M}),un(d,"link",l),i.state.loading|=4,Lc(d,a.precedence,n),i.instance=d;case"script":return d=Oo(a.src),(h=n.querySelector(ql(d)))?(i.instance=h,Tt(h),h):(l=a,(h=mi.get(d))&&(l=E({},a),Jd(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),Tt(h),un(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Lc(l,a.precedence,n));return i.instance}function Lc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Zd(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Jd(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Bc=null;function dv(n,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[Li]||d[Rt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=n+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function mv(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function lA(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Hl=null;function uA(){}function cA(n,i,a){if(Hl===null)throw Error(s(475));var l=Hl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Co(a.href),d=n.querySelector(jl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=zc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,Tt(d);return}d=n.ownerDocument||n,a=hv(a),(h=mi.get(h))&&Zd(a,h),d=d.createElement("link"),Tt(d);var v=d;v._p=new Promise(function(w,M){v.onload=w,v.onerror=M}),un(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=zc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function hA(){if(Hl===null)throw Error(s(475));var n=Hl;return n.stylesheets&&n.count===0&&em(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&em(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var jc=null;function em(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,jc=new Map,i.forEach(fA,n),jc=null,zc.call(n))}function fA(n,i){if(!(i.state.loading&4)){var a=jc.get(n);if(a)var l=a.get(null);else{a=new Map,jc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Fl={$$typeof:$,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function dA(n,i,a,l,h,d,v,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function gv(n,i,a,l,h,d,v,w,M,G,ee,ie){return n=new dA(n,i,a,v,w,M,G,ie),i=1,d===!0&&(i|=24),d=Fn(3,null,null,i),n.current=d,d.stateNode=n,i=Vf(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Bf(d),n}function yv(n){return n?(n=so,n):so}function _v(n,i,a,l,h,d){h=yv(h),l.context===null?l.context=h:l.pendingContext=h,l=ds(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ms(n,l,i),a!==null&&(Yn(a,n,i),El(a,n,i))}function vv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function tm(n,i){vv(n,i),(n=n.alternate)&&vv(n,i)}function Ev(n){if(n.tag===13){var i=ro(n,67108864);i!==null&&Yn(i,n,67108864),tm(n,67108864)}}var qc=!0;function mA(n,i,a,l){var h=X.T;X.T=null;var d=he.p;try{he.p=2,nm(n,i,a,l)}finally{he.p=d,X.T=h}}function pA(n,i,a,l){var h=X.T;X.T=null;var d=he.p;try{he.p=8,nm(n,i,a,l)}finally{he.p=d,X.T=h}}function nm(n,i,a,l){if(qc){var h=im(l);if(h===null)Hd(n,i,l,Hc,a),wv(n,l);else if(yA(h,n,i,a,l))l.stopPropagation();else if(wv(n,l),i&4&&-1<gA.indexOf(n)){for(;h!==null;){var d=ti(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Wt(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var M=1<<31-xe(v);w.entanglements[1]|=M,v&=~M}Yi(d),(ht&6)===0&&(Rc=qt()+500,Ul(0))}}break;case 13:w=ro(d,2),w!==null&&Yn(w,d,2),Cc(),tm(d,2)}if(d=im(l),d===null&&Hd(n,i,l,Hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Hd(n,i,l,null,a)}}function im(n){return n=Nn(n),rm(n)}var Hc=null;function rm(n){if(Hc=null,n=Si(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=f(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Hc=n,null}function Tv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xn()){case En:return 2;case vi:return 8;case Ln:case ur:return 32;case Nt:return 268435456;default:return 32}default:return 32}}var sm=!1,Is=null,Cs=null,Os=null,Gl=new Map,$l=new Map,Ns=[],gA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(n,i){switch(n){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Kl(n,i,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ti(i),i!==null&&Ev(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function yA(n,i,a,l,h){switch(i){case"focusin":return Is=Kl(Is,n,i,a,l,h),!0;case"dragenter":return Cs=Kl(Cs,n,i,a,l,h),!0;case"mouseover":return Os=Kl(Os,n,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Gl.set(d,Kl(Gl.get(d)||null,n,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,$l.set(d,Kl($l.get(d)||null,n,i,a,l,h)),!0}return!1}function bv(n){var i=Si(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){n.blockedOn=i,Js(n.priority,function(){if(a.tag===13){var l=Qn();l=Ei(l);var h=ro(a,l);h!==null&&Yn(h,a,l),tm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=im(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Ii=l,a.target.dispatchEvent(l),Ii=null}else return i=ti(a),i!==null&&Ev(i),n.blockedOn=a,!1;i.shift()}return!0}function Sv(n,i,a){Fc(n)&&a.delete(i)}function _A(){sm=!1,Is!==null&&Fc(Is)&&(Is=null),Cs!==null&&Fc(Cs)&&(Cs=null),Os!==null&&Fc(Os)&&(Os=null),Gl.forEach(Sv),$l.forEach(Sv)}function Gc(n,i){n.blockedOn===i&&(n.blockedOn=null,sm||(sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_A)))}var $c=null;function Av(n){$c!==n&&($c=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===n&&($c=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=ti(a);d!==null&&(n.splice(i,3),i-=3,rd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ql(n){function i(M){return Gc(M,n)}Is!==null&&Gc(Is,n),Cs!==null&&Gc(Cs,n),Os!==null&&Gc(Os,n),Gl.forEach(i),$l.forEach(i);for(var a=0;a<Ns.length;a++){var l=Ns[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ns.length&&(a=Ns[0],a.blockedOn===null);)bv(a),a.blockedOn===null&&Ns.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[at]||null;if(typeof d=="function")v||Av(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[at]||null)w=v.formAction;else if(rm(h)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Av(a)}}}function am(n){this._internalRoot=n}Kc.prototype.render=am.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Qn();_v(a,l,n,i,null,null)},Kc.prototype.unmount=am.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;_v(n.current,2,null,n,null,null),Cc(),i[wn]=null}};function Kc(n){this._internalRoot=n}Kc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ti();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ns.length&&i!==0&&i<Ns[a].priority;a++);Ns.splice(a,0,n),a===0&&bv(n)}};var Rv=e.version;if(Rv!=="19.1.0")throw Error(s(527,Rv,"19.1.0"));he.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var vA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{be=Qc.inject(vA),Ee=Qc}catch{}}return Wl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=qy,d=Hy,v=Fy,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=gv(n,1,!1,null,null,a,l,h,d,v,w,null),n[wn]=i.current,qd(n),new am(i)},Wl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=qy,v=Hy,w=Fy,M=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=gv(n,1,!0,i,a??null,l,h,d,v,w,M,G),i.context=yv(null),a=i.current,l=Qn(),l=Ei(l),h=ds(l),h.callback=null,ms(a,h,l),a=l,i.current.lanes=a,ei(i,a),Yi(i),n[wn]=i.current,qd(n),new Kc(i)},Wl.version="19.1.0",Wl}var xv;function OA(){if(xv)return lm.exports;xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=CA(),lm.exports}var NA=OA();const DA="modulepreload",kA=function(r){return"/hy_toy/"+r},Uv={},dp=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=Promise.allSettled(t.map(p=>{if(p=kA(p),p in Uv)return;Uv[p]=!0;const g=p.endsWith(".css"),E=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${E}`))return;const A=document.createElement("link");if(A.rel=g?"stylesheet":DA,g||(A.as="script"),A.crossOrigin="",A.href=p,m&&A.setAttribute("nonce",m),document.head.appendChild(A),g)return new Promise((T,R)=>{A.addEventListener("load",T),A.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};var K=Hh(),Xl={},Lv;function MA(){if(Lv)return Xl;Lv=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.parse=f,Xl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function f(T,R){const S=new u,k=T.length;if(k<2)return S;const O=(R==null?void 0:R.decode)||E;let Y=0;do{const ue=T.indexOf("=",Y);if(ue===-1)break;const $=T.indexOf(";",Y),oe=$===-1?k:$;if(ue>oe){Y=T.lastIndexOf(";",ue-1)+1;continue}const me=m(T,Y,ue),we=p(T,ue,me),U=T.slice(me,we);if(S[U]===void 0){let I=m(T,ue+1,oe),N=p(T,oe,I);const x=O(T.slice(I,N));S[U]=x}Y=oe+1}while(Y<k);return S}function m(T,R,S){do{const k=T.charCodeAt(R);if(k!==32&&k!==9)return R}while(++R<S);return S}function p(T,R,S){for(;R>S;){const k=T.charCodeAt(--R);if(k!==32&&k!==9)return R+1}return S}function g(T,R,S){const k=(S==null?void 0:S.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const O=k(R);if(!e.test(O))throw new TypeError(`argument val is invalid: ${R}`);let Y=T+"="+O;if(!S)return Y;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);Y+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);Y+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);Y+="; Path="+S.path}if(S.expires){if(!A(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);Y+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(Y+="; HttpOnly"),S.secure&&(Y+="; Secure"),S.partitioned&&(Y+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return Y}function E(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function A(T){return o.call(T)==="[object Date]"}return Xl}MA();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bv="popstate";function PA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Um("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:mu(o)}return xA(e,t,null,r)}function St(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ir(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VA(){return Math.random().toString(36).substring(2,10)}function zv(r,e){return{usr:r.state,key:r.key,idx:e}}function Um(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ko(e):e,state:t,key:e&&e.key||s||VA()}}function mu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ko(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function xA(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let O=E(),Y=O==null?null:O-g;g=O,p&&p({action:m,location:k.location,delta:Y})}function T(O,Y){m="PUSH";let ue=Um(k.location,O,Y);g=E()+1;let $=zv(ue,g),oe=k.createHref(ue);try{f.pushState($,"",oe)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(oe)}u&&p&&p({action:m,location:k.location,delta:1})}function R(O,Y){m="REPLACE";let ue=Um(k.location,O,Y);g=E();let $=zv(ue,g),oe=k.createHref(ue);f.replaceState($,"",oe),u&&p&&p({action:m,location:k.location,delta:0})}function S(O){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ue=typeof O=="string"?O:mu(O);return ue=ue.replace(/ $/,"%20"),St(Y,`No window.location.(origin|href) available to create URL for href: ${ue}`),new URL(ue,Y)}let k={get action(){return m},get location(){return r(o,f)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Bv,A),p=O,()=>{o.removeEventListener(Bv,A),p=null}},createHref(O){return e(o,O)},createURL:S,encodeLocation(O){let Y=S(O);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:T,replace:R,go(O){return f.go(O)}};return k}function zT(r,e,t="/"){return UA(r,e,t,!1)}function UA(r,e,t,s){let o=typeof e=="string"?Ko(e):e,u=Gr(o.pathname||"/",t);if(u==null)return null;let f=jT(r);LA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=YA(u);m=KA(f[p],g,s)}return m}function jT(r,e=[],t=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(St(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=jr([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(St(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),jT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:GA(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of qT(u.path))o(u,f,p)}),e}function qT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=qT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function LA(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:$A(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var BA=/^:[\w-]+$/,zA=3,jA=2,qA=1,HA=10,FA=-2,jv=r=>r==="*";function GA(r,e){let t=r.split("/"),s=t.length;return t.some(jv)&&(s+=FA),e&&(s+=jA),t.filter(o=>!jv(o)).reduce((o,u)=>o+(BA.test(u)?zA:u===""?qA:HA),s)}function $A(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function KA(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),T=p.route;if(!A&&g&&t&&!s[s.length-1].route.index&&(A=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:jr([u,A.pathname]),pathnameBase:JA(jr([u,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(u=jr([u,A.pathnameBase]))}return f}function Eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=QA(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},T)=>{if(E==="*"){let S=m[T]||"";f=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const R=m[T];return A&&!R?g[E]=void 0:g[E]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function QA(r,e=!1,t=!0){ir(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function YA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Gr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function WA(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Ko(r):r;return{pathname:t?t.startsWith("/")?t:XA(t,e):e,search:eR(s),hash:tR(o)}}function XA(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function dm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZA(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function HT(r){let e=ZA(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function FT(r,e,t,s=!1){let o;typeof r=="string"?o=Ko(r):(o={...r},St(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let A=e.length-1;if(!s&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),A-=1;o.pathname=T.join("/")}m=A>=0?e[A]:"/"}let p=WA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var jr=r=>r.join("/").replace(/\/\/+/g,"/"),JA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),eR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function nR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var GT=["POST","PUT","PATCH","DELETE"];new Set(GT);var iR=["GET",...GT];new Set(iR);var Qo=K.createContext(null);Qo.displayName="DataRouter";var Fh=K.createContext(null);Fh.displayName="DataRouterState";var $T=K.createContext({isTransitioning:!1});$T.displayName="ViewTransition";var rR=K.createContext(new Map);rR.displayName="Fetchers";var sR=K.createContext(null);sR.displayName="Await";var sr=K.createContext(null);sr.displayName="Navigation";var Au=K.createContext(null);Au.displayName="Location";var ar=K.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var mp=K.createContext(null);mp.displayName="RouteError";function aR(r,{relative:e}={}){St(Ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=K.useContext(sr),{hash:o,pathname:u,search:f}=Iu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:jr([t,u])),s.createHref({pathname:m,search:f,hash:o})}function Ru(){return K.useContext(Au)!=null}function Ua(){return St(Ru(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Au).location}var KT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QT(r){K.useContext(sr).static||K.useLayoutEffect(r)}function pp(){let{isDataRoute:r}=K.useContext(ar);return r?TR():oR()}function oR(){St(Ru(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Qo),{basename:e,navigator:t}=K.useContext(sr),{matches:s}=K.useContext(ar),{pathname:o}=Ua(),u=JSON.stringify(HT(s)),f=K.useRef(!1);return QT(()=>{f.current=!0}),K.useCallback((p,g={})=>{if(ir(f.current,KT),!f.current)return;if(typeof p=="number"){t.go(p);return}let E=FT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:jr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,r])}var lR=K.createContext(null);function uR(r){let e=K.useContext(ar).outlet;return e&&K.createElement(lR.Provider,{value:r},e)}function Iu(r,{relative:e}={}){let{matches:t}=K.useContext(ar),{pathname:s}=Ua(),o=JSON.stringify(HT(t));return K.useMemo(()=>FT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function cR(r,e){return YT(r,e)}function YT(r,e,t,s){var ue;St(Ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(sr),{matches:f}=K.useContext(ar),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let $=A&&A.path||"";WT(g,!A||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let T=Ua(),R;if(e){let $=typeof e=="string"?Ko(e):e;St(E==="/"||((ue=$.pathname)==null?void 0:ue.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),R=$}else R=T;let S=R.pathname||"/",k=S;if(E!=="/"){let $=E.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice($.length).join("/")}let O=!u&&t&&t.matches&&t.matches.length>0?t.matches:zT(r,{pathname:k});ir(A||O!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ir(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=pR(O&&O.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:jr([E,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:jr([E,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),f,t,s);return e&&Y?K.createElement(Au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},Y):Y}function hR(){let r=ER(),e=nR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,f)}var fR=K.createElement(hR,null),dR=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(ar.Provider,{value:this.props.routeContext},K.createElement(mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mR({routeContext:r,match:e,children:t}){let s=K.useContext(Qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(ar.Provider,{value:r},t)}function pR(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);St(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=t,T=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||T){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,T=!1,R=null,S=null;t&&(A=u&&g.route.id?u[g.route.id]:void 0,R=g.route.errorElement||fR,f&&(m<0&&E===0?(WT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,S=null):m===E&&(T=!0,S=g.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,E+1)),O=()=>{let Y;return A?Y=R:T?Y=S:g.route.Component?Y=K.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,K.createElement(mR,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:t!=null},children:Y})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?K.createElement(dR,{location:t.location,revalidation:t.revalidation,component:R,error:A,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):O()},null)}function gp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gR(r){let e=K.useContext(Qo);return St(e,gp(r)),e}function yR(r){let e=K.useContext(Fh);return St(e,gp(r)),e}function _R(r){let e=K.useContext(ar);return St(e,gp(r)),e}function yp(r){let e=_R(r),t=e.matches[e.matches.length-1];return St(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function vR(){return yp("useRouteId")}function ER(){var s;let r=K.useContext(mp),e=yR("useRouteError"),t=yp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function TR(){let{router:r}=gR("useNavigate"),e=yp("useNavigate"),t=K.useRef(!1);return QT(()=>{t.current=!0}),K.useCallback(async(o,u={})=>{ir(t.current,KT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var qv={};function WT(r,e,t){!e&&!qv[r]&&(qv[r]=!0,ir(!1,t))}K.memo(wR);function wR({routes:r,future:e,state:t}){return YT(r,void 0,t,e)}function AP(r){return uR(r.context)}function No(r){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){St(!Ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=Ko(t));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:T="default"}=t,R=K.useMemo(()=>{let S=Gr(p,f);return S==null?null:{location:{pathname:S,search:g,hash:E,state:A,key:T},navigationType:s}},[f,p,g,E,A,T,s]);return ir(R!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:K.createElement(sr.Provider,{value:m},K.createElement(Au.Provider,{children:e,value:R}))}function SR({children:r,location:e}){return cR(Lm(r),e)}function Lm(r,e=[]){let t=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...e,o];if(s.type===K.Fragment){t.push.apply(t,Lm(s.props.children,u));return}St(s.type===No,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Lm(s.props.children,u)),t.push(f)}),t}var sh="get",ah="application/x-www-form-urlencoded";function Gh(r){return r!=null&&typeof r.tagName=="string"}function AR(r){return Gh(r)&&r.tagName.toLowerCase()==="button"}function RR(r){return Gh(r)&&r.tagName.toLowerCase()==="form"}function IR(r){return Gh(r)&&r.tagName.toLowerCase()==="input"}function CR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function OR(r,e){return r.button===0&&(!e||e==="_self")&&!CR(r)}var Yc=null;function NR(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var DR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(r){return r!=null&&!DR.has(r)?(ir(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function kR(r,e){let t,s,o,u,f;if(RR(r)){let m=r.getAttribute("action");s=m?Gr(m,e):null,t=r.getAttribute("method")||sh,o=mm(r.getAttribute("enctype"))||ah,u=new FormData(r)}else if(AR(r)||IR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Gr(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=mm(r.getAttribute("formenctype"))||mm(m.getAttribute("enctype"))||ah,u=new FormData(m,r),!NR()){let{name:g,type:E,value:A}=r;if(E==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,A)}}else{if(Gh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sh,s=null,o=ah,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}function _p(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function MR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function VR(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await MR(u,t);return f.links?f.links():[]}return[]}));return BR(s.flat(1).filter(PR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hv(r,e,t,s,o,u){let f=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function xR(r,e,{includeHydrateFallback:t}={}){return UR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function UR(r){return[...new Set(r)]}function LR(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function BR(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(LR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function zR(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Gr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function XT(){let r=K.useContext(Qo);return _p(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function jR(){let r=K.useContext(Fh);return _p(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vp=K.createContext(void 0);vp.displayName="FrameworkContext";function ZT(){let r=K.useContext(vp);return _p(r,"You must render this element inside a <HydratedRouter> element"),r}function qR(r,e){let t=K.useContext(vp),[s,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,T=K.useRef(null);K.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let k=Y=>{Y.forEach(ue=>{f(ue.isIntersecting)})},O=new IntersectionObserver(k,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[r]),K.useEffect(()=>{if(s){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[s]);let R=()=>{o(!0)},S=()=>{o(!1),f(!1)};return t?r!=="intent"?[u,T,{}]:[u,T,{onFocus:Zl(m,R),onBlur:Zl(p,S),onMouseEnter:Zl(g,R),onMouseLeave:Zl(E,S),onTouchStart:Zl(A,R)}]:[!1,T,{}]}function Zl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function HR({page:r,...e}){let{router:t}=XT(),s=K.useMemo(()=>zT(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?K.createElement(GR,{page:r,matches:s,...e}):null}function FR(r){let{manifest:e,routeModules:t}=ZT(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return VR(r,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,t]),s}function GR({page:r,matches:e,...t}){let s=Ua(),{manifest:o,routeModules:u}=ZT(),{basename:f}=XT(),{loaderData:m,matches:p}=jR(),g=K.useMemo(()=>Hv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=K.useMemo(()=>Hv(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let S=new Set,k=!1;if(e.forEach(Y=>{var $;let ue=o.routes[Y.route.id];!ue||!ue.hasLoader||(!g.some(oe=>oe.route.id===Y.route.id)&&Y.route.id in m&&(($=u[Y.route.id])!=null&&$.shouldRevalidate)||ue.hasClientLoader?k=!0:S.add(Y.route.id))}),S.size===0)return[];let O=zR(r,f);return k&&S.size>0&&O.searchParams.set("_routes",e.filter(Y=>S.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[O.pathname+O.search]},[f,m,s,o,g,e,r,u]),T=K.useMemo(()=>xR(E,o),[E,o]),R=FR(E);return K.createElement(K.Fragment,null,A.map(S=>K.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),T.map(S=>K.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),R.map(({key:S,link:k})=>K.createElement("link",{key:S,...k})))}function $R(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var JT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JT&&(window.__reactRouterVersion="7.4.1")}catch{}function KR({basename:r,children:e,window:t}){let s=K.useRef();s.current==null&&(s.current=PA({window:t,v5Compat:!0}));let o=s.current,[u,f]=K.useState({action:o.action,location:o.location}),m=K.useCallback(p=>{K.startTransition(()=>f(p))},[f]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(bR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var e0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t0=K.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...T},R){let{basename:S}=K.useContext(sr),k=typeof g=="string"&&e0.test(g),O,Y=!1;if(typeof g=="string"&&k&&(O=g,JT))try{let N=new URL(window.location.href),x=g.startsWith("//")?new URL(N.protocol+g):new URL(g),B=Gr(x.pathname,S);x.origin===N.origin&&B!=null?g=B+x.search+x.hash:Y=!0}catch{ir(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ue=aR(g,{relative:o}),[$,oe,me]=qR(s,T),we=XR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function U(N){e&&e(N),N.defaultPrevented||we(N)}let I=K.createElement("a",{...T,...me,href:O||ue,onClick:Y||u?e:U,ref:$R(R,oe),target:p,"data-discover":!k&&t==="render"?"true":void 0});return $&&!k?K.createElement(K.Fragment,null,I,K.createElement(HR,{page:ue})):I});t0.displayName="Link";var QR=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=Iu(f,{relative:g.relative}),T=Ua(),R=K.useContext(Fh),{navigator:S,basename:k}=K.useContext(sr),O=R!=null&&nI(A)&&m===!0,Y=S.encodeLocation?S.encodeLocation(A).pathname:A.pathname,ue=T.pathname,$=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(ue=ue.toLowerCase(),$=$?$.toLowerCase():null,Y=Y.toLowerCase()),$&&k&&($=Gr($,k)||$);const oe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let me=ue===Y||!o&&ue.startsWith(Y)&&ue.charAt(oe)==="/",we=$!=null&&($===Y||!o&&$.startsWith(Y)&&$.charAt(Y.length)==="/"),U={isActive:me,isPending:we,isTransitioning:O},I=me?e:void 0,N;typeof s=="function"?N=s(U):N=[s,me?"active":null,we?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(U):u;return K.createElement(t0,{...g,"aria-current":I,className:N,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(U):p)});QR.displayName="NavLink";var YR=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=sh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...T},R)=>{let S=eI(),k=tI(m,{relative:g}),O=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&e0.test(m),ue=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let oe=$.nativeEvent.submitter,me=(oe==null?void 0:oe.getAttribute("formmethod"))||f;S(oe||$.currentTarget,{fetcherKey:e,method:me,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return K.createElement("form",{ref:R,method:O,action:k,onSubmit:s?p:ue,...T,"data-discover":!Y&&r==="render"?"true":void 0})});YR.displayName="Form";function WR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n0(r){let e=K.useContext(Qo);return St(e,WR(r)),e}function XR(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=pp(),p=Ua(),g=Iu(r,{relative:u});return K.useCallback(E=>{if(OR(E,e)){E.preventDefault();let A=t!==void 0?t:mu(p)===mu(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,t,s,e,r,o,u,f])}var ZR=0,JR=()=>`__${String(++ZR)}__`;function eI(){let{router:r}=n0("useSubmit"),{basename:e}=K.useContext(sr),t=vR();return K.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=kR(s,e);if(o.navigate===!1){let E=o.fetcherKey||JR();await r.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function tI(r,{relative:e}={}){let{basename:t}=K.useContext(sr),s=K.useContext(ar);St(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Iu(r||".",{relative:e})},f=Ua();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:jr([t,u.pathname])),mu(u)}function nI(r,e={}){let t=K.useContext($T);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=n0("useViewTransitionState"),o=Iu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Gr(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=Gr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Eh(o.pathname,f)!=null||Eh(o.pathname,u)!=null}new TextEncoder;var ye={},Jl={exports:{}},iI=Jl.exports,Fv;function rI(){return Fv||(Fv=1,function(r,e){(function(t,s){var o="1.0.40",u="",f="?",m="function",p="undefined",g="object",E="string",A="major",T="model",R="name",S="type",k="vendor",O="version",Y="architecture",ue="console",$="mobile",oe="tablet",me="smarttv",we="wearable",U="embedded",I=500,N="Amazon",x="Apple",B="ASUS",z="BlackBerry",D="Browser",Ze="Chrome",We="Edge",X="Firefox",he="Google",ge="Huawei",Ce="LG",V="Microsoft",te="Motorola",de="Opera",ce="Samsung",Ae="Sharp",fe="Sony",Oe="Xiaomi",yt="Zebra",rt="Facebook",dn="Chromium OS",Un="Mac OS",Rn=" Browser",_i=function(be,Ee){var Se={};for(var xe in be)Ee[xe]&&Ee[xe].length%2===0?Se[xe]=Ee[xe].concat(be[xe]):Se[xe]=be[xe];return Se},In=function(be){for(var Ee={},Se=0;Se<be.length;Se++)Ee[be[Se].toUpperCase()]=be[Se];return Ee},Wn=function(be,Ee){return typeof be===E?vn(Ee).indexOf(vn(be))!==-1:!1},vn=function(be){return be.toLowerCase()},lr=function(be){return typeof be===E?be.replace(/[^\d\.]/g,u).split(".")[0]:s},qt=function(be,Ee){if(typeof be===E)return be=be.replace(/^\s\s*/,u),typeof Ee===p?be:be.substring(0,I)},Xn=function(be,Ee){for(var Se=0,xe,nn,rn,je,Ie,Dt;Se<Ee.length&&!Ie;){var Wt=Ee[Se],Cn=Ee[Se+1];for(xe=nn=0;xe<Wt.length&&!Ie&&Wt[xe];)if(Ie=Wt[xe++].exec(be),Ie)for(rn=0;rn<Cn.length;rn++)Dt=Ie[++nn],je=Cn[rn],typeof je===g&&je.length>0?je.length===2?typeof je[1]==m?this[je[0]]=je[1].call(this,Dt):this[je[0]]=je[1]:je.length===3?typeof je[1]===m&&!(je[1].exec&&je[1].test)?this[je[0]]=Dt?je[1].call(this,Dt,je[2]):s:this[je[0]]=Dt?Dt.replace(je[1],je[2]):s:je.length===4&&(this[je[0]]=Dt?je[3].call(this,Dt.replace(je[1],je[2])):s):this[je]=Dt||s;Se+=2}},En=function(be,Ee){for(var Se in Ee)if(typeof Ee[Se]===g&&Ee[Se].length>0){for(var xe=0;xe<Ee[Se].length;xe++)if(Wn(Ee[Se][xe],be))return Se===f?s:Se}else if(Wn(Ee[Se],be))return Se===f?s:Se;return Ee.hasOwnProperty("*")?Ee["*"]:be},vi={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ln={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ur={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[O,[R,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[O,[R,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[R,O],[/opios[\/ ]+([\w\.]+)/i],[O,[R,de+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[O,[R,de+" GX"]],[/\bopr\/([\w\.]+)/i],[O,[R,de]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[O,[R,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[O,[R,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[R,O],[/quark(?:pc)?\/([-\w\.]+)/i],[O,[R,"Quark"]],[/\bddg\/([\w\.]+)/i],[O,[R,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[O,[R,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[O,[R,"WeChat"]],[/konqueror\/([\w\.]+)/i],[O,[R,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[O,[R,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[O,[R,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[O,[R,"Smart Lenovo "+D]],[/(avast|avg)\/([\w\.]+)/i],[[R,/(.+)/,"$1 Secure "+D],O],[/\bfocus\/([\w\.]+)/i],[O,[R,X+" Focus"]],[/\bopt\/([\w\.]+)/i],[O,[R,de+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[O,[R,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[O,[R,"Dolphin"]],[/coast\/([\w\.]+)/i],[O,[R,de+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[O,[R,"MIUI"+Rn]],[/fxios\/([\w\.-]+)/i],[O,[R,X]],[/\bqihoobrowser\/?([\w\.]*)/i],[O,[R,"360"]],[/\b(qq)\/([\w\.]+)/i],[[R,/(.+)/,"$1Browser"],O],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[R,/(.+)/,"$1"+Rn],O],[/samsungbrowser\/([\w\.]+)/i],[O,[R,ce+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[O,[R,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[R,"Sogou Mobile"],O],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[R,O],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[R],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[O,R],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[R,rt],O],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[R,O],[/\bgsa\/([\w\.]+) .*safari\//i],[O,[R,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[O,[R,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[O,[R,Ze+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[R,Ze+" WebView"],O],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[O,[R,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[R,O],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[O,[R,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[O,R],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[R,[O,En,vi]],[/(webkit|khtml)\/([\w\.]+)/i],[R,O],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[R,"Netscape"],O],[/(wolvic|librewolf)\/([\w\.]+)/i],[R,O],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[O,[R,X+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[R,[O,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[R,[O,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Y,"amd64"]],[/(ia32(?=;))/i],[[Y,vn]],[/((?:i[346]|x)86)[;\)]/i],[[Y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Y,/ower/,u,vn]],[/(sun4\w)[;\)]/i],[[Y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Y,vn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[T,[k,ce],[S,oe]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[T,[k,ce],[S,$]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[T,[k,x],[S,$]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[T,[k,x],[S,oe]],[/(macintosh);/i],[T,[k,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[T,[k,Ae],[S,$]],[/(?:honor)([-\w ]+)[;\)]/i],[T,[k,"Honor"],[S,$]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[T,[k,ge],[S,oe]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[T,[k,ge],[S,$]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[T,/_/g," "],[k,Oe],[S,$]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[T,/_/g," "],[k,Oe],[S,oe]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[T,[k,"OPPO"],[S,$]],[/\b(opd2\d{3}a?) bui/i],[T,[k,"OPPO"],[S,oe]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[T,[k,"Vivo"],[S,$]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[T,[k,"Realme"],[S,$]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[T,[k,te],[S,$]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[T,[k,te],[S,oe]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[T,[k,Ce],[S,oe]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[T,[k,Ce],[S,$]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[T,[k,"Lenovo"],[S,oe]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[T,/_/g," "],[k,"Nokia"],[S,$]],[/(pixel c)\b/i],[T,[k,he],[S,oe]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[T,[k,he],[S,$]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[T,[k,fe],[S,$]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[T,"Xperia Tablet"],[k,fe],[S,oe]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[T,[k,"OnePlus"],[S,$]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[T,[k,N],[S,oe]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[T,/(.+)/g,"Fire Phone $1"],[k,N],[S,$]],[/(playbook);[-\w\),; ]+(rim)/i],[T,k,[S,oe]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[T,[k,z],[S,$]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[T,[k,B],[S,oe]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[T,[k,B],[S,$]],[/(nexus 9)/i],[T,[k,"HTC"],[S,oe]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[k,[T,/_/g," "],[S,$]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[T,[k,"TCL"],[S,oe]],[/(itel) ((\w+))/i],[[k,vn],T,[S,En,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[T,[k,"Acer"],[S,oe]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[T,[k,"Meizu"],[S,$]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[T,[k,"Ulefone"],[S,$]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[T,[k,"Energizer"],[S,$]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[T,[k,"Cat"],[S,$]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[T,[k,"Smartfren"],[S,$]],[/droid.+; (a(?:015|06[35]|142p?))/i],[T,[k,"Nothing"],[S,$]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[k,T,[S,$]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[k,T,[S,oe]],[/(surface duo)/i],[T,[k,V],[S,oe]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[T,[k,"Fairphone"],[S,$]],[/(u304aa)/i],[T,[k,"AT&T"],[S,$]],[/\bsie-(\w*)/i],[T,[k,"Siemens"],[S,$]],[/\b(rct\w+) b/i],[T,[k,"RCA"],[S,oe]],[/\b(venue[\d ]{2,7}) b/i],[T,[k,"Dell"],[S,oe]],[/\b(q(?:mv|ta)\w+) b/i],[T,[k,"Verizon"],[S,oe]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[T,[k,"Barnes & Noble"],[S,oe]],[/\b(tm\d{3}\w+) b/i],[T,[k,"NuVision"],[S,oe]],[/\b(k88) b/i],[T,[k,"ZTE"],[S,oe]],[/\b(nx\d{3}j) b/i],[T,[k,"ZTE"],[S,$]],[/\b(gen\d{3}) b.+49h/i],[T,[k,"Swiss"],[S,$]],[/\b(zur\d{3}) b/i],[T,[k,"Swiss"],[S,oe]],[/\b((zeki)?tb.*\b) b/i],[T,[k,"Zeki"],[S,oe]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[k,"Dragon Touch"],T,[S,oe]],[/\b(ns-?\w{0,9}) b/i],[T,[k,"Insignia"],[S,oe]],[/\b((nxa|next)-?\w{0,9}) b/i],[T,[k,"NextBook"],[S,oe]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[k,"Voice"],T,[S,$]],[/\b(lvtel\-)?(v1[12]) b/i],[[k,"LvTel"],T,[S,$]],[/\b(ph-1) /i],[T,[k,"Essential"],[S,$]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[T,[k,"Envizen"],[S,oe]],[/\b(trio[-\w\. ]+) b/i],[T,[k,"MachSpeed"],[S,oe]],[/\btu_(1491) b/i],[T,[k,"Rotor"],[S,oe]],[/(shield[\w ]+) b/i],[T,[k,"Nvidia"],[S,oe]],[/(sprint) (\w+)/i],[k,T,[S,$]],[/(kin\.[onetw]{3})/i],[[T,/\./g," "],[k,V],[S,$]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[T,[k,yt],[S,oe]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[T,[k,yt],[S,$]],[/smart-tv.+(samsung)/i],[k,[S,me]],[/hbbtv.+maple;(\d+)/i],[[T,/^/,"SmartTV"],[k,ce],[S,me]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[k,Ce],[S,me]],[/(apple) ?tv/i],[k,[T,x+" TV"],[S,me]],[/crkey/i],[[T,Ze+"cast"],[k,he],[S,me]],[/droid.+aft(\w+)( bui|\))/i],[T,[k,N],[S,me]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[T,[k,Ae],[S,me]],[/(bravia[\w ]+)( bui|\))/i],[T,[k,fe],[S,me]],[/(mitv-\w{5}) bui/i],[T,[k,Oe],[S,me]],[/Hbbtv.*(technisat) (.*);/i],[k,T,[S,me]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[k,qt],[T,qt],[S,me]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[S,me]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[k,T,[S,ue]],[/droid.+; (shield) bui/i],[T,[k,"Nvidia"],[S,ue]],[/(playstation [345portablevi]+)/i],[T,[k,fe],[S,ue]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[T,[k,V],[S,ue]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[T,[k,ce],[S,we]],[/((pebble))app/i],[k,T,[S,we]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[T,[k,x],[S,we]],[/droid.+; (glass) \d/i],[T,[k,he],[S,we]],[/droid.+; (wt63?0{2,3})\)/i],[T,[k,yt],[S,we]],[/droid.+; (glass) \d/i],[T,[k,he],[S,we]],[/(pico) (4|neo3(?: link|pro)?)/i],[k,T,[S,we]],[/; (quest( \d| pro)?)/i],[T,[k,rt],[S,we]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[k,[S,U]],[/(aeobc)\b/i],[T,[k,N],[S,U]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[T,[S,$]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[T,[S,oe]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[S,oe]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[S,$]],[/(android[-\w\. ]{0,9});.+buil/i],[T,[k,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[O,[R,We+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[R,O],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[O,[R,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[R,O],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[O,R]],os:[[/microsoft (windows) (vista|xp)/i],[R,O],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[R,[O,En,Ln]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[O,En,Ln],[R,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[O,/_/g,"."],[R,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[R,Un],[O,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[O,R],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[R,O],[/\(bb(10);/i],[O,[R,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[O,[R,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[O,[R,X+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[O,[R,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[O,[R,"watchOS"]],[/crkey\/([\d\.]+)/i],[O,[R,Ze+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[R,dn],O],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[R,O],[/(sunos) ?([\w\.\d]*)/i],[[R,"Solaris"],O],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[R,O]]},Nt=function(be,Ee){if(typeof be===g&&(Ee=be,be=s),!(this instanceof Nt))return new Nt(be,Ee).getResult();var Se=typeof t!==p&&t.navigator?t.navigator:s,xe=be||(Se&&Se.userAgent?Se.userAgent:u),nn=Se&&Se.userAgentData?Se.userAgentData:s,rn=Ee?_i(ur,Ee):ur,je=Se&&Se.userAgent==xe;return this.getBrowser=function(){var Ie={};return Ie[R]=s,Ie[O]=s,Xn.call(Ie,xe,rn.browser),Ie[A]=lr(Ie[O]),je&&Se&&Se.brave&&typeof Se.brave.isBrave==m&&(Ie[R]="Brave"),Ie},this.getCPU=function(){var Ie={};return Ie[Y]=s,Xn.call(Ie,xe,rn.cpu),Ie},this.getDevice=function(){var Ie={};return Ie[k]=s,Ie[T]=s,Ie[S]=s,Xn.call(Ie,xe,rn.device),je&&!Ie[S]&&nn&&nn.mobile&&(Ie[S]=$),je&&Ie[T]=="Macintosh"&&Se&&typeof Se.standalone!==p&&Se.maxTouchPoints&&Se.maxTouchPoints>2&&(Ie[T]="iPad",Ie[S]=oe),Ie},this.getEngine=function(){var Ie={};return Ie[R]=s,Ie[O]=s,Xn.call(Ie,xe,rn.engine),Ie},this.getOS=function(){var Ie={};return Ie[R]=s,Ie[O]=s,Xn.call(Ie,xe,rn.os),je&&!Ie[R]&&nn&&nn.platform&&nn.platform!="Unknown"&&(Ie[R]=nn.platform.replace(/chrome os/i,dn).replace(/macos/i,Un)),Ie},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return xe},this.setUA=function(Ie){return xe=typeof Ie===E&&Ie.length>I?qt(Ie,I):Ie,this},this.setUA(xe),this};Nt.VERSION=o,Nt.BROWSER=In([R,O,A]),Nt.CPU=In([Y]),Nt.DEVICE=In([T,k,S,ue,$,me,oe,we,U]),Nt.ENGINE=Nt.OS=In([R,O]),r.exports&&(e=r.exports=Nt),e.UAParser=Nt;var Tn=typeof t!==p&&(t.jQuery||t.Zepto);if(Tn&&!Tn.ua){var Zn=new Nt;Tn.ua=Zn.getResult(),Tn.ua.get=function(){return Zn.getUA()},Tn.ua.set=function(be){Zn.setUA(be);var Ee=Zn.getResult();for(var Se in Ee)Tn.ua[Se]=Ee[Se]}}})(typeof window=="object"?window:iI)}(Jl,Jl.exports)),Jl.exports}var Gv;function sI(){if(Gv)return ye;Gv=1,Object.defineProperty(ye,"__esModule",{value:!0});function r(q){return q&&typeof q=="object"&&"default"in q?q.default:q}var e=Hh(),t=r(e),s=rI(),o=new s,u=o.getBrowser(),f=o.getCPU(),m=o.getDevice(),p=o.getEngine(),g=o.getOS(),E=o.getUA(),A=function(C){return o.setUA(C)},T=function(C){if(!C){console.error("No userAgent string was provided");return}var P=new s(C);return{UA:P,browser:P.getBrowser(),cpu:P.getCPU(),device:P.getDevice(),engine:P.getEngine(),os:P.getOS(),ua:P.getUA(),setUserAgent:function(le){return P.setUA(le)}}},R=Object.freeze({ClientUAInstance:o,browser:u,cpu:f,device:m,engine:p,os:g,ua:E,setUa:A,parseUserAgent:T});function S(q,C){var P=Object.keys(q);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(q);C&&(Z=Z.filter(function(le){return Object.getOwnPropertyDescriptor(q,le).enumerable})),P.push.apply(P,Z)}return P}function k(q){for(var C=1;C<arguments.length;C++){var P=arguments[C]!=null?arguments[C]:{};C%2?S(Object(P),!0).forEach(function(Z){oe(q,Z,P[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(P)):S(Object(P)).forEach(function(Z){Object.defineProperty(q,Z,Object.getOwnPropertyDescriptor(P,Z))})}return q}function O(q){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(C){return typeof C}:O=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},O(q)}function Y(q,C){if(!(q instanceof C))throw new TypeError("Cannot call a class as a function")}function ue(q,C){for(var P=0;P<C.length;P++){var Z=C[P];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(q,Z.key,Z)}}function $(q,C,P){return C&&ue(q.prototype,C),q}function oe(q,C,P){return C in q?Object.defineProperty(q,C,{value:P,enumerable:!0,configurable:!0,writable:!0}):q[C]=P,q}function me(){return me=Object.assign||function(q){for(var C=1;C<arguments.length;C++){var P=arguments[C];for(var Z in P)Object.prototype.hasOwnProperty.call(P,Z)&&(q[Z]=P[Z])}return q},me.apply(this,arguments)}function we(q,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(C&&C.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),C&&I(q,C)}function U(q){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)},U(q)}function I(q,C){return I=Object.setPrototypeOf||function(Z,le){return Z.__proto__=le,Z},I(q,C)}function N(q,C){if(q==null)return{};var P={},Z=Object.keys(q),le,ze;for(ze=0;ze<Z.length;ze++)le=Z[ze],!(C.indexOf(le)>=0)&&(P[le]=q[le]);return P}function x(q,C){if(q==null)return{};var P=N(q,C),Z,le;if(Object.getOwnPropertySymbols){var ze=Object.getOwnPropertySymbols(q);for(le=0;le<ze.length;le++)Z=ze[le],!(C.indexOf(Z)>=0)&&Object.prototype.propertyIsEnumerable.call(q,Z)&&(P[Z]=q[Z])}return P}function B(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function z(q,C){if(C&&(typeof C=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(q)}function D(q,C){return Ze(q)||We(q,C)||X(q,C)||ge()}function Ze(q){if(Array.isArray(q))return q}function We(q,C){var P=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(P!=null){var Z=[],le=!0,ze=!1,He,Ue;try{for(P=P.call(q);!(le=(He=P.next()).done)&&(Z.push(He.value),!(C&&Z.length===C));le=!0);}catch(Ni){ze=!0,Ue=Ni}finally{try{!le&&P.return!=null&&P.return()}finally{if(ze)throw Ue}}return Z}}function X(q,C){if(q){if(typeof q=="string")return he(q,C);var P=Object.prototype.toString.call(q).slice(8,-1);if(P==="Object"&&q.constructor&&(P=q.constructor.name),P==="Map"||P==="Set")return Array.from(q);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return he(q,C)}}function he(q,C){(C==null||C>q.length)&&(C=q.length);for(var P=0,Z=new Array(C);P<C;P++)Z[P]=q[P];return Z}function ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ce={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},V={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},te={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},de={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},ce=function(C){switch(C){case Ce.Mobile:return{isMobile:!0};case Ce.Tablet:return{isTablet:!0};case Ce.SmartTv:return{isSmartTV:!0};case Ce.Console:return{isConsole:!0};case Ce.Wearable:return{isWearable:!0};case Ce.Browser:return{isBrowser:!0};case Ce.Embedded:return{isEmbedded:!0};default:return de}},Ae=function(C){return A(C)},fe=function(C){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return C||P},Oe=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},yt=function(C){var P=Oe();return P&&P.platform&&(P.platform.indexOf(C)!==-1||P.platform==="MacIntel"&&P.maxTouchPoints>1&&!window.MSStream)},rt=function(C,P,Z,le,ze){return{isBrowser:C,browserMajorVersion:fe(P.major),browserFullVersion:fe(P.version),browserName:fe(P.name),engineName:fe(Z.name),engineVersion:fe(Z.version),osName:fe(le.name),osVersion:fe(le.version),userAgent:fe(ze)}},dn=function(C,P,Z,le){return k({},C,{vendor:fe(P.vendor),model:fe(P.model),os:fe(Z.name),osVersion:fe(Z.version),ua:fe(le)})},Un=function(C,P,Z,le){return{isSmartTV:C,engineName:fe(P.name),engineVersion:fe(P.version),osName:fe(Z.name),osVersion:fe(Z.version),userAgent:fe(le)}},Rn=function(C,P,Z,le){return{isConsole:C,engineName:fe(P.name),engineVersion:fe(P.version),osName:fe(Z.name),osVersion:fe(Z.version),userAgent:fe(le)}},_i=function(C,P,Z,le){return{isWearable:C,engineName:fe(P.name),engineVersion:fe(P.version),osName:fe(Z.name),osVersion:fe(Z.version),userAgent:fe(le)}},In=function(C,P,Z,le,ze){return{isEmbedded:C,vendor:fe(P.vendor),model:fe(P.model),engineName:fe(Z.name),engineVersion:fe(Z.version),osName:fe(le.name),osVersion:fe(le.version),userAgent:fe(ze)}};function Wn(q){var C=q?T(q):R,P=C.device,Z=C.browser,le=C.engine,ze=C.os,He=C.ua,Ue=ce(P.type),Ni=Ue.isBrowser,vr=Ue.isMobile,Ya=Ue.isTablet,Er=Ue.isSmartTV,Tr=Ue.isConsole,qn=Ue.isWearable,qi=Ue.isEmbedded;if(Ni)return rt(Ni,Z,le,ze,He);if(Er)return Un(Er,le,ze,He);if(Tr)return Rn(Tr,le,ze,He);if(vr||Ya)return dn(Ue,P,ze,He);if(qn)return _i(qn,le,ze,He);if(qi)return In(qi,P,le,ze,He)}var vn=function(C){var P=C.type;return P===Ce.Mobile},lr=function(C){var P=C.type;return P===Ce.Tablet},qt=function(C){var P=C.type;return P===Ce.Mobile||P===Ce.Tablet},Xn=function(C){var P=C.type;return P===Ce.SmartTv},En=function(C){var P=C.type;return P===Ce.Browser},vi=function(C){var P=C.type;return P===Ce.Wearable},Ln=function(C){var P=C.type;return P===Ce.Console},ur=function(C){var P=C.type;return P===Ce.Embedded},Nt=function(C){var P=C.vendor;return fe(P)},Tn=function(C){var P=C.model;return fe(P)},Zn=function(C){var P=C.type;return fe(P,"browser")},be=function(C){var P=C.name;return P===te.Android},Ee=function(C){var P=C.name;return P===te.Windows},Se=function(C){var P=C.name;return P===te.MAC_OS},xe=function(C){var P=C.name;return P===te.WindowsPhone},nn=function(C){var P=C.name;return P===te.IOS},rn=function(C){var P=C.version;return fe(P)},je=function(C){var P=C.name;return fe(P)},Ie=function(C){var P=C.name;return P===V.Chrome},Dt=function(C){var P=C.name;return P===V.Firefox},Wt=function(C){var P=C.name;return P===V.Chromium},Cn=function(C){var P=C.name;return P===V.Edge},Ui=function(C){var P=C.name;return P===V.Yandex},Jr=function(C){var P=C.name;return P===V.Safari||P===V.MobileSafari},es=function(C){var P=C.name;return P===V.MobileSafari},ts=function(C){var P=C.name;return P===V.Opera},Jn=function(C){var P=C.name;return P===V.InternetExplorer||P===V.Ie},ei=function(C){var P=C.name;return P===V.MIUI},ns=function(C){var P=C.name;return P===V.SamsungBrowser},Bn=function(C){var P=C.version;return fe(P)},is=function(C){var P=C.major;return fe(P)},Ei=function(C){var P=C.name;return fe(P)},cr=function(C){var P=C.name;return fe(P)},Ti=function(C){var P=C.version;return fe(P)},Js=function(){var C=Oe(),P=C&&C.userAgent&&C.userAgent.toLowerCase();return typeof P=="string"?/electron/.test(P):!1},st=function(C){return typeof C=="string"&&C.indexOf("Edg/")!==-1},Rt=function(){var C=Oe();return C&&(/iPad|iPhone|iPod/.test(C.platform)||C.platform==="MacIntel"&&C.maxTouchPoints>1)&&!window.MSStream},at=function(){return yt("iPad")},wn=function(){return yt("iPhone")},rs=function(){return yt("iPod")},Fa=function(C){return fe(C)};function wi(q){var C=q||R,P=C.device,Z=C.browser,le=C.os,ze=C.engine,He=C.ua;return{isSmartTV:Xn(P),isConsole:Ln(P),isWearable:vi(P),isEmbedded:ur(P),isMobileSafari:es(Z)||at(),isChromium:Wt(Z),isMobile:qt(P)||at(),isMobileOnly:vn(P),isTablet:lr(P)||at(),isBrowser:En(P),isDesktop:En(P),isAndroid:be(le),isWinPhone:xe(le),isIOS:nn(le)||at(),isChrome:Ie(Z),isFirefox:Dt(Z),isSafari:Jr(Z),isOpera:ts(Z),isIE:Jn(Z),osVersion:rn(le),osName:je(le),fullBrowserVersion:Bn(Z),browserVersion:is(Z),browserName:Ei(Z),mobileVendor:Nt(P),mobileModel:Tn(P),engineName:cr(ze),engineVersion:Ti(ze),getUA:Fa(He),isEdge:Cn(Z)||st(He),isYandex:Ui(Z),deviceType:Zn(P),isIOS13:Rt(),isIPad13:at(),isIPhone13:wn(),isIPod13:rs(),isElectron:Js(),isEdgeChromium:st(He),isLegacyEdge:Cn(Z)&&!st(He),isWindows:Ee(le),isMacOs:Se(le),isMIUI:ei(Z),isSamsungBrowser:ns(Z)}}var ea=Xn(m),Li=Ln(m),bi=vi(m),Si=ur(m),ti=es(u)||at(),ni=Wt(u),xt=qt(m)||at(),Tt=vn(m),ss=lr(m)||at(),hr=En(m),zn=En(m),ii=be(g),ta=xe(g),na=nn(g)||at(),fr=Ie(u),Ga=Dt(u),Bi=Jr(u),ri=ts(u),Ut=Jn(u),dr=rn(g),$a=je(g),Ai=Bn(u),as=is(u),os=Ei(u),ia=Nt(m),ls=Tn(m),sn=cr(p),ra=Ti(p),tl=Fa(E),us=Cn(u)||st(E),sa=Ui(u),mr=Zn(m),nl=Rt(),It=at(),bn=wn(),pr=rs(),zi=Js(),Ri=st(E),ut=Cn(u)&&!st(E),gr=Ee(g),On=Se(g),yr=ei(u),Ka=ns(u),aa=function(C){if(!C||typeof C!="string"){console.error("No valid user agent string was provided");return}var P=T(C),Z=P.device,le=P.browser,ze=P.os,He=P.engine,Ue=P.ua;return wi({device:Z,browser:le,os:ze,engine:He,ua:Ue})},oa=function(C){var P=C.renderWithFragment,Z=C.children,le=x(C,["renderWithFragment","children"]);return ii?P?t.createElement(e.Fragment,null,Z):t.createElement("div",le,Z):null},il=function(C){var P=C.renderWithFragment,Z=C.children,le=x(C,["renderWithFragment","children"]);return hr?P?t.createElement(e.Fragment,null,Z):t.createElement("div",le,Z):null},rl=function(C){var P=C.renderWithFragment,Z=C.children,le=x(C,["renderWithFragment","children"]);return Ut?P?t.createElement(e.Fragment,null,Z):t.createElement("div",le,Z):null},cs=function(C){var P=C.renderWithFragment,Z=C.children,le=x(C,["renderWithFragment","children"]);return na?P?t.createElement(e.Fragment,null,Z):t.createElement("div",le,Z):null},Ii=function(C){var P=C.renderWithFragment,Z=C.children,le=x(C,["renderWithFragment","children"]);return xt?P?t.createElement(e.Fragment,null,Z):t.createElement("div",le,Z):null},Nn=function(C){var P=C.renderWithFragment,Z=C.children,le=x(C,["renderWithFragment","children"]);return ss?P?t.createElement(e.Fragment,null,Z):t.createElement("div",le,Z):null},Ci=function(C){var P=C.renderWithFragment,Z=C.children,le=x(C,["renderWithFragment","children"]);return ta?P?t.createElement(e.Fragment,null,Z):t.createElement("div",le,Z):null},Oi=function(C){var P=C.renderWithFragment,Z=C.children;C.viewClassName,C.style;var le=x(C,["renderWithFragment","children","viewClassName","style"]);return Tt?P?t.createElement(e.Fragment,null,Z):t.createElement("div",le,Z):null},la=function(C){var P=C.renderWithFragment,Z=C.children,le=x(C,["renderWithFragment","children"]);return ea?P?t.createElement(e.Fragment,null,Z):t.createElement("div",le,Z):null},si=function(C){var P=C.renderWithFragment,Z=C.children,le=x(C,["renderWithFragment","children"]);return Li?P?t.createElement(e.Fragment,null,Z):t.createElement("div",le,Z):null},Qa=function(C){var P=C.renderWithFragment,Z=C.children,le=x(C,["renderWithFragment","children"]);return bi?P?t.createElement(e.Fragment,null,Z):t.createElement("div",le,Z):null},_r=function(C){var P=C.renderWithFragment,Z=C.children;C.viewClassName,C.style;var le=C.condition,ze=x(C,["renderWithFragment","children","viewClassName","style","condition"]);return le?P?t.createElement(e.Fragment,null,Z):t.createElement("div",ze,Z):null};function jn(q){return function(C){we(P,C);function P(Z){var le;return Y(this,P),le=z(this,U(P).call(this,Z)),le.isEventListenerAdded=!1,le.handleOrientationChange=le.handleOrientationChange.bind(B(le)),le.onOrientationChange=le.onOrientationChange.bind(B(le)),le.onPageLoad=le.onPageLoad.bind(B(le)),le.state={isLandscape:!1,isPortrait:!1},le}return $(P,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var le=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:le===0,isLandscape:le===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":O(window))!==void 0&&xt&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return t.createElement(q,me({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),P}(t.Component)}function Dn(){var q=e.useState(function(){var ze=window.innerWidth>window.innerHeight?90:0;return{isPortrait:ze===0,isLandscape:ze===90,orientation:ze===0?"portrait":"landscape"}}),C=D(q,2),P=C[0],Z=C[1],le=e.useCallback(function(){var ze=window.innerWidth>window.innerHeight?90:0,He={isPortrait:ze===0,isLandscape:ze===90,orientation:ze===0?"portrait":"landscape"};P.orientation!==He.orientation&&Z(He)},[P.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":O(window))!==void 0&&xt&&(le(),window.addEventListener("load",le,!1),window.addEventListener("resize",le,!1)),function(){window.removeEventListener("resize",le,!1),window.removeEventListener("load",le,!1)}},[le]),P}function ji(q){var C=q||window.navigator.userAgent;return T(C)}function ai(q){var C=q||window.navigator.userAgent,P=ji(C),Z=wi(P);return[Z,P]}return ye.AndroidView=oa,ye.BrowserTypes=V,ye.BrowserView=il,ye.ConsoleView=si,ye.CustomView=_r,ye.IEView=rl,ye.IOSView=cs,ye.MobileOnlyView=Oi,ye.MobileView=Ii,ye.OsTypes=te,ye.SmartTVView=la,ye.TabletView=Nn,ye.WearableView=Qa,ye.WinPhoneView=Ci,ye.browserName=os,ye.browserVersion=as,ye.deviceDetect=Wn,ye.deviceType=mr,ye.engineName=sn,ye.engineVersion=ra,ye.fullBrowserVersion=Ai,ye.getSelectorsByUserAgent=aa,ye.getUA=tl,ye.isAndroid=ii,ye.isBrowser=hr,ye.isChrome=fr,ye.isChromium=ni,ye.isConsole=Li,ye.isDesktop=zn,ye.isEdge=us,ye.isEdgeChromium=Ri,ye.isElectron=zi,ye.isEmbedded=Si,ye.isFirefox=Ga,ye.isIE=Ut,ye.isIOS=na,ye.isIOS13=nl,ye.isIPad13=It,ye.isIPhone13=bn,ye.isIPod13=pr,ye.isLegacyEdge=ut,ye.isMIUI=yr,ye.isMacOs=On,ye.isMobile=xt,ye.isMobileOnly=Tt,ye.isMobileSafari=ti,ye.isOpera=ri,ye.isSafari=Bi,ye.isSamsungBrowser=Ka,ye.isSmartTV=ea,ye.isTablet=ss,ye.isWearable=bi,ye.isWinPhone=ta,ye.isWindows=gr,ye.isYandex=sa,ye.mobileModel=ls,ye.mobileVendor=ia,ye.osName=$a,ye.osVersion=dr,ye.parseUserAgent=T,ye.setUserAgent=Ae,ye.useDeviceData=ji,ye.useDeviceSelectors=ai,ye.useMobileOrientation=Dn,ye.withOrientationChange=jn,ye}var i0=sI();const aI="_spinner_1jk99_1",oI={spinner:aI},lI=({width:r=40,height:e=40})=>ae.jsx("div",{className:oI.spinner,style:{width:`${r}px`,height:`${e}px`}}),uI="_container_ix7tn_1",cI="_projectBtn_ix7tn_10",pm={container:uI,projectBtn:cI};function hI(){const r=pp(),e=t=>{const s=t.currentTarget.getAttribute("data-path");s&&r(s)};return ae.jsxs("div",{className:pm.container,children:[ae.jsx("button",{className:pm.projectBtn,"data-path":"/coin",onClick:e,children:"Coin"}),ae.jsx("button",{className:pm.projectBtn,"data-path":"/typinggame",onClick:e,children:"TypingGame"})]})}const r0=r=>K.createElement("svg",{width:200,height:50,viewBox:"0 0 200 50",xmlns:"http://www.w3.org/2000/svg",fill:"white",...r},K.createElement("text",{x:10,y:35,fontFamily:"Arial, sans-serif",fontSize:55,fontWeight:900,fill:"white"},"hy-toy")),fI="_hytoylogo_ez0ie_15",dI="_right_ez0ie_26",mI="_left_ez0ie_36",gm={hytoylogo:fI,right:dI,left:mI},pI=()=>{};var $v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},gI=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],f=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],f=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},a0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let T=(m&15)<<2|g>>6,R=g&63;p||(R=64,f||(T=64)),s.push(t[E],t[A],t[T],t[R])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(s0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const A=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new yI;const T=u<<2|m>>4;if(s.push(T),g!==64){const R=m<<4&240|g>>2;if(s.push(R),A!==64){const S=g<<6&192|A;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _I=function(r){const e=s0(r);return a0.encodeByteArray(e,!0)},Th=function(r){return _I(r).replace(/\./g,"")},Ep=function(r){try{return a0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=()=>vI().__FIREBASE_DEFAULTS__,TI=()=>{if(typeof process>"u"||typeof $v>"u")return;const r=$v.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Ep(r[1]);return e&&JSON.parse(e)},$h=()=>{try{return pI()||EI()||TI()||wI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},o0=r=>{var e,t;return(t=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},bI=r=>{const e=o0(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},l0=()=>{var r;return(r=$h())===null||r===void 0?void 0:r.config},u0=r=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Th(JSON.stringify(t)),Th(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function RI(){var r;const e=(r=$h())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function d0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function II(){const r=Et();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function CI(){return!RI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OI(){try{return typeof indexedDB=="object"}catch{return!1}}function NI(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="FirebaseError";class yi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=DI,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ws.prototype.create)}}class Ws{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?kI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new yi(o,m,s)}}function kI(r,e){return r.replace(MI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const MI=/\{\$([^}]+)}/g;function PI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Da(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Kv(u)&&Kv(f)){if(!Da(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Kv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function tu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function m0(r,e){const t=new VI(r,e);return t.subscribe.bind(t)}class VI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");xI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(r){return r&&r._delegate?r._delegate:r}class $r{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new SI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BI(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LI(r){return r===Ia?void 0:r}function BI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new UI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ke||(Ke={}));const jI={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},qI=Ke.INFO,HI={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},FI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=HI[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kh{constructor(e){this.name=e,this._logLevel=qI,this._logHandler=FI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const GI=(r,e)=>e.some(t=>r instanceof t);let Qv,Yv;function $I(){return Qv||(Qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KI(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,Bm=new WeakMap,g0=new WeakMap,_m=new WeakMap,Tp=new WeakMap;function QI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{t(Bs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&p0.set(t,r)}).catch(()=>{}),Tp.set(e,r),e}function YI(r){if(Bm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Bm.set(r,e)}let zm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Bm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||g0.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function WI(r){zm=r(zm)}function XI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(vm(this),e,...t);return g0.set(s,e.sort?e.sort():[e]),Bs(s)}:KI().includes(r)?function(...e){return r.apply(vm(this),e),Bs(p0.get(this))}:function(...e){return Bs(r.apply(vm(this),e))}}function ZI(r){return typeof r=="function"?XI(r):(r instanceof IDBTransaction&&YI(r),GI(r,$I())?new Proxy(r,zm):r)}function Bs(r){if(r instanceof IDBRequest)return QI(r);if(_m.has(r))return _m.get(r);const e=ZI(r);return e!==r&&(_m.set(r,e),Tp.set(e,r)),e}const vm=r=>Tp.get(r);function JI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Bs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Bs(f.result),p.oldVersion,p.newVersion,Bs(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const eC=["get","getKey","getAll","getAllKeys","count"],tC=["put","add","delete","clear"],Em=new Map;function Wv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=tC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||eC.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Em.set(e,u),u}WI(r=>({...r,get:(e,t,s)=>Wv(e,t)||r.get(e,t,s),has:(e,t)=>!!Wv(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function iC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jm="@firebase/app",Xv="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Kh("@firebase/app"),rC="@firebase/app-compat",sC="@firebase/analytics-compat",aC="@firebase/analytics",oC="@firebase/app-check-compat",lC="@firebase/app-check",uC="@firebase/auth",cC="@firebase/auth-compat",hC="@firebase/database",fC="@firebase/data-connect",dC="@firebase/database-compat",mC="@firebase/functions",pC="@firebase/functions-compat",gC="@firebase/installations",yC="@firebase/installations-compat",_C="@firebase/messaging",vC="@firebase/messaging-compat",EC="@firebase/performance",TC="@firebase/performance-compat",wC="@firebase/remote-config",bC="@firebase/remote-config-compat",SC="@firebase/storage",AC="@firebase/storage-compat",RC="@firebase/firestore",IC="@firebase/vertexai",CC="@firebase/firestore-compat",OC="firebase",NC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",DC={[jm]:"fire-core",[rC]:"fire-core-compat",[aC]:"fire-analytics",[sC]:"fire-analytics-compat",[lC]:"fire-app-check",[oC]:"fire-app-check-compat",[uC]:"fire-auth",[cC]:"fire-auth-compat",[hC]:"fire-rtdb",[fC]:"fire-data-connect",[dC]:"fire-rtdb-compat",[mC]:"fire-fn",[pC]:"fire-fn-compat",[gC]:"fire-iid",[yC]:"fire-iid-compat",[_C]:"fire-fcm",[vC]:"fire-fcm-compat",[EC]:"fire-perf",[TC]:"fire-perf-compat",[wC]:"fire-rc",[bC]:"fire-rc-compat",[SC]:"fire-gcs",[AC]:"fire-gcs-compat",[RC]:"fire-fst",[CC]:"fire-fst-compat",[IC]:"fire-vertex","fire-js":"fire-js",[OC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,kC=new Map,Hm=new Map;function Zv(r,e){try{r.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Hs(r){const e=r.name;if(Hm.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,r);for(const t of wh.values())Zv(t,r);for(const t of kC.values())Zv(t,r);return!0}function wp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Kt(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new Ws("app","Firebase",MC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=NC;function y0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw zs.create("bad-app-name",{appName:String(o)});if(t||(t=l0()),!t)throw zs.create("no-options");const u=wh.get(o);if(u){if(Da(t,u.options)&&Da(s,u.config))return u;throw zs.create("duplicate-app",{appName:o})}const f=new zI(o);for(const p of Hm.values())f.addComponent(p);const m=new PC(t,s,f);return wh.set(o,m),m}function _0(r=qm){const e=wh.get(r);if(!e&&r===qm&&l0())return y0();if(!e)throw zs.create("no-app",{appName:r});return e}function Ji(r,e,t){var s;let o=(s=DC[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(m.join(" "));return}Hs(new $r(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firebase-heartbeat-database",xC=1,pu="firebase-heartbeat-store";let Tm=null;function v0(){return Tm||(Tm=JI(VC,xC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(pu)}catch(t){console.warn(t)}}}}).catch(r=>{throw zs.create("idb-open",{originalErrorMessage:r.message})})),Tm}async function UC(r){try{const t=(await v0()).transaction(pu),s=await t.objectStore(pu).get(E0(r));return await t.done,s}catch(e){if(e instanceof yi)Kr.warn(e.message);else{const t=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(t.message)}}}async function Jv(r,e){try{const s=(await v0()).transaction(pu,"readwrite");await s.objectStore(pu).put(e,E0(r)),await s.done}catch(t){if(t instanceof yi)Kr.warn(t.message);else{const s=zs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Kr.warn(s.message)}}}function E0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=1024,BC=30;class zC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=eE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>BC){const f=HC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Kr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=eE(),{heartbeatsToSend:s,unsentEntries:o}=jC(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Kr.warn(t),""}}}function eE(){return new Date().toISOString().substring(0,10)}function jC(r,e=LC){const t=[];let s=r.slice();for(const o of r){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),tE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),tE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class qC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OI()?NI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function tE(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function HC(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(r){Hs(new $r("platform-logger",e=>new nC(e),"PRIVATE")),Hs(new $r("heartbeat",e=>new zC(e),"PRIVATE")),Ji(jm,Xv,r),Ji(jm,Xv,"esm2017"),Ji("fire-js","")}FC("");function Cu(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function T0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GC=T0,w0=new Ws("auth","Firebase",T0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Kh("@firebase/auth");function $C(r,...e){bh.logLevel<=Ke.WARN&&bh.warn(`Auth (${Xr}): ${r}`,...e)}function oh(r,...e){bh.logLevel<=Ke.ERROR&&bh.error(`Auth (${Xr}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(r,...e){throw Sp(r,...e)}function Vi(r,...e){return Sp(r,...e)}function bp(r,e,t){const s=Object.assign(Object.assign({},GC()),{[e]:t});return new Ws("auth","Firebase",s).create(e,{appName:r.name})}function qr(r){return bp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KC(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&gi(r,"argument-error"),bp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return w0.create(r,...e)}function Me(r,e,...t){if(!r)throw Sp(e,...t)}function Br(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function Qr(r,e){r||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function QC(){return nE()==="http:"||nE()==="https:"}function nE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QC()||f0()||"connection"in navigator)?navigator.onLine:!0}function WC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qr(t>e,"Short delay should be less than long delay!"),this.isMobile=c0()||d0()}get(){return YC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(r,e){Qr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b0=class{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new Ou(3e4,6e4);function Zr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function or(r,e,t,s,o={}){return S0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=La(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return h0()||(g.referrerPolicy="no-referrer"),b0.fetch()(A0(r,r.config.apiHost,t,m),g)})}async function S0(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},XC),e);try{const o=new e1(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bp(r,E,g);gi(r,E)}}catch(o){if(o instanceof yi)throw o;gi(r,"network-request-failed",{message:String(o)})}}async function Nu(r,e,t,s,o={}){const u=await or(r,e,t,s,o);return"mfaPendingCredential"in u&&gi(r,"multi-factor-auth-required",{_serverResponse:u}),u}function A0(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?Ap(r.config,o):`${r.config.apiScheme}://${o}`}function JC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let e1=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),ZC.get())})}};function Wc(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Vi(r,e,s);return o.customData._tokenResponse=t,o}function iE(r){return r!==void 0&&r.enterprise!==void 0}class t1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n1(r,e){return or(r,"GET","/v2/recaptchaConfig",Zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(r,e){return or(r,"POST","/v1/accounts:delete",e)}async function R0(r,e){return or(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r1(r,e=!1){const t=Vt(r),s=await t.getIdToken(e),o=Rp(s);Me(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ou(wm(o.auth_time)),issuedAtTime:ou(wm(o.iat)),expirationTime:ou(wm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function wm(r){return Number(r)*1e3}function Rp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ep(t);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function rE(r){const e=Rp(r);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof yi&&s1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function s1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Bo(r,R0(t,{idToken:s}));Me(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?I0(u.providerUserInfo):[],m=l1(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Gm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function o1(r){const e=Vt(r);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function I0(r){return r.map(e=>{var{providerId:t}=e,s=Cu(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(r,e){const t=await S0(r,{},async()=>{const s=La({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=A0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",b0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function c1(r,e){return or(r,"POST","/v2/accounts:revokeToken",Zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm=class $m{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const t=rE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await u1(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new $m;return s&&(Me(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Me(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Me(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $m,this.toJSON())}_performRefresh(){return Br("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(r,e){Me(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}let Ah=class nu{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Cu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Gm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return Me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return r1(this,e)}reload(){return o1(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new nu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kt(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await Bo(this,i1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,p,g,E;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,R=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,S=(f=t.photoURL)!==null&&f!==void 0?f:void 0,k=(m=t.tenantId)!==null&&m!==void 0?m:void 0,O=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ue=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:$,emailVerified:oe,isAnonymous:me,providerData:we,stsTokenManager:U}=t;Me($&&U,e,"internal-error");const I=bm.fromJSON(this.name,U);Me(typeof $=="string",e,"internal-error"),ks(A,e.name),ks(T,e.name),Me(typeof oe=="boolean",e,"internal-error"),Me(typeof me=="boolean",e,"internal-error"),ks(R,e.name),ks(S,e.name),ks(k,e.name),ks(O,e.name),ks(Y,e.name),ks(ue,e.name);const N=new nu({uid:$,auth:e,email:T,emailVerified:oe,displayName:A,isAnonymous:me,photoURL:S,phoneNumber:R,tenantId:k,stsTokenManager:I,createdAt:Y,lastLoginAt:ue});return we&&Array.isArray(we)&&(N.providerData=we.map(x=>Object.assign({},x))),O&&(N._redirectEventId=O),N}static async _fromIdTokenResponse(e,t,s=!1){const o=new bm;o.updateFromServerResponse(t);const u=new nu({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Sh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Me(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?I0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new bm;m.updateFromIdToken(s);const p=new nu({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function zr(r){Qr(r instanceof Function,"Expected a class definition");let e=sE.get(r);return e?(Qr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,sE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C0=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};C0.type="NONE";const aE=C0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(r,e,t){return`firebase:${r}:${e}:${t}`}let oE=class uh{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ah._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new uh(zr(aE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||zr(aE);const f=lh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(f);if(E){const A=Ah._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uh(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new uh(u,e,s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P0(e))return"Blackberry";if(V0(e))return"Webos";if(N0(e))return"Safari";if((e.includes("chrome/")||D0(e))&&!e.includes("edge/"))return"Chrome";if(M0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function O0(r=Et()){return/firefox\//i.test(r)}function N0(r=Et()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D0(r=Et()){return/crios\//i.test(r)}function k0(r=Et()){return/iemobile/i.test(r)}function M0(r=Et()){return/android/i.test(r)}function P0(r=Et()){return/blackberry/i.test(r)}function V0(r=Et()){return/webos/i.test(r)}function Ip(r=Et()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function h1(r=Et()){var e;return Ip(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function f1(){return II()&&document.documentMode===10}function x0(r=Et()){return Ip(r)||M0(r)||V0(r)||P0(r)||/windows phone/i.test(r)||k0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(r,e=[]){let t;switch(r){case"Browser":t=lE(Et());break;case"Worker":t=`${lE(Et())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d1=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(r,e={}){return or(r,"GET","/v2/passwordPolicy",Zr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=6;let g1=class{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:p1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1=class{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new d1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await oE.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await R0(this,{idToken:e}),s=await Ah._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kt(this.app))return Promise.reject(qr(this));const t=e?Vt(e):null;return t&&Me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kt(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kt(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m1(this),t=new g1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ws("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await c1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zr(e)||this._popupRedirectResolver;Me(t,this,"argument-error"),this.redirectPersistenceManager=await oE.create(this,[zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&$C(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}};function Xs(r){return Vt(r)}let uE=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=m0(t=>this.observer=t)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _1(r){Qh=r}function L0(r){return Qh.loadJS(r)}function v1(){return Qh.recaptchaEnterpriseScript}function E1(){return Qh.gapiScript}function T1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class w1{constructor(){this.enterprise=new b1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class b1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const S1="recaptcha-enterprise",B0="NO_RECAPTCHA";class A1{constructor(e){this.type=S1,this.auth=Xs(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{n1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new t1(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;iE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(B0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w1().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!t&&iE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=v1();p.length!==0&&(p+=m),L0(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function cE(r,e,t,s=!1,o=!1){const u=new A1(r);let f;if(o)f=B0;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Km(r,e,t,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await cE(r,e,t,t==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await cE(r,e,t,t==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(r,e){const t=wp(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Da(u,e??{}))return o;gi(o,"already-initialized")}return t.initialize({options:e})}function I1(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(zr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function C1(r,e,t){const s=Xs(r);Me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=z0(e),{host:f,port:m}=O1(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Me(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Me(Da(g,s.config.emulator)&&Da(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,N1()}function z0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function O1(r){const e=z0(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:hE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:hE(f)}}}function hE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function N1(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function D1(r,e){return or(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(r,e){return Nu(r,"POST","/v1/accounts:signInWithPassword",Zr(r,e))}async function M1(r,e){return or(r,"POST","/v1/accounts:sendOobCode",Zr(r,e))}async function P1(r,e){return M1(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(r,e){return Nu(r,"POST","/v1/accounts:signInWithEmailLink",Zr(r,e))}async function x1(r,e){return Nu(r,"POST","/v1/accounts:signInWithEmailLink",Zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends Cp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new gu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new gu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,t,"signInWithPassword",k1);case"emailLink":return V1(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,s,"signUpPassword",D1);case"emailLink":return x1(e,{idToken:t,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r,e){return Nu(r,"POST","/v1/accounts:signInWithIdp",Zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="http://localhost";class ka extends Cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Cu(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ka(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Vo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Vo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vo(e,t)}buildRequest(){const e={requestUri:U1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=La(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B1(r){const e=eu(tu(r)).link,t=e?eu(tu(e)).deep_link_id:null,s=eu(tu(r)).deep_link_id;return(s?eu(tu(s)).link:null)||s||t||e||r}class Op{constructor(e){var t,s,o,u,f,m;const p=eu(tu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=L1((o=p.mode)!==null&&o!==void 0?o:null);Me(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=B1(e);try{return new Op(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,t){return gu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Op.parseLink(t);return Me(s,"argument-error"),gu._fromEmailAndCode(e,s.code,s.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Np{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Du{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ka._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ur.credential(t,s)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Du{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Du{constructor(){super("twitter.com")}static credential(e,t){return ka._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return xs.credential(t,s)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(r,e){return Nu(r,"POST","/v1/accounts:signUp",Zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Ah._fromIdTokenResponse(e,s,o),f=fE(s);return new Ma({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=fE(s);return new Ma({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function fE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends yi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Rh(e,t,s,o)}}function j0(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(r,u,e,s):u})}async function j1(r,e,t=!1){const s=await Bo(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ma._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(r,e,t=!1){const{auth:s}=r;if(Kt(s.app))return Promise.reject(qr(s));const o="reauthenticate";try{const u=await Bo(r,j0(s,o,e,r),t);Me(u.idToken,s,"internal-error");const f=Rp(u.idToken);Me(f,s,"internal-error");const{sub:m}=f;return Me(r.uid===m,s,"user-mismatch"),Ma._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&gi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(r,e,t=!1){if(Kt(r.app))return Promise.reject(qr(r));const s="signIn",o=await j0(r,s,e),u=await Ma._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function H1(r,e){return q0(Xs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0(r){const e=Xs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F1(r,e,t){if(Kt(r.app))return Promise.reject(qr(r));const s=Xs(r),f=await Km(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&H0(r),p}),m=await Ma._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function G1(r,e,t){return Kt(r.app)?Promise.reject(qr(r)):H1(Vt(r),Yo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&H0(r),s})}async function $1(r,e){const t=Vt(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await P1(t.auth,o);u!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(r,e){return or(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dE(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Vt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await Bo(s,K1(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function Q1(r,e,t,s){return Vt(r).onIdTokenChanged(e,t,s)}function Y1(r,e,t){return Vt(r).beforeAuthStateChanged(e,t)}function W1(r,e,t,s){return Vt(r).onAuthStateChanged(e,t,s)}function X1(r){return Vt(r).signOut()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1e3,J1=10;class G0 extends F0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);f1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,J1):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}G0.type="LOCAL";const eO=G0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends F0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$0.type="SESSION";const K0=$0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(t.origin,u)),p=await tO(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Dp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const T=A;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function iO(r){er().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function rO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sO(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aO(){return Q0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="firebaseLocalStorageDb",oO=1,Ch="firebaseLocalStorage",W0="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wh(r,e){return r.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function lO(){const r=indexedDB.deleteDatabase(Y0);return new ku(r).toPromise()}function Qm(){const r=indexedDB.open(Y0,oO);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ch,{keyPath:W0})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await lO(),e(await Qm()))})})}async function mE(r,e,t){const s=Wh(r,!0).put({[W0]:e,value:t});return new ku(s).toPromise()}async function uO(r,e){const t=Wh(r,!1).get(e),s=await new ku(t).toPromise();return s===void 0?null:s.value}function pE(r,e){const t=Wh(r,!0).delete(e);return new ku(t).toPromise()}const cO=800,hO=3;class X0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>hO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(aO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rO(),!this.activeServiceWorker)return;this.sender=new nO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await mE(e,Ih,"1"),await pE(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>mE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>uO(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new ku(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X0.type="LOCAL";const fO=X0;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r,e){return e?zr(e):(Me(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends Cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dO(r){return q0(r.auth,new kp(r),r.bypassAuthState)}function mO(r){const{auth:e,user:t}=r;return Me(t,e,"internal-error"),q1(t,new kp(r),r.bypassAuthState)}async function pO(r){const{auth:e,user:t}=r;return Me(t,e,"internal-error"),j1(t,new kp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dO;case"linkViaPopup":case"linkViaRedirect":return pO;case"reauthViaPopup":case"reauthViaRedirect":return mO;default:gi(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Ou(2e3,1e4);async function gE(r,e,t){if(Kt(r.app))return Promise.reject(Vi(r,"operation-not-supported-in-this-environment"));const s=Xs(r);KC(r,e,Np);const o=Z0(s,t);return new Ca(s,"signInViaPopup",e,o).executeNotNull()}class Ca extends J0{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ca.currentPopupAction&&Ca.currentPopupAction.cancel(),Ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gO.get())};e()}}Ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="pendingRedirect",ch=new Map;class _O extends J0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const s=await vO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vO(r,e){const t=wO(e),s=TO(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function EO(r,e){ch.set(r._key(),e)}function TO(r){return zr(r._redirectPersistence)}function wO(r){return lh(yO,r.config.apiKey,r.name)}async function bO(r,e,t=!1){if(Kt(r.app))return Promise.reject(qr(r));const s=Xs(r),o=Z0(s,e),f=await new _O(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=10*60*1e3;class AO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!ew(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Vi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SO&&this.cachedEventUids.clear(),this.cachedEventUids.has(yE(e))}saveEventToCache(e){this.cachedEventUids.add(yE(e)),this.lastProcessedEventTime=Date.now()}}function yE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ew({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ew(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(r,e={}){return or(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OO=/^https?/;async function NO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await IO(r);for(const t of e)try{if(DO(t))return}catch{}gi(r,"unauthorized-domain")}function DO(r){const e=Fm(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!OO.test(t))return!1;if(CO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Ou(3e4,6e4);function _E(){const r=er().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function MO(r){return new Promise((e,t)=>{var s,o,u;function f(){_E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_E(),t(Vi(r,"network-request-failed"))},timeout:kO.get()})}if(!((o=(s=er().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=er().gapi)===null||u===void 0)&&u.load)f();else{const m=T1("iframefcb");return er()[m]=()=>{gapi.load?f():t(Vi(r,"network-request-failed"))},L0(`${E1()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw hh=null,e})}let hh=null;function PO(r){return hh=hh||MO(r),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new Ou(5e3,15e3),xO="__/auth/iframe",UO="emulator/auth/iframe",LO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zO(r){const e=r.config;Me(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Ap(e,UO):`https://${r.config.authDomain}/${xO}`,s={apiKey:e.apiKey,appName:r.name,v:Xr},o=BO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${La(s).slice(1)}`}async function jO(r){const e=await PO(r),t=er().gapi;return Me(t,r,"internal-error"),e.open({where:document.body,url:zO(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Vi(r,"network-request-failed"),m=er().setTimeout(()=>{u(f)},VO.get());function p(){er().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HO=500,FO=600,GO="_blank",$O="http://localhost";class vE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KO(r,e,t,s=HO,o=FO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},qO),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Et().toLowerCase();t&&(m=D0(g)?GO:t),O0(g)&&(e=e||$O,p.scrollbars="yes");const E=Object.entries(p).reduce((T,[R,S])=>`${T}${R}=${S},`,"");if(h1(g)&&m!=="_self")return QO(e||"",m),new vE(null);const A=window.open(e||"",m,E);Me(A,r,"popup-blocked");try{A.focus()}catch{}return new vE(A)}function QO(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="__/auth/handler",WO="emulator/auth/handler",XO=encodeURIComponent("fac");async function EE(r,e,t,s,o,u){Me(r.config.authDomain,r,"auth-domain-config-required"),Me(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Xr,eventId:o};if(e instanceof Np){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",PI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof Du){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${XO}=${encodeURIComponent(p)}`:"";return`${ZO(r)}?${La(m).slice(1)}${g}`}function ZO({config:r}){return r.emulator?Ap(r,WO):`https://${r.authDomain}/${YO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class JO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K0,this._completeRedirectFn=bO,this._overrideRedirectResult=EO}async _openPopup(e,t,s,o){var u;Qr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await EE(e,t,s,Fm(),o);return KO(e,f,Dp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await EE(e,t,s,Fm(),o);return iO(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Qr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await jO(e),s=new AO(e);return t.register("authEvent",o=>(Me(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sm,{type:Sm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Sm];f!==void 0&&t(!!f),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return x0()||N0()||Ip()}}const eN=JO;var TE="@firebase/auth",wE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tN=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iN(r){Hs(new $r("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Me(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U0(r)},g=new y1(s,o,u,p);return I1(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Hs(new $r("auth-internal",e=>{const t=Xs(e.getProvider("auth").getImmediate());return(s=>new tN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(TE,wE,nN(r)),Ji(TE,wE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=5*60,sN=u0("authIdTokenMaxAge")||rN;let bE=null;const aN=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>sN)return;const o=t==null?void 0:t.token;bE!==o&&(bE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oN(r=_0()){const e=wp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=R1(r,{popupRedirectResolver:eN,persistence:[fO,eO,K0]}),s=u0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=aN(u.toString());Y1(t,f,()=>f(t.currentUser)),Q1(t,m=>f(m))}}const o=o0("auth");return o&&C1(t,`http://${o}`),t}function lN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}_1({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Vi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",lN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iN("Browser");var uN="firebase",cN="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(uN,cN,"app");function tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hN=tw,nw=new Ws("auth","Firebase",tw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Kh("@firebase/auth");function fN(r,...e){Oh.logLevel<=Ke.WARN&&Oh.warn(`Auth (${Xr}): ${r}`,...e)}function fh(r,...e){Oh.logLevel<=Ke.ERROR&&Oh.error(`Auth (${Xr}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(r,...e){throw Mp(r,...e)}function iw(r,...e){return Mp(r,...e)}function rw(r,e,t){const s=Object.assign(Object.assign({},hN()),{[e]:t});return new Ws("auth","Firebase",s).create(e,{appName:r.name})}function dh(r){return rw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return nw.create(r,...e)}function lt(r,e,...t){if(!r)throw Mp(e,...t)}function lu(r){const e="INTERNAL ASSERTION FAILED: "+r;throw fh(e),new Error(e)}function Nh(r,e){r||lu(e)}function dN(){return AE()==="http:"||AE()==="https:"}function AE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dN()||f0()||"connection"in navigator)?navigator.onLine:!0}function pN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nh(t>e,"Short delay should be less than long delay!"),this.isMobile=c0()||d0()}get(){return mN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(r,e){Nh(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new gN(3e4,6e4);function aw(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Xh(r,e,t,s,o={}){return ow(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=La(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return h0()||(g.referrerPolicy="no-referrer"),sw.fetch()(lw(r,r.config.apiHost,t,m),g)})}async function ow(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},_N),e);try{const o=new EN(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw rw(r,E,g);SE(r,E)}}catch(o){if(o instanceof yi)throw o;SE(r,"network-request-failed",{message:String(o)})}}function lw(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?yN(r.config,o):`${r.config.apiScheme}://${o}`}class EN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(iw(this.auth,"network-request-failed")),vN.get())})}}function Xc(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=iw(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(r,e){return Xh(r,"POST","/v1/accounts:delete",e)}async function uw(r,e){return Xh(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wN(r,e=!1){const t=Vt(r),s=await t.getIdToken(e),o=cw(s);lt(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:uu(Am(o.auth_time)),issuedAtTime:uu(Am(o.iat)),expirationTime:uu(Am(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Am(r){return Number(r)*1e3}function cw(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ep(t);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function RE(r){const e=cw(r);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof yi&&bN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function bN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Ym(r,uw(t,{idToken:s}));lt(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?hw(u.providerUserInfo):[],m=RN(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function AN(r){const e=Vt(r);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hw(r){return r.map(e=>{var{providerId:t}=e,s=Cu(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(r,e){const t=await ow(r,{},async()=>{const s=La({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=lw(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",sw.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function CN(r,e){return Xh(r,"POST","/v2/accounts:revokeToken",aw(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const t=RE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await IN(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new xo;return s&&(lt(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(lt(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(lt(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return lu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(r,e){lt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Us{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Cu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Ym(this,this.stsTokenManager.getToken(this.auth,e));return lt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return wN(this,e)}reload(){return AN(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Us(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kt(this.auth.app))return Promise.reject(dh(this.auth));const e=await this.getIdToken();return await Ym(this,TN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,p,g,E;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,R=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,S=(f=t.photoURL)!==null&&f!==void 0?f:void 0,k=(m=t.tenantId)!==null&&m!==void 0?m:void 0,O=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ue=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:$,emailVerified:oe,isAnonymous:me,providerData:we,stsTokenManager:U}=t;lt($&&U,e,"internal-error");const I=xo.fromJSON(this.name,U);lt(typeof $=="string",e,"internal-error"),Ms(A,e.name),Ms(T,e.name),lt(typeof oe=="boolean",e,"internal-error"),lt(typeof me=="boolean",e,"internal-error"),Ms(R,e.name),Ms(S,e.name),Ms(k,e.name),Ms(O,e.name),Ms(Y,e.name),Ms(ue,e.name);const N=new Us({uid:$,auth:e,email:T,emailVerified:oe,displayName:A,isAnonymous:me,photoURL:S,phoneNumber:R,tenantId:k,stsTokenManager:I,createdAt:Y,lastLoginAt:ue});return we&&Array.isArray(we)&&(N.providerData=we.map(x=>Object.assign({},x))),O&&(N._redirectEventId=O),N}static async _fromIdTokenResponse(e,t,s=!1){const o=new xo;o.updateFromServerResponse(t);const u=new Us({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];lt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new xo;m.updateFromIdToken(s);const p=new Us({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;function Oa(r){Nh(r instanceof Function,"Expected a class definition");let e=IE.get(r);return e?(Nh(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,IE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fw.type="NONE";const CE=fw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r,e,t){return`firebase:${r}:${e}:${t}`}class Uo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Rm(this.userKey,o.apiKey,u),this.fullPersistenceKey=Rm("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Us._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Uo(Oa(CE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Oa(CE);const f=Rm(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(f);if(E){const A=Us._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Uo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Uo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ON(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PN(e))return"Blackberry";if(VN(e))return"Webos";if(NN(e))return"Safari";if((e.includes("chrome/")||DN(e))&&!e.includes("edge/"))return"Chrome";if(MN(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ON(r=Et()){return/firefox\//i.test(r)}function NN(r=Et()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DN(r=Et()){return/crios\//i.test(r)}function kN(r=Et()){return/iemobile/i.test(r)}function MN(r=Et()){return/android/i.test(r)}function PN(r=Et()){return/blackberry/i.test(r)}function VN(r=Et()){return/webos/i.test(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r,e=[]){let t;switch(r){case"Browser":t=OE(Et());break;case"Worker":t=`${OE(Et())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(r,e={}){return Xh(r,"GET","/v2/passwordPolicy",aw(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=6;class BN{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:LN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new xN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oa(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uw(this,{idToken:e}),s=await Us._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kt(this.app))return Promise.reject(dh(this));const t=e?Vt(e):null;return t&&lt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kt(this.app)?Promise.reject(dh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kt(this.app)?Promise.reject(dh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UN(this),t=new BN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ws("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await CN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oa(e)||this._popupRedirectResolver;lt(t,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Oa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&fN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function jN(r){return Vt(r)}class NE{constructor(e){this.auth=e,this.observer=null,this.addObserver=m0(t=>this.observer=t)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qN(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Oa);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}var DE="@firebase/auth",kE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GN(r){Hs(new $r("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;lt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dw(r)},g=new zN(s,o,u,p);return qN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Hs(new $r("auth-internal",e=>{const t=jN(e.getProvider("auth").getImmediate());return(s=>new HN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(DE,kE,FN(r)),Ji(DE,kE,"esm2017")}GN("WebExtension");var ME=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,mw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,I){function N(){}N.prototype=I.prototype,U.D=I.prototype,U.prototype=new N,U.prototype.constructor=U,U.C=function(x,B,z){for(var D=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)D[Ze-2]=arguments[Ze];return I.prototype[B].apply(x,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(U,I,N){N||(N=0);var x=Array(16);if(typeof I=="string")for(var B=0;16>B;++B)x[B]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(B=0;16>B;++B)x[B]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=U.g[0],N=U.g[1],B=U.g[2];var z=U.g[3],D=I+(z^N&(B^z))+x[0]+3614090360&4294967295;I=N+(D<<7&4294967295|D>>>25),D=z+(B^I&(N^B))+x[1]+3905402710&4294967295,z=I+(D<<12&4294967295|D>>>20),D=B+(N^z&(I^N))+x[2]+606105819&4294967295,B=z+(D<<17&4294967295|D>>>15),D=N+(I^B&(z^I))+x[3]+3250441966&4294967295,N=B+(D<<22&4294967295|D>>>10),D=I+(z^N&(B^z))+x[4]+4118548399&4294967295,I=N+(D<<7&4294967295|D>>>25),D=z+(B^I&(N^B))+x[5]+1200080426&4294967295,z=I+(D<<12&4294967295|D>>>20),D=B+(N^z&(I^N))+x[6]+2821735955&4294967295,B=z+(D<<17&4294967295|D>>>15),D=N+(I^B&(z^I))+x[7]+4249261313&4294967295,N=B+(D<<22&4294967295|D>>>10),D=I+(z^N&(B^z))+x[8]+1770035416&4294967295,I=N+(D<<7&4294967295|D>>>25),D=z+(B^I&(N^B))+x[9]+2336552879&4294967295,z=I+(D<<12&4294967295|D>>>20),D=B+(N^z&(I^N))+x[10]+4294925233&4294967295,B=z+(D<<17&4294967295|D>>>15),D=N+(I^B&(z^I))+x[11]+2304563134&4294967295,N=B+(D<<22&4294967295|D>>>10),D=I+(z^N&(B^z))+x[12]+1804603682&4294967295,I=N+(D<<7&4294967295|D>>>25),D=z+(B^I&(N^B))+x[13]+4254626195&4294967295,z=I+(D<<12&4294967295|D>>>20),D=B+(N^z&(I^N))+x[14]+2792965006&4294967295,B=z+(D<<17&4294967295|D>>>15),D=N+(I^B&(z^I))+x[15]+1236535329&4294967295,N=B+(D<<22&4294967295|D>>>10),D=I+(B^z&(N^B))+x[1]+4129170786&4294967295,I=N+(D<<5&4294967295|D>>>27),D=z+(N^B&(I^N))+x[6]+3225465664&4294967295,z=I+(D<<9&4294967295|D>>>23),D=B+(I^N&(z^I))+x[11]+643717713&4294967295,B=z+(D<<14&4294967295|D>>>18),D=N+(z^I&(B^z))+x[0]+3921069994&4294967295,N=B+(D<<20&4294967295|D>>>12),D=I+(B^z&(N^B))+x[5]+3593408605&4294967295,I=N+(D<<5&4294967295|D>>>27),D=z+(N^B&(I^N))+x[10]+38016083&4294967295,z=I+(D<<9&4294967295|D>>>23),D=B+(I^N&(z^I))+x[15]+3634488961&4294967295,B=z+(D<<14&4294967295|D>>>18),D=N+(z^I&(B^z))+x[4]+3889429448&4294967295,N=B+(D<<20&4294967295|D>>>12),D=I+(B^z&(N^B))+x[9]+568446438&4294967295,I=N+(D<<5&4294967295|D>>>27),D=z+(N^B&(I^N))+x[14]+3275163606&4294967295,z=I+(D<<9&4294967295|D>>>23),D=B+(I^N&(z^I))+x[3]+4107603335&4294967295,B=z+(D<<14&4294967295|D>>>18),D=N+(z^I&(B^z))+x[8]+1163531501&4294967295,N=B+(D<<20&4294967295|D>>>12),D=I+(B^z&(N^B))+x[13]+2850285829&4294967295,I=N+(D<<5&4294967295|D>>>27),D=z+(N^B&(I^N))+x[2]+4243563512&4294967295,z=I+(D<<9&4294967295|D>>>23),D=B+(I^N&(z^I))+x[7]+1735328473&4294967295,B=z+(D<<14&4294967295|D>>>18),D=N+(z^I&(B^z))+x[12]+2368359562&4294967295,N=B+(D<<20&4294967295|D>>>12),D=I+(N^B^z)+x[5]+4294588738&4294967295,I=N+(D<<4&4294967295|D>>>28),D=z+(I^N^B)+x[8]+2272392833&4294967295,z=I+(D<<11&4294967295|D>>>21),D=B+(z^I^N)+x[11]+1839030562&4294967295,B=z+(D<<16&4294967295|D>>>16),D=N+(B^z^I)+x[14]+4259657740&4294967295,N=B+(D<<23&4294967295|D>>>9),D=I+(N^B^z)+x[1]+2763975236&4294967295,I=N+(D<<4&4294967295|D>>>28),D=z+(I^N^B)+x[4]+1272893353&4294967295,z=I+(D<<11&4294967295|D>>>21),D=B+(z^I^N)+x[7]+4139469664&4294967295,B=z+(D<<16&4294967295|D>>>16),D=N+(B^z^I)+x[10]+3200236656&4294967295,N=B+(D<<23&4294967295|D>>>9),D=I+(N^B^z)+x[13]+681279174&4294967295,I=N+(D<<4&4294967295|D>>>28),D=z+(I^N^B)+x[0]+3936430074&4294967295,z=I+(D<<11&4294967295|D>>>21),D=B+(z^I^N)+x[3]+3572445317&4294967295,B=z+(D<<16&4294967295|D>>>16),D=N+(B^z^I)+x[6]+76029189&4294967295,N=B+(D<<23&4294967295|D>>>9),D=I+(N^B^z)+x[9]+3654602809&4294967295,I=N+(D<<4&4294967295|D>>>28),D=z+(I^N^B)+x[12]+3873151461&4294967295,z=I+(D<<11&4294967295|D>>>21),D=B+(z^I^N)+x[15]+530742520&4294967295,B=z+(D<<16&4294967295|D>>>16),D=N+(B^z^I)+x[2]+3299628645&4294967295,N=B+(D<<23&4294967295|D>>>9),D=I+(B^(N|~z))+x[0]+4096336452&4294967295,I=N+(D<<6&4294967295|D>>>26),D=z+(N^(I|~B))+x[7]+1126891415&4294967295,z=I+(D<<10&4294967295|D>>>22),D=B+(I^(z|~N))+x[14]+2878612391&4294967295,B=z+(D<<15&4294967295|D>>>17),D=N+(z^(B|~I))+x[5]+4237533241&4294967295,N=B+(D<<21&4294967295|D>>>11),D=I+(B^(N|~z))+x[12]+1700485571&4294967295,I=N+(D<<6&4294967295|D>>>26),D=z+(N^(I|~B))+x[3]+2399980690&4294967295,z=I+(D<<10&4294967295|D>>>22),D=B+(I^(z|~N))+x[10]+4293915773&4294967295,B=z+(D<<15&4294967295|D>>>17),D=N+(z^(B|~I))+x[1]+2240044497&4294967295,N=B+(D<<21&4294967295|D>>>11),D=I+(B^(N|~z))+x[8]+1873313359&4294967295,I=N+(D<<6&4294967295|D>>>26),D=z+(N^(I|~B))+x[15]+4264355552&4294967295,z=I+(D<<10&4294967295|D>>>22),D=B+(I^(z|~N))+x[6]+2734768916&4294967295,B=z+(D<<15&4294967295|D>>>17),D=N+(z^(B|~I))+x[13]+1309151649&4294967295,N=B+(D<<21&4294967295|D>>>11),D=I+(B^(N|~z))+x[4]+4149444226&4294967295,I=N+(D<<6&4294967295|D>>>26),D=z+(N^(I|~B))+x[11]+3174756917&4294967295,z=I+(D<<10&4294967295|D>>>22),D=B+(I^(z|~N))+x[2]+718787259&4294967295,B=z+(D<<15&4294967295|D>>>17),D=N+(z^(B|~I))+x[9]+3951481745&4294967295,U.g[0]=U.g[0]+I&4294967295,U.g[1]=U.g[1]+(B+(D<<21&4294967295|D>>>11))&4294967295,U.g[2]=U.g[2]+B&4294967295,U.g[3]=U.g[3]+z&4294967295}s.prototype.u=function(U,I){I===void 0&&(I=U.length);for(var N=I-this.blockSize,x=this.B,B=this.h,z=0;z<I;){if(B==0)for(;z<=N;)o(this,U,z),z+=this.blockSize;if(typeof U=="string"){for(;z<I;)if(x[B++]=U.charCodeAt(z++),B==this.blockSize){o(this,x),B=0;break}}else for(;z<I;)if(x[B++]=U[z++],B==this.blockSize){o(this,x),B=0;break}}this.h=B,this.o+=I},s.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var I=1;I<U.length-8;++I)U[I]=0;var N=8*this.o;for(I=U.length-8;I<U.length;++I)U[I]=N&255,N/=256;for(this.u(U),U=Array(16),I=N=0;4>I;++I)for(var x=0;32>x;x+=8)U[N++]=this.g[I]>>>x&255;return U};function u(U,I){var N=m;return Object.prototype.hasOwnProperty.call(N,U)?N[U]:N[U]=I(U)}function f(U,I){this.h=I;for(var N=[],x=!0,B=U.length-1;0<=B;B--){var z=U[B]|0;x&&z==I||(N[B]=z,x=!1)}this.g=N}var m={};function p(U){return-128<=U&&128>U?u(U,function(I){return new f([I|0],0>I?-1:0)}):new f([U|0],0>U?-1:0)}function g(U){if(isNaN(U)||!isFinite(U))return A;if(0>U)return O(g(-U));for(var I=[],N=1,x=0;U>=N;x++)I[x]=U/N|0,N*=4294967296;return new f(I,0)}function E(U,I){if(U.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(U.charAt(0)=="-")return O(E(U.substring(1),I));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(I,8)),x=A,B=0;B<U.length;B+=8){var z=Math.min(8,U.length-B),D=parseInt(U.substring(B,B+z),I);8>z?(z=g(Math.pow(I,z)),x=x.j(z).add(g(D))):(x=x.j(N),x=x.add(g(D)))}return x}var A=p(0),T=p(1),R=p(16777216);r=f.prototype,r.m=function(){if(k(this))return-O(this).m();for(var U=0,I=1,N=0;N<this.g.length;N++){var x=this.i(N);U+=(0<=x?x:4294967296+x)*I,I*=4294967296}return U},r.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(S(this))return"0";if(k(this))return"-"+O(this).toString(U);for(var I=g(Math.pow(U,6)),N=this,x="";;){var B=oe(N,I).g;N=Y(N,B.j(I));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(U);if(N=B,S(N))return z+x;for(;6>z.length;)z="0"+z;x=z+x}},r.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function S(U){if(U.h!=0)return!1;for(var I=0;I<U.g.length;I++)if(U.g[I]!=0)return!1;return!0}function k(U){return U.h==-1}r.l=function(U){return U=Y(this,U),k(U)?-1:S(U)?0:1};function O(U){for(var I=U.g.length,N=[],x=0;x<I;x++)N[x]=~U.g[x];return new f(N,~U.h).add(T)}r.abs=function(){return k(this)?O(this):this},r.add=function(U){for(var I=Math.max(this.g.length,U.g.length),N=[],x=0,B=0;B<=I;B++){var z=x+(this.i(B)&65535)+(U.i(B)&65535),D=(z>>>16)+(this.i(B)>>>16)+(U.i(B)>>>16);x=D>>>16,z&=65535,D&=65535,N[B]=D<<16|z}return new f(N,N[N.length-1]&-2147483648?-1:0)};function Y(U,I){return U.add(O(I))}r.j=function(U){if(S(this)||S(U))return A;if(k(this))return k(U)?O(this).j(O(U)):O(O(this).j(U));if(k(U))return O(this.j(O(U)));if(0>this.l(R)&&0>U.l(R))return g(this.m()*U.m());for(var I=this.g.length+U.g.length,N=[],x=0;x<2*I;x++)N[x]=0;for(x=0;x<this.g.length;x++)for(var B=0;B<U.g.length;B++){var z=this.i(x)>>>16,D=this.i(x)&65535,Ze=U.i(B)>>>16,We=U.i(B)&65535;N[2*x+2*B]+=D*We,ue(N,2*x+2*B),N[2*x+2*B+1]+=z*We,ue(N,2*x+2*B+1),N[2*x+2*B+1]+=D*Ze,ue(N,2*x+2*B+1),N[2*x+2*B+2]+=z*Ze,ue(N,2*x+2*B+2)}for(x=0;x<I;x++)N[x]=N[2*x+1]<<16|N[2*x];for(x=I;x<2*I;x++)N[x]=0;return new f(N,0)};function ue(U,I){for(;(U[I]&65535)!=U[I];)U[I+1]+=U[I]>>>16,U[I]&=65535,I++}function $(U,I){this.g=U,this.h=I}function oe(U,I){if(S(I))throw Error("division by zero");if(S(U))return new $(A,A);if(k(U))return I=oe(O(U),I),new $(O(I.g),O(I.h));if(k(I))return I=oe(U,O(I)),new $(O(I.g),I.h);if(30<U.g.length){if(k(U)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var N=T,x=I;0>=x.l(U);)N=me(N),x=me(x);var B=we(N,1),z=we(x,1);for(x=we(x,2),N=we(N,2);!S(x);){var D=z.add(x);0>=D.l(U)&&(B=B.add(N),z=D),x=we(x,1),N=we(N,1)}return I=Y(U,B.j(I)),new $(B,I)}for(B=A;0<=U.l(I);){for(N=Math.max(1,Math.floor(U.m()/I.m())),x=Math.ceil(Math.log(N)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),z=g(N),D=z.j(I);k(D)||0<D.l(U);)N-=x,z=g(N),D=z.j(I);S(z)&&(z=T),B=B.add(z),U=Y(U,D)}return new $(B,U)}r.A=function(U){return oe(this,U).h},r.and=function(U){for(var I=Math.max(this.g.length,U.g.length),N=[],x=0;x<I;x++)N[x]=this.i(x)&U.i(x);return new f(N,this.h&U.h)},r.or=function(U){for(var I=Math.max(this.g.length,U.g.length),N=[],x=0;x<I;x++)N[x]=this.i(x)|U.i(x);return new f(N,this.h|U.h)},r.xor=function(U){for(var I=Math.max(this.g.length,U.g.length),N=[],x=0;x<I;x++)N[x]=this.i(x)^U.i(x);return new f(N,this.h^U.h)};function me(U){for(var I=U.g.length+1,N=[],x=0;x<I;x++)N[x]=U.i(x)<<1|U.i(x-1)>>>31;return new f(N,U.h)}function we(U,I){var N=I>>5;I%=32;for(var x=U.g.length-N,B=[],z=0;z<x;z++)B[z]=0<I?U.i(z+N)>>>I|U.i(z+N+1)<<32-I:U.i(z+N);return new f(B,U.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,js=f}).apply(typeof ME<"u"?ME:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,iu,gw,mh,Xm,yw,_w,vw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var H=c[b];if(!(H in _))break e;_=_[H]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,H={next:function(){if(!b&&_<c.length){var J=_++;return{value:y(J,c[J]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function T(c,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,T.apply(null,arguments)}function R(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,H,J){for(var pe=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)pe[Je-2]=arguments[Je];return y.prototype[H].apply(b,pe)}}function k(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function O(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const H=c.length||0,J=b.length||0;c.length=H+J;for(let pe=0;pe<J;pe++)c[H+pe]=b[pe]}else c.push(b)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ue(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var me=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function we(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function U(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(_ in b)c[_]=b[_];for(let J=0;J<N.length;J++)_=N[J],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function B(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ce;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ze{constructor(){this.h=this.g=null}add(y,_){const b=We.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var We=new Y(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ge=!1,Ce=new Ze,V=()=>{const c=m.Promise.resolve(void 0);he=()=>{c.then(te)}};var te=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){z(_)}var y=We;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function fe(c,y){if(ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(me){e:{try{oe(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fe.aa.h.call(this)}}S(fe,ce);var Oe={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),rt=0;function dn(c,y,_,b,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=H,this.key=++rt,this.da=this.fa=!1}function Un(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rn(c){this.src=c,this.g={},this.h=0}Rn.prototype.add=function(c,y,_,b,H){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var pe=In(c,y,b,H);return-1<pe?(y=c[pe],_||(y.fa=!1)):(y=new dn(y,this.src,J,!!b,H),y.fa=_,c.push(y)),y};function _i(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],H=Array.prototype.indexOf.call(b,y,void 0),J;(J=0<=H)&&Array.prototype.splice.call(b,H,1),J&&(Un(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function In(c,y,_,b){for(var H=0;H<c.length;++H){var J=c[H];if(!J.da&&J.listener==y&&J.capture==!!_&&J.ha==b)return H}return-1}var Wn="closure_lm_"+(1e6*Math.random()|0),vn={};function lr(c,y,_,b,H){if(Array.isArray(y)){for(var J=0;J<y.length;J++)lr(c,y[J],_,b,H);return null}return _=Zn(_),c&&c[yt]?c.K(y,_,g(b)?!!b.capture:!1,H):qt(c,y,_,!1,b,H)}function qt(c,y,_,b,H,J){if(!y)throw Error("Invalid event type");var pe=g(H)?!!H.capture:!!H,Je=Nt(c);if(Je||(c[Wn]=Je=new Rn(c)),_=Je.add(y,_,b,pe,J),_.proxy)return _;if(b=Xn(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)Ae||(H=pe),H===void 0&&(H=!1),c.addEventListener(y.toString(),b,H);else if(c.attachEvent)c.attachEvent(Ln(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xn(){function c(_){return y.call(c.src,c.listener,_)}const y=ur;return c}function En(c,y,_,b,H){if(Array.isArray(y))for(var J=0;J<y.length;J++)En(c,y[J],_,b,H);else b=g(b)?!!b.capture:!!b,_=Zn(_),c&&c[yt]?(c=c.i,y=String(y).toString(),y in c.g&&(J=c.g[y],_=In(J,_,b,H),-1<_&&(Un(J[_]),Array.prototype.splice.call(J,_,1),J.length==0&&(delete c.g[y],c.h--)))):c&&(c=Nt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=In(y,_,b,H)),(_=-1<c?y[c]:null)&&vi(_))}function vi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[yt])_i(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(Ln(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Nt(y))?(_i(_,c),_.h==0&&(_.src=null,y[Wn]=null)):Un(c)}}}function Ln(c){return c in vn?vn[c]:vn[c]="on"+c}function ur(c,y){if(c.da)c=!0;else{y=new fe(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&vi(c),c=_.call(b,y)}return c}function Nt(c){return c=c[Wn],c instanceof Rn?c:null}var Tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zn(c){return typeof c=="function"?c:(c[Tn]||(c[Tn]=function(y){return c.handleEvent(y)}),c[Tn])}function be(){de.call(this),this.i=new Rn(this),this.M=this,this.F=null}S(be,de),be.prototype[yt]=!0,be.prototype.removeEventListener=function(c,y,_,b){En(this,c,y,_,b)};function Ee(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ce(y,c);else if(y instanceof ce)y.target=y.target||c;else{var H=y;y=new ce(b,c),x(y,H)}if(H=!0,_)for(var J=_.length-1;0<=J;J--){var pe=y.g=_[J];H=Se(pe,b,!0,y)&&H}if(pe=y.g=c,H=Se(pe,b,!0,y)&&H,H=Se(pe,b,!1,y)&&H,_)for(J=0;J<_.length;J++)pe=y.g=_[J],H=Se(pe,b,!1,y)&&H}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Un(_[b]);delete c.g[y],c.h--}}this.F=null},be.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},be.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Se(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,J=0;J<y.length;++J){var pe=y[J];if(pe&&!pe.da&&pe.capture==_){var Je=pe.listener,Ht=pe.ha||pe.src;pe.fa&&_i(c.i,pe),H=Je.call(Ht,b)!==!1&&H}}return H&&!b.defaultPrevented}function xe(c,y,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function nn(c){c.g=xe(()=>{c.g=null,c.i&&(c.i=!1,nn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rn extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:nn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function je(c){de.call(this),this.h=c,this.g={}}S(je,de);var Ie=[];function Dt(c){we(c.g,function(y,_){this.g.hasOwnProperty(_)&&vi(y)},c),c.g={}}je.prototype.N=function(){je.aa.N.call(this),Dt(this)},je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wt=m.JSON.stringify,Cn=m.JSON.parse,Ui=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Jr(){}Jr.prototype.h=null;function es(c){return c.h||(c.h=c.i())}function ts(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ei(){ce.call(this,"d")}S(ei,ce);function ns(){ce.call(this,"c")}S(ns,ce);var Bn={},is=null;function Ei(){return is=is||new be}Bn.La="serverreachability";function cr(c){ce.call(this,Bn.La,c)}S(cr,ce);function Ti(c){const y=Ei();Ee(y,new cr(y))}Bn.STAT_EVENT="statevent";function Js(c,y){ce.call(this,Bn.STAT_EVENT,c),this.stat=y}S(Js,ce);function st(c){const y=Ei();Ee(y,new Js(y,c))}Bn.Ma="timingevent";function Rt(c,y){ce.call(this,Bn.Ma,c),this.size=y}S(Rt,ce);function at(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function rs(c,y,_,b,H,J){c.info(function(){if(c.g)if(J)for(var pe="",Je=J.split("&"),Ht=0;Ht<Je.length;Ht++){var et=Je[Ht].split("=");if(1<et.length){var Xt=et[0];et=et[1];var Ft=Xt.split("_");pe=2<=Ft.length&&Ft[1]=="type"?pe+(Xt+"="+et+"&"):pe+(Xt+"=redacted&")}}else pe=null;else pe=J;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+y+`
`+_+`
`+pe})}function Fa(c,y,_,b,H,J,pe){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+y+`
`+_+`
`+J+" "+pe})}function wi(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Li(c,_)+(b?" "+b:"")})}function ea(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function Li(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var J=H[0];if(J!="noop"&&J!="stop"&&J!="close")for(var pe=1;pe<H.length;pe++)H[pe]=""}}}}return Wt(_)}catch{return y}}var bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ni(){}S(ni,Jr),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ti=new ni;function xt(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new je(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var ss={},hr={};function zn(c,y,_){c.L=1,c.v=gr(bn(y)),c.m=_,c.P=!0,ii(c,null)}function ii(c,y){c.F=Date.now(),fr(c),c.A=bn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),la(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Tt,c.g=Gu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new rn(T(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ie[0]=H.toString()),H=Ie);for(var J=0;J<H.length;J++){var pe=lr(_,H[J],b||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ti(),rs(c.i,c.u,c.A,c.l,c.R,c.m)}xt.prototype.ca=function(c){c=c.target;const y=this.M;y&&oi(c)==3?y.j():this.Y(c)},xt.prototype.Y=function(c){try{if(c==this.g)e:{const Ft=oi(this.g);var y=this.g.Ba();const br=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||Ft!=4||y==7||(y==8||0>=br?Ti(3):Ti(2)),Bi(this);var _=this.g.Z();this.X=_;t:if(ta(this)){var b=Uu(this.g);c="";var H=b.length,J=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),ri(this);var pe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(J&&y==H-1)});b.length=0,this.h.g+=c,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=_==200,Fa(this.i,this.u,this.A,this.l,this.R,Ft,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Ht=this.g;if((Je=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue(Je)){var et=Je;break t}}et=null}if(_=et)wi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dr(this,_);else{this.o=!1,this.s=3,st(12),Ut(this),ri(this);break e}}if(this.P){_=!0;let an;for(;!this.J&&this.C<pe.length;)if(an=na(this,pe),an==hr){Ft==4&&(this.s=4,st(14),_=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(an==ss){this.s=4,st(15),wi(this.i,this.l,pe,"[Invalid Chunk]"),_=!1;break}else wi(this.i,this.l,an,null),dr(this,an);if(ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||pe.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)wi(this.i,this.l,pe,"[Invalid Chunked Response]"),Ut(this),ri(this);else if(0<pe.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),ha(Xt),Xt.M=!0,st(11))}}else wi(this.i,this.l,pe,null),dr(this,pe);Ft==4&&Ut(this),this.o&&!this.J&&(Ft==4?qu(this.j,this):(this.o=!1,fr(this)))}else pf(this.g),_==400&&0<pe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Ut(this),ri(this)}}}catch{}finally{}};function ta(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function na(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?hr:(_=Number(y.substring(_,b)),isNaN(_)?ss:(b+=1,b+_>y.length?hr:(y=y.slice(b,b+_),c.C=b+_,y)))}xt.prototype.cancel=function(){this.J=!0,Ut(this)};function fr(c){c.S=Date.now()+c.I,Ga(c,c.I)}function Ga(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=at(T(c.ba,c),y)}function Bi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}xt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ea(this.i,this.A),this.L!=2&&(Ti(),st(17)),Ut(this),this.s=2,ri(this)):Ga(this,this.S-c)};function ri(c){c.j.G==0||c.J||qu(c.j,c)}function Ut(c){Bi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Dt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function dr(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ia(_.h,c))){if(!c.K&&ia(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ja(_),Xa(_);else break e;ol(_),st(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=at(T(_.Za,_),6e3));if(1>=os(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else wr(_,11)}else if((c.K||_.g==c)&&Ja(_),!ue(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let et=H[y];if(_.T=et[0],et=et[1],_.G==2)if(et[0]=="c"){_.K=et[1],_.ia=et[2];const Xt=et[3];Xt!=null&&(_.la=Xt,_.j.info("VER="+_.la));const Ft=et[4];Ft!=null&&(_.Aa=Ft,_.j.info("SVER="+_.Aa));const br=et[5];br!=null&&typeof br=="number"&&0<br&&(b=1.5*br,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const an=c.g;if(an){const Fi=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var J=b.h;J.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ls(J,J.h),J.h=null))}if(b.D){const ul=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(b.ya=ul,ut(b.I,b.D,ul))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var pe=c;if(b.qa=Fu(b,b.J?b.ia:null,b.W),pe.K){sn(b.h,pe);var Je=pe,Ht=b.L;Ht&&(Je.I=Ht),Je.B&&(Bi(Je),fr(Je)),b.g=pe}else zu(b);0<_.i.length&&Za(_)}else et[0]!="stop"&&et[0]!="close"||wr(_,7);else _.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?wr(_,7):sl(_):et[0]!="noop"&&_.l&&_.l.ta(et),_.v=0)}}Ti(4)}catch{}}var $a=class{constructor(c,y){this.g=c,this.map=y}};function Ai(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function as(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function os(c){return c.h?1:c.g?c.g.size:0}function ia(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ls(c,y){c.g?c.g.add(y):c.h=y}function sn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ai.prototype.cancel=function(){if(this.i=ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ra(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return k(c.i)}function tl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function us(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function sa(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=us(c),b=tl(c),H=b.length,J=0;J<H;J++)y.call(void 0,b[J],_&&_[J],c)}var mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nl(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),H=null;if(0<=b){var J=c[_].substring(0,b);H=c[_].substring(b+1)}else J=c[_];y(J,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function It(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof It){this.h=c.h,pr(this,c.j),this.o=c.o,this.g=c.g,zi(this,c.s),this.l=c.l;var y=c.i,_=new Ii;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ri(this,_),this.m=c.m}else c&&(y=String(c).match(mr))?(this.h=!1,pr(this,y[1]||"",!0),this.o=On(y[2]||""),this.g=On(y[3]||"",!0),zi(this,y[4]),this.l=On(y[5]||"",!0),Ri(this,y[6]||"",!0),this.m=On(y[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}It.prototype.toString=function(){var c=[],y=this.j;y&&c.push(yr(y,aa,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(yr(y,aa,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(yr(_,_.charAt(0)=="/"?il:oa,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",yr(_,cs)),c.join("")};function bn(c){return new It(c)}function pr(c,y,_){c.j=_?On(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function zi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ri(c,y,_){y instanceof Ii?(c.i=y,Qa(c.i,c.h)):(_||(y=yr(y,rl)),c.i=new Ii(y,c.h))}function ut(c,y,_){c.i.set(y,_)}function gr(c){return ut(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function On(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yr(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ka),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ka(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var aa=/[#\/\?@]/g,oa=/[#\?:]/g,il=/[#\?]/g,rl=/[#\?@]/g,cs=/#/g;function Ii(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&nl(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Ii.prototype,r.add=function(c,y){Nn(this),this.i=null,c=si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ci(c,y){Nn(c),y=si(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Oi(c,y){return Nn(c),y=si(c,y),c.g.has(y)}r.forEach=function(c,y){Nn(this),this.g.forEach(function(_,b){_.forEach(function(H){c.call(y,H,b,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const H=c[b];for(let J=0;J<H.length;J++)_.push(y[b])}return _},r.V=function(c){Nn(this);let y=[];if(typeof c=="string")Oi(this,c)&&(y=y.concat(this.g.get(si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Nn(this),this.i=null,c=si(this,c),Oi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function la(c,y,_){Ci(c,y),0<_.length&&(c.i=null,c.g.set(si(c,y),k(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const J=encodeURIComponent(String(b)),pe=this.V(b);for(b=0;b<pe.length;b++){var H=J;pe[b]!==""&&(H+="="+encodeURIComponent(String(pe[b]))),c.push(H)}}return this.i=c.join("&")};function si(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Qa(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(_,b){var H=b.toLowerCase();b!=H&&(Ci(this,b),la(this,H,_))},c)),c.j=y}function _r(c,y){const _=new wn;if(m.Image){const b=new Image;b.onload=R(Dn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=R(Dn,_,"TestLoadImage: error",!1,y,b),b.onabort=R(Dn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=R(Dn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function jn(c,y){const _=new wn,b=new AbortController,H=setTimeout(()=>{b.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(J=>{clearTimeout(H),J.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(_)}catch{}}function ji(){this.g=new Ui}function ai(c,y,_){const b=_||"";try{sa(c,function(H,J){let pe=H;g(H)&&(pe=Wt(H)),y.push(b+J+"="+encodeURIComponent(pe))})}catch(H){throw y.push(b+"type="+encodeURIComponent("_badmap")),H}}function q(c){this.l=c.Ub||null,this.j=c.eb||!1}S(q,Jr),q.prototype.g=function(){return new C(this.l,this.j)},q.prototype.i=function(c){return function(){return c}}({});function C(c,y){be.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(C,be),r=C.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,le(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Z(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,le(this)),this.g&&(this.readyState=3,le(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;P(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function P(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Z(this):le(this),this.readyState==3&&P(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Z(this))},r.Qa=function(c){this.g&&(this.response=c,Z(this))},r.ga=function(){this.g&&Z(this)};function Z(c){c.readyState=4,c.l=null,c.j=null,c.v=null,le(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function le(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(C.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ze(c){let y="";return we(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function He(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=ze(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ut(c,y,_))}function Ue(c){be.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ue,be);var Ni=/^https?$/i,vr=["POST","PUT"];r=Ue.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?es(this.o):es(ti),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(J){Ya(this,J);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)_.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const J of b.keys())_.set(J,b.get(J));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vr,y,void 0))||b||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,pe]of _)this.g.setRequestHeader(J,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qi(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Ya(this,J)}};function Ya(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Er(c),qn(c)}function Er(c){c.A||(c.A=!0,Ee(c,"complete"),Ee(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ee(this,"complete"),Ee(this,"abort"),qn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qn(this,!0)),Ue.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Tr(this):this.bb())},r.bb=function(){Tr(this)};function Tr(c){if(c.h&&typeof f<"u"&&(!c.v[1]||oi(c)!=4||c.Z()!=2)){if(c.u&&oi(c)==4)xe(c.Ea,0,c);else if(Ee(c,"readystatechange"),oi(c)==4){c.h=!1;try{const pe=c.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=pe===0){var H=String(c.D).match(mr)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),b=!Ni.test(H?H.toLowerCase():"")}_=b}if(_)Ee(c,"complete"),Ee(c,"success");else{c.m=6;try{var J=2<oi(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",Er(c)}}finally{qn(c)}}}}function qn(c,y){if(c.g){qi(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ee(c,"ready");try{_.onreadystatechange=b}catch{}}}function qi(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function oi(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Cn(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pf(c){const y={};c=(c.g&&2<=oi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ue(c[b]))continue;var _=B(c[b]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=y[H]||[];y[H]=J,J.push(_)}U(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Wa(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,c),this.cb=ua("retryDelaySeedMs",1e4,c),this.Wa=ua("forwardChannelMaxRetries",2,c),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(c&&c.concurrentRequestLimit),this.Da=new ji,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Wa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){st(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Fu(this,null,this.W),Za(this)};function sl(c){if(Lu(c),c.G==3){var y=c.U++,_=bn(c.I);if(ut(_,"SID",c.K),ut(_,"RID",y),ut(_,"TYPE","terminate"),ca(c,_),y=new xt(c,c.j,y),y.L=2,y.v=gr(bn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Gu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),fr(y)}Hu(c)}function Xa(c){c.g&&(ha(c),c.g.cancel(),c.g=null)}function Lu(c){Xa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ja(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Za(c){if(!as(c.h)&&!c.s){c.s=!0;var y=c.Ga;he||V(),ge||(he(),ge=!0),Ce.add(y,c),c.B=0}}function gf(c,y){return os(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=at(T(c.Ga,c,y),ll(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new xt(this,this.j,c);let J=this.o;if(this.S&&(J?(J=I(J),x(J,this.S)):J=this.S),this.m!==null||this.O||(H.H=J,J=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Bu(this,H,y),_=bn(this.I),ut(_,"RID",c),ut(_,"CVER",22),this.D&&ut(_,"X-HTTP-Session-Id",this.D),ca(this,_),J&&(this.O?y="headers="+encodeURIComponent(String(ze(J)))+"&"+y:this.m&&He(_,this.m,J)),ls(this.h,H),this.Ua&&ut(_,"TYPE","init"),this.P?(ut(_,"$req",y),ut(_,"SID","null"),H.T=!0,zn(H,_,null)):zn(H,_,y),this.G=2}}else this.G==3&&(c?al(this,c):this.i.length==0||as(this.h)||al(this))};function al(c,y){var _;y?_=y.l:_=c.U++;const b=bn(c.I);ut(b,"SID",c.K),ut(b,"RID",_),ut(b,"AID",c.T),ca(c,b),c.m&&c.o&&He(b,c.m,c.o),_=new xt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ls(c.h,_),zn(_,b,y)}function ca(c,y){c.H&&we(c.H,function(_,b){ut(y,b,_)}),c.l&&sa({},function(_,b){ut(y,b,_)})}function Bu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?T(c.l.Na,c.l,c):null;e:{var H=c.i;let J=-1;for(;;){const pe=["count="+_];J==-1?0<_?(J=H[0].g,pe.push("ofs="+J)):J=0:pe.push("ofs="+J);let Je=!0;for(let Ht=0;Ht<_;Ht++){let et=H[Ht].g;const Xt=H[Ht].map;if(et-=J,0>et)J=Math.max(0,H[Ht].g-100),Je=!1;else try{ai(Xt,pe,"req"+et+"_")}catch{b&&b(Xt)}}if(Je){b=pe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;he||V(),ge||(he(),ge=!0),Ce.add(y,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=at(T(c.Fa,c),ll(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=at(T(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Xa(this),ju(this))};function ha(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ju(c){c.g=new xt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=bn(c.qa);ut(y,"RID","rpc"),ut(y,"SID",c.K),ut(y,"AID",c.T),ut(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ut(y,"TO",c.ja),ut(y,"TYPE","xmlhttp"),ca(c,y),c.m&&c.o&&He(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=gr(bn(y)),_.m=null,_.P=!0,ii(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Xa(this),ol(this),st(19))};function Ja(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function qu(c,y){var _=null;if(c.g==y){Ja(c),ha(c),c.g=null;var b=2}else if(ia(c.h,y))_=y.D,sn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;b=Ei(),Ee(b,new Rt(b,_)),Za(c)}else zu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(b==1&&gf(c,y)||b==2&&ol(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:wr(c,5);break;case 4:wr(c,10);break;case 3:wr(c,6);break;default:wr(c,2)}}}function ll(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function wr(c,y){if(c.j.info("Error code "+y),y==2){var _=T(c.fb,c),b=c.Xa;const H=!b;b=new It(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||pr(b,"https"),gr(b),H?_r(b.toString(),_):jn(b.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(y),Hu(c),Lu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Hu(c){if(c.G=0,c.ka=[],c.l){const y=ra(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ka,y),O(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Fu(c,y,_){var b=_ instanceof It?bn(_):new It(_);if(b.g!="")y&&(b.g=y+"."+b.g),zi(b,b.s);else{var H=m.location;b=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var J=new It(null);b&&pr(J,b),y&&(J.g=y),H&&zi(J,H),_&&(J.l=_),b=J}return _=c.D,y=c.ya,_&&y&&ut(b,_,y),ut(b,"VER",c.la),ca(c,b),b}function Gu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ue(new q({eb:_})):new Ue(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}r=$u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function eo(){}eo.prototype.g=function(c,y){return new Sn(c,y)};function Sn(c,y){be.call(this),this.g=new Wa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ue(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ue(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Hi(this)}S(Sn,be),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){sl(this.g)},Sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Wt(c),c=_);y.i.push(new $a(y.Ya++,c)),y.G==3&&Za(y)},Sn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,Sn.aa.N.call(this)};function Ku(c){ei.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(Ku,ei);function Qu(){ns.call(this),this.status=1}S(Qu,ns);function Hi(c){this.g=c}S(Hi,$u),Hi.prototype.ua=function(){Ee(this.g,"a")},Hi.prototype.ta=function(c){Ee(this.g,new Ku(c))},Hi.prototype.sa=function(c){Ee(this.g,new Qu)},Hi.prototype.ra=function(){Ee(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,vw=function(){return new eo},_w=function(){return Ei()},yw=Bn,Xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,mh=bi,Si.COMPLETE="complete",gw=Si,ts.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",be.prototype.listen=be.prototype.K,iu=ts,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,pw=Ue}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore",VE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new Kh("@firebase/firestore");function Do(){return Pa.logLevel}function _e(r,...e){if(Pa.logLevel<=Ke.DEBUG){const t=e.map(Pp);Pa.debug(`Firestore (${Wo}): ${r}`,...t)}}function Yr(r,...e){if(Pa.logLevel<=Ke.ERROR){const t=e.map(Pp);Pa.error(`Firestore (${Wo}): ${r}`,...t)}}function zo(r,...e){if(Pa.logLevel<=Ke.WARN){const t=e.map(Pp);Pa.warn(`Firestore (${Wo}): ${r}`,...t)}}function Pp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r="Unexpected state"){const e=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: `+r;throw Yr(e),new Error(e)}function ct(r,e){r||Ve()}function Be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends yi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class KN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class QN{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ct(typeof s.accessToken=="string"),new Ew(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new yn(e)}}class YN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class WN{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new YN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Kt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0);const s=u=>{u.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,_e("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new xE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct(typeof t.token=="string"),this.R=t.token,new xE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ZN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ge(r,e){return r<e?-1:r>e?1:0}function Zm(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ge(s,o);{const u=Tw(),f=JN(u.encode(UE(r,t)),u.encode(UE(e,t)));return f!==0?f:Ge(s,o)}}t+=s>65535?2:1}return Ge(r.length,e.length)}function UE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function JN(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ge(r[t],e[t]);return Ge(r.length,e.length)}function jo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=-62135596800,BE=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*BE);return new Qt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<LE)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-LE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Qt(0,0))}static max(){return new Le(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__name__";class Xi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ve(),s===void 0?s=e.length-t:s>e.length-t&&Ve(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Xi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ge(e.length,t.length)}static compareSegments(e,t){const s=Xi.isNumericId(e),o=Xi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Xi.extractNumericId(e).compare(Xi.extractNumericId(t)):Zm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class vt extends Xi{construct(e,t,s){return new vt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const eD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Xi{construct(e,t,s){return new hn(e,t,s)}static isValidIdentifier(e){return eD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zE}static keyField(){return new hn([zE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(vt.fromString(e))}static fromName(e){return new Ne(vt.fromString(e).popFirst(5))}static empty(){return new Ne(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function tD(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(s===1e9?new Qt(t+1,0):new Qt(t,s));return new Fs(o,Ne.empty(),e)}function nD(r){return new Fs(r.readTime,r.key,yu)}class Fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Fs(Le.min(),Ne.empty(),yu)}static max(){return new Fs(Le.max(),Ne.empty(),yu)}}function iD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(r.documentKey,e.documentKey),t!==0?t:Ge(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==rD)throw r;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,s)=>{t(e)})}static reject(e){return new se((t,s)=>{s(e)})}static waitFor(e){return new se((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},p=>s(p))}),f=!0,u===o&&t()})}static or(e){let t=se.resolve(!1);for(const s of e)t=t.next(o=>o?se.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new se((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,t){return new se((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function aD(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Zh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=-1;function Jh(r){return r==null}function kh(r){return r===0&&1/r==-1/0}function oD(r){return typeof r=="number"&&Number.isInteger(r)&&!kh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="";function lD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=jE(e)),e=uD(r.get(t),e);return jE(e)}function uD(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case bw:t+="";break;default:t+=u}}return t}function jE(r){return r+bw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ba(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Sw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??cn.RED,this.left=o??cn.EMPTY,this.right=u??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new cn(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,t,s,o,u){return this}insert(e,t,s){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yt(this.comparator);return t.data=e,t}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Pi([])}unionWith(e){let t=new Yt(hn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Pi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Aw("Invalid base64 string: "+u):u}}(e);return new fn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const cD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(r){if(ct(!!r),typeof r=="string"){let e=0;const t=cD.exec(r);if(ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $s(r){return typeof r=="string"?fn.fromBase64String(r):fn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="server_timestamp",Iw="__type__",Cw="__previous_value__",Ow="__local_write_time__";function xp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Iw])===null||t===void 0?void 0:t.stringValue)===Rw}function ef(r){const e=r.mapValue.fields[Cw];return xp(e)?ef(e):e}function _u(r){const e=Gs(r.mapValue.fields[Ow].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t,s,o,u,f,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Mh="(default)";class vu{constructor(e,t){this.projectId=e,this.database=t||Mh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="__type__",fD="__max__",eh={mapValue:{}},Dw="__vector__",Ph="value";function Ks(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xp(r)?4:mD(r)?9007199254740991:dD(r)?10:11:Ve()}function rr(r,e){if(r===e)return!0;const t=Ks(r);if(t!==Ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _u(r).isEqual(_u(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Gs(o.timestampValue),m=Gs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return $s(o.bytesValue).isEqual($s(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Pt(o.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Pt(o.integerValue)===Pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Pt(o.doubleValue),m=Pt(u.doubleValue);return f===m?kh(f)===kh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return jo(r.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(qE(f)!==qE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!rr(f[p],m[p])))return!1;return!0}(r,e);default:return Ve()}}function Eu(r,e){return(r.values||[]).find(t=>rr(t,e))!==void 0}function qo(r,e){if(r===e)return 0;const t=Ks(r),s=Ks(e);if(t!==s)return Ge(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Pt(u.integerValue||u.doubleValue),p=Pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return FE(r.timestampValue,e.timestampValue);case 4:return FE(_u(r),_u(e));case 5:return Zm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=$s(u),p=$s(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ge(m[g],p[g]);if(E!==0)return E}return Ge(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ge(Pt(u.latitude),Pt(f.latitude));return m!==0?m:Ge(Pt(u.longitude),Pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return GE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},T=f.fields||{},R=(m=A[Ph])===null||m===void 0?void 0:m.arrayValue,S=(p=T[Ph])===null||p===void 0?void 0:p.arrayValue,k=Ge(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((E=S==null?void 0:S.values)===null||E===void 0?void 0:E.length)||0);return k!==0?k:GE(R,S)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===eh.mapValue&&f===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const T=Zm(p[A],E[A]);if(T!==0)return T;const R=qo(m[p[A]],g[E[A]]);if(R!==0)return R}return Ge(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ve()}}function FE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const t=Gs(r),s=Gs(e),o=Ge(t.seconds,s.seconds);return o!==0?o:Ge(t.nanos,s.nanos)}function GE(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=qo(t[o],s[o]);if(u)return u}return Ge(t.length,s.length)}function Ho(r){return Jm(r)}function Jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Gs(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return $s(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ne.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Jm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Jm(t.fields[f])}`;return o+"}"}(r.mapValue):Ve()}function ph(r){switch(Ks(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ef(r);return e?16+ph(e):16;case 5:return 2*r.stringValue.length;case 6:return $s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ph(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ba(s.fields,(u,f)=>{o+=u.length+ph(f)}),o}(r.mapValue);default:throw Ve()}}function $E(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ep(r){return!!r&&"integerValue"in r}function Up(r){return!!r&&"arrayValue"in r}function KE(r){return!!r&&"nullValue"in r}function QE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gh(r){return!!r&&"mapValue"in r}function dD(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nw])===null||t===void 0?void 0:t.stringValue)===Dw}function cu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ba(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=cu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function mD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===fD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(t)}setAll(e){let t=hn.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=cu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ba(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new pi(cu(this.value))}}function kw(r){const e=[];return Ba(r.fields,(t,s)=>{const o=new hn([t]);if(gh(s)){const u=kw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Le.min(),Le.min(),Le.min(),pi.empty(),0)}static newFoundDocument(e,t,s,o){return new _n(e,1,t,Le.min(),s,o,0)}static newNoDocument(e,t){return new _n(e,2,t,Le.min(),Le.min(),pi.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Le.min(),Le.min(),pi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.position=e,this.inclusive=t}}function YE(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ne.comparator(Ne.fromName(f.referenceValue),t.key):s=qo(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function WE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!rr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t="asc"){this.field=e,this.dir=t}}function pD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{}class jt extends Mw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new yD(e,t,s):t==="array-contains"?new ED(e,s):t==="in"?new TD(e,s):t==="not-in"?new wD(e,s):t==="array-contains-any"?new bD(e,s):new jt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new _D(e,s):new vD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(qo(t,this.value)):t!==null&&Ks(this.value)===Ks(t)&&this.matchesComparison(qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends Mw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new xi(e,t)}matches(e){return Pw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Pw(r){return r.op==="and"}function Vw(r){return gD(r)&&Pw(r)}function gD(r){for(const e of r.filters)if(e instanceof xi)return!1;return!0}function tp(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Ho(r.value);if(Vw(r))return r.filters.map(e=>tp(e)).join(",");{const e=r.filters.map(t=>tp(t)).join(",");return`${r.op}(${e})`}}function xw(r,e){return r instanceof jt?function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)}(r,e):r instanceof xi?function(s,o){return o instanceof xi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&xw(f,o.filters[m]),!0):!1}(r,e):void Ve()}function Uw(r){return r instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ho(t.value)}`}(r):r instanceof xi?function(t){return t.op.toString()+" {"+t.getFilters().map(Uw).join(" ,")+"}"}(r):"Filter"}class yD extends jt{constructor(e,t,s){super(e,t,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class _D extends jt{constructor(e,t){super(e,"in",t),this.keys=Lw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vD extends jt{constructor(e,t){super(e,"not-in",t),this.keys=Lw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Lw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ne.fromName(s.referenceValue))}class ED extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Up(t)&&Eu(t.arrayValue,this.value)}}class TD extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Eu(this.value.arrayValue,t)}}class wD extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Eu(this.value.arrayValue,t)}}class bD extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Up(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Eu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function XE(r,e=null,t=[],s=[],o=null,u=null,f=null){return new SD(r,e,t,s,o,u,f)}function Lp(r){const e=Be(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>tp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ho(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ho(s)).join(",")),e.le=t}return e.le}function Bp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!pD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!xw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!WE(r.startAt,e.startAt)&&WE(r.endAt,e.endAt)}function np(r){return Ne.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function AD(r,e,t,s,o,u,f,m){return new Jo(r,e,t,s,o,u,f,m)}function zp(r){return new Jo(r)}function ZE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Bw(r){return r.collectionGroup!==null}function hu(r){const e=Be(r);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Yt(hn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Tu(u,s))}),t.has(hn.keyField().canonicalString())||e.he.push(new Tu(hn.keyField(),s))}return e.he}function tr(r){const e=Be(r);return e.Pe||(e.Pe=RD(e,hu(r))),e.Pe}function RD(r,e){if(r.limitType==="F")return XE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Tu(o.field,u)});const t=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return XE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function ip(r,e){const t=r.filters.concat([e]);return new Jo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function xh(r,e,t){return new Jo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function tf(r,e){return Bp(tr(r),tr(e))&&r.limitType===e.limitType}function zw(r){return`${Lp(tr(r))}|lt:${r.limitType}`}function ko(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Uw(o)).join(", ")}]`),Jh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Ho(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Ho(o)).join(",")),`Target(${s})`}(tr(r))}; limitType=${r.limitType})`}function nf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ne.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of hu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=YE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,hu(s),o)||s.endAt&&!function(f,m,p){const g=YE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,hu(s),o))}(r,e)}function ID(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jw(r){return(e,t)=>{let s=!1;for(const o of hu(r)){const u=CD(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function CD(r,e,t){const s=r.field.isKeyField()?Ne.comparator(e.key,t.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?qo(p,g):Ve()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Sw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new At(Ne.comparator);function Wr(){return OD}const qw=new At(Ne.comparator);function ru(...r){let e=qw;for(const t of r)e=e.insert(t.key,t);return e}function Hw(r){let e=qw;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Na(){return fu()}function Fw(){return fu()}function fu(){return new za(r=>r.toString(),(r,e)=>r.isEqual(e))}const ND=new At(Ne.comparator),DD=new Yt(Ne.comparator);function Xe(...r){let e=DD;for(const t of r)e=e.add(t);return e}const kD=new Yt(Ge);function MD(){return kD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function Gw(r){return{integerValue:""+r}}function PD(r,e){return oD(e)?Gw(e):jp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function VD(r,e,t){return r instanceof wu?function(o,u){const f={fields:{[Iw]:{stringValue:Rw},[Ow]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xp(u)&&(u=ef(u)),u&&(f.fields[Cw]=u),{mapValue:f}}(t,e):r instanceof bu?Kw(r,e):r instanceof Su?Qw(r,e):function(o,u){const f=$w(o,u),m=JE(f)+JE(o.Ie);return ep(f)&&ep(o.Ie)?Gw(m):jp(o.serializer,m)}(r,e)}function xD(r,e,t){return r instanceof bu?Kw(r,e):r instanceof Su?Qw(r,e):t}function $w(r,e){return r instanceof Uh?function(s){return ep(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class wu extends rf{}class bu extends rf{constructor(e){super(),this.elements=e}}function Kw(r,e){const t=Yw(e);for(const s of r.elements)t.some(o=>rr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Su extends rf{constructor(e){super(),this.elements=e}}function Qw(r,e){let t=Yw(e);for(const s of r.elements)t=t.filter(o=>!rr(o,s));return{arrayValue:{values:t}}}class Uh extends rf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function JE(r){return Pt(r.integerValue||r.doubleValue)}function Yw(r){return Up(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t){this.field=e,this.transform=t}}function LD(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof bu&&o instanceof bu||s instanceof Su&&o instanceof Su?jo(s.elements,o.elements,rr):s instanceof Uh&&o instanceof Uh?rr(s.Ie,o.Ie):s instanceof wu&&o instanceof wu}(r.transform,e.transform)}class BD{constructor(e,t){this.version=e,this.transformResults=t}}class Fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class sf{}function Ww(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Zw(r.key,Fr.none()):new Mu(r.key,r.data,Fr.none());{const t=r.data,s=pi.empty();let o=new Yt(hn.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ja(r.key,s,new Pi(o.toArray()),Fr.none())}}function zD(r,e,t){r instanceof Mu?function(o,u,f){const m=o.value.clone(),p=tT(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,t):r instanceof ja?function(o,u,f){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=tT(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Xw(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function du(r,e,t,s){return r instanceof Mu?function(u,f,m,p){if(!yh(u.precondition,f))return m;const g=u.value.clone(),E=nT(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof ja?function(u,f,m,p){if(!yh(u.precondition,f))return m;const g=nT(u.fieldTransforms,p,f),E=f.data;return E.setAll(Xw(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,t,s):function(u,f,m){return yh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,t)}function jD(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=$w(s.transform,o||null);u!=null&&(t===null&&(t=pi.empty()),t.set(s.field,u))}return t||null}function eT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&jo(s,o,(u,f)=>LD(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Mu extends sf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ja extends sf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Xw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function tT(r,e,t){const s=new Map;ct(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,xD(f,m,t[o]))}return s}function nT(r,e,t){const s=new Map;for(const o of r){const u=o.transform,f=t.data.field(o.field);s.set(o.field,VD(u,f,e))}return s}class Zw extends sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qD extends sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&zD(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=du(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=du(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Fw();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=Ww(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Le.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xe())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(t,s)=>eT(t,s))&&jo(this.baseMutations,e.baseMutations,(t,s)=>eT(t,s))}}class qp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ct(e.mutations.length===s.length);let o=function(){return ND}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new qp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,nt;function $D(r){switch(r){case re.OK:return Ve();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ve()}}function Jw(r){if(r===void 0)return Yr("GRPC error has no .code"),re.UNKNOWN;switch(r){case zt.OK:return re.OK;case zt.CANCELLED:return re.CANCELLED;case zt.UNKNOWN:return re.UNKNOWN;case zt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case zt.INTERNAL:return re.INTERNAL;case zt.UNAVAILABLE:return re.UNAVAILABLE;case zt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case zt.NOT_FOUND:return re.NOT_FOUND;case zt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case zt.ABORTED:return re.ABORTED;case zt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case zt.DATA_LOSS:return re.DATA_LOSS;default:return Ve()}}(nt=zt||(zt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new js([4294967295,4294967295],0);function iT(r){const e=Tw().encode(r),t=new mw;return t.update(e),new Uint8Array(t.digest())}function rT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new js([t,s],0),new js([o,u],0)]}class Hp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new su(`Invalid padding: ${t}`);if(s<0)throw new su(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new su(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=js.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(js.fromNumber(s)));return o.compare(KD)===1&&(o=new js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=iT(e),[s,o]=rT(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Hp(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const t=iT(e),[s,o]=rT(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new af(Le.min(),o,new At(Ge),Wr(),Xe())}}class Pu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Pu(s,t,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class eb{constructor(e,t){this.targetId=e,this.ge=t}}class tb{constructor(e,t,s=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class sT{constructor(){this.pe=0,this.ye=aT(),this.we=fn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Xe(),t=Xe(),s=Xe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ve()}}),new Pu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=aT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ct(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class QD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Wr(),this.$e=th(),this.Ue=th(),this.Ke=new At(Ge)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ve()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(np(u))if(s===0){const f=new Ne(u.path);this.ze(t,f,_n.newNoDocument(f,Le.min()))}else ct(s===1);else{const f=this.et(t);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=$s(s).toUint8Array()}catch(p){if(p instanceof Aw)return zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Hp(f,o,u)}catch(p){return zo(p instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&np(m.target)){const p=new Ne(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,_n.newNoDocument(p,e))}u.ve&&(t.set(f,u.Fe()),u.Me())}});let s=Xe();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new af(e,t,this.Ke,this.Qe,s);return this.Qe=Wr(),this.$e=th(),this.Ue=th(),this.Ke=new At(Ge),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new sT,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Yt(Ge),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Yt(Ge),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new sT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function th(){return new At(Ne.comparator)}function aT(){return new At(Ne.comparator)}const YD={asc:"ASCENDING",desc:"DESCENDING"},WD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XD={and:"AND",or:"OR"};class ZD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rp(r,e){return r.useProto3Json||Jh(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function JD(r,e){return Lh(r,e.toTimestamp())}function nr(r){return ct(!!r),Le.fromTimestamp(function(t){const s=Gs(t);return new Qt(s.seconds,s.nanos)}(r))}function Fp(r,e){return sp(r,e).canonicalString()}function sp(r,e){const t=function(o){return new vt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function ib(r){const e=vt.fromString(r);return ct(lb(e)),e}function ap(r,e){return Fp(r.databaseId,e.path)}function Im(r,e){const t=ib(e);if(t.get(1)!==r.databaseId.projectId)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ne(sb(t))}function rb(r,e){return Fp(r.databaseId,e)}function e2(r){const e=ib(r);return e.length===4?vt.emptyPath():sb(e)}function op(r){return new vt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sb(r){return ct(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function oT(r,e,t){return{name:ap(r,e),fields:t.value.mapValue.fields}}function t2(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(ct(E===void 0||typeof E=="string"),fn.fromBase64String(E||"")):(ct(E===void 0||E instanceof Buffer||E instanceof Uint8Array),fn.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?re.UNKNOWN:Jw(g.code);return new ve(E,g.message||"")}(f);t=new tb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Im(r,s.document.name),u=nr(s.document.updateTime),f=s.document.createTime?nr(s.document.createTime):Le.min(),m=new pi({mapValue:{fields:s.document.fields}}),p=_n.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new _h(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Im(r,s.document),u=s.readTime?nr(s.readTime):Le.min(),f=_n.newNoDocument(o,u),m=s.removedTargetIds||[];t=new _h([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Im(r,s.document),u=s.removedTargetIds||[];t=new _h([],u,o,null)}else{if(!("filter"in e))return Ve();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new GD(o,u),m=s.targetId;t=new eb(m,f)}}return t}function n2(r,e){let t;if(e instanceof Mu)t={update:oT(r,e.key,e.value)};else if(e instanceof Zw)t={delete:ap(r,e.key)};else if(e instanceof ja)t={update:oT(r,e.key,e.data),updateMask:h2(e.fieldMask)};else{if(!(e instanceof qD))return Ve();t={verify:ap(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof wu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ve()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:JD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ve()}(r,e.precondition)),t}function i2(r,e){return r&&r.length>0?(ct(e!==void 0),r.map(t=>function(o,u){let f=o.updateTime?nr(o.updateTime):nr(u);return f.isEqual(Le.min())&&(f=nr(u)),new BD(f,o.transformResults||[])}(t,e))):[]}function r2(r,e){return{documents:[rb(r,e.path)]}}function s2(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=rb(r,o);const u=function(g){if(g.length!==0)return ob(xi.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(T){return{field:Mo(T.field),direction:l2(T.dir)}}(E))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=rp(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function a2(r){let e=e2(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ct(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(A){const T=ab(A);return T instanceof xi&&Vw(T)?T.getFilters():[T]}(t.where));let f=[];t.orderBy&&(f=function(A){return A.map(T=>function(S){return new Tu(Po(S.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(T))}(t.orderBy));let m=null;t.limit&&(m=function(A){let T;return T=typeof A=="object"?A.value:A,Jh(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(A){const T=!!A.before,R=A.values||[];return new Vh(R,T)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const T=!A.before,R=A.values||[];return new Vh(R,T)}(t.endAt)),AD(e,o,f,u,m,"F",p,g)}function o2(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ab(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Po(t.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Po(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Po(t.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Po(t.unaryFilter.field);return jt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(r):r.fieldFilter!==void 0?function(t){return jt.create(Po(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return xi.create(t.compositeFilter.filters.map(s=>ab(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve()}}(t.compositeFilter.op))}(r):Ve()}function l2(r){return YD[r]}function u2(r){return WD[r]}function c2(r){return XD[r]}function Mo(r){return{fieldPath:r.canonicalString()}}function Po(r){return hn.fromServerFormat(r.fieldPath)}function ob(r){return r instanceof jt?function(t){if(t.op==="=="){if(QE(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(KE(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QE(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(KE(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:u2(t.op),value:t.value}}}(r):r instanceof xi?function(t){const s=t.getFilters().map(o=>ob(o));return s.length===1?s[0]:{compositeFilter:{op:c2(t.op),filters:s}}}(r):Ve()}function h2(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,s,o,u=Le.min(),f=Le.min(),m=fn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.Tt=e}}function d2(r){const e=a2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.Tn=new p2}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Fs.min())}updateCollectionGroup(e,t,s){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class p2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Yt(vt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Yt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ub=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(ub,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Fo(0)}static Kn(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="LruGarbageCollector",g2=1048576;function cT([r,e],[t,s]){const o=Ge(r,t);return o===0?Ge(e,s):o}class y2{constructor(e){this.Hn=e,this.buffer=new Yt(cT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();cT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){_e(uT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?_e(uT,"Ignoring IndexedDB error during garbage collection: ",t):await Xo(t)}await this.er(3e5)})}}class v2{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Zh.ae);const s=new y2(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(lT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Do()<=Ke.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function E2(r,e){return new v2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.changes=new za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?se.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&du(s.mutation,o,Pi.empty(),Qt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Xe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Xe()){const o=Na();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=ru();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Na();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Xe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=Wr();const f=fu(),m=function(){return fu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ja)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),du(E.mutation,g,E.mutation.getFieldMask(),Qt.now())):f.set(g.key,Pi.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),t.forEach((g,E)=>{var A;return m.set(g,new w2(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const s=fu();let o=new At((f,m)=>f-m),u=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Pi.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Xe()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=Fw();E.forEach(T=>{if(!u.has(T)){const R=Ww(t.get(T),s.get(T));R!==null&&A.set(T,R),u=u.add(T)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return se.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return Ne.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):se.resolve(Na());let m=yu,p=u;return f.next(g=>se.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next(T=>{p=p.insert(E,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Xe())).next(E=>({batchId:m,changes:Hw(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(s=>{let o=ru();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=ru();return this.indexManager.getCollectionParents(e,u).next(m=>se.forEach(m,p=>{const g=function(A,T){return new Jo(T,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,T)=>{f=f.insert(A,T)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,_n.newInvalidDocument(E)))});let m=ru();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&du(E.mutation,g,Pi.empty(),Qt.now()),nf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:nr(o.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:d2(o.bundledQuery),readTime:nr(o.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.overlays=new At(Ne.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Na();return se.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),se.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),se.resolve()}getOverlaysForCollection(e,t,s){const o=Na(),u=t.length+1,f=new Ne(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new At((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Na(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return se.resolve(m)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new FD(t,s));let u=this.Rr.get(t);u===void 0&&(u=Xe(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this.Vr=new Yt(tn.mr),this.gr=new Yt(tn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new tn(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new tn(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new Ne(new vt([])),s=new tn(t,e),o=new tn(t,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ne(new vt([])),s=new tn(t,e),o=new tn(t,e+1);let u=Xe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new tn(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ne.comparator(e.key,t.key)||Ge(e.Cr,t.Cr)}static pr(e,t){return Ge(e.Cr,t.Cr)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Yt(tn.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new HD(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new tn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(f)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Vp:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new tn(t,0),o=new tn(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Yt(Ge);return t.forEach(o=>{const u=new tn(o,0),f=new tn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),se.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Ne.isDocumentKey(u)||(u=u.child(""));const f=new tn(new Ne(u),0);let m=new Yt(Ge);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),se.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ct(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return se.forEach(t.mutations,o=>{const u=new tn(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new tn(t,0),o=this.Mr.firstAfterOrEqual(s);return se.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.kr=e,this.docs=function(){return new At(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return se.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let s=Wr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))}),se.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Wr();const f=t.path,m=new Ne(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||iD(nD(E),s)<=0||(o.has(E.key)||nf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ve()}qr(e,t){return se.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new O2(this)}getSize(e){return se.resolve(this.size)}}class O2 extends T2{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.persistence=e,this.Qr=new za(t=>Lp(t),Bp),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Gp,this.targetCount=0,this.Kr=Fo.Un()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return se.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),se.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),se.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return se.resolve(s)}containsKey(e,t){return se.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Zh(0),this.zr=!1,this.zr=!0,this.jr=new R2,this.referenceDelegate=e(this),this.Hr=new N2(this),this.indexManager=new m2,this.remoteDocumentCache=function(o){return new C2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new f2(t),this.Yr=new S2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new A2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new I2(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){_e("MemoryPersistence","Starting transaction:",e);const o=new D2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return se.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class D2 extends sD{constructor(e){super(),this.currentSequenceNumber=e}}class $p{constructor(e){this.persistence=e,this.ti=new Gp,this.ni=null}static ri(e){return new $p(e)}get ii(){if(this.ni)return this.ni;throw Ve()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),se.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,s=>{const o=Ne.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Le.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Bh{constructor(e,t){this.persistence=e,this.oi=new za(s=>lD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=E2(this,t)}static ri(e,t){return new Bh(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?se.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,t).next(m=>{m||(s++,u.removeEntry(f,Le.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ph(e.data.value)),t}ar(e,t,s){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Xe(),o=Xe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return CI()?8:aD(Et())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new k2;return this._s(e,t,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,t,f,m.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Do()<=Ke.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(Do()<=Ke.DEBUG&&_e("QueryEngine","Query:",ko(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Do()<=Ke.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):se.resolve())}rs(e,t){if(ZE(t))return se.resolve(null);let s=tr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=xh(t,null,"F"),s=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Xe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,m);return this.ls(t,g,f,p.readTime)?this.rs(e,xh(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return ZE(t)||o.isEqual(Le.min())?se.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(t,u);return this.ls(t,f,s,o)?se.resolve(null):(Do()<=Ke.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ko(t)),this.hs(e,f,t,tD(o,yu)).next(m=>m))})}cs(e,t){let s=new Yt(jw(e));return t.forEach((o,u)=>{nf(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Do()<=Ke.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",ko(t)),this.ns.getDocumentsMatchingQuery(e,t,Fs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="LocalStore",P2=3e8;class V2{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new At(Ge),this.Is=new za(u=>Lp(u),Bp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function x2(r,e,t,s){return new V2(r,e,t,s)}async function hb(r,e){const t=Be(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Xe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function U2(r,e){const t=Be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,T=A.keys();let R=se.resolve();return T.forEach(S=>{R=R.next(()=>E.getEntry(p,S)).next(k=>{const O=g.docVersions.get(S);ct(O!==null),k.version.compareTo(O)<0&&(A.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),E.addEntry(k)))})}),R.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Xe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function fb(r){const e=Be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function L2(r,e){const t=Be(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((E,A)=>{const T=o.get(A);if(!T)return;m.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,A)));let R=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?R=R.withResumeToken(fn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):E.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(E.resumeToken,s)),o=o.insert(A,R),function(k,O,Y){return k.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=P2?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(T,R,E)&&m.push(t.Hr.updateTargetData(u,R))});let p=Wr(),g=Xe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(B2(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Le.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(A=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return se.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function B2(r,e,t){let s=Xe(),o=Xe();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Wr();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):_e(Qp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function z2(r,e){const t=Be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Vp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function j2(r,e){const t=Be(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,se.resolve(o)):t.Hr.allocateTargetId(s).next(f=>(o=new Ls(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function lp(r,e,t){const s=Be(r),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Zo(f))throw f;_e(Qp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function hT(r,e,t){const s=Be(r);let o=Le.min(),u=Xe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=Be(p),T=A.Is.get(E);return T!==void 0?se.resolve(A.Ts.get(T)):A.Hr.getTargetData(g,E)}(s,f,tr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,t?o:Le.min(),t?u:Xe())).next(m=>(q2(s,ID(e),m),{documents:m,gs:u})))}function q2(r,e,t){let s=r.Es.get(e)||Le.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class fT{constructor(){this.activeTargetIds=MD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H2{constructor(){this.ho=new fT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new fT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="ConnectivityMonitor";class mT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){_e(dT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){_e(dT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function up(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",G2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const f=up(),m=this.bo(e,t.toUriEncodedString());_e(Cm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(_e(Cm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw zo(Cm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,t,s,o,u,f){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=G2[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class Q2 extends $2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=up();return new Promise((f,m)=>{const p=new pw;p.setWithCredentials(!0),p.listenOnce(gw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case mh.NO_ERROR:const E=p.getResponseJson();_e(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case mh.TIMEOUT:_e(gn,`RPC '${e}' ${u} timed out`),m(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const A=p.getStatus();if(_e(gn,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const S=function(O){const Y=O.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Y)>=0?Y:re.UNKNOWN}(R.status);m(new ve(S,R.message))}else m(new ve(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(re.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{_e(gn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);_e(gn,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=up(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=vw(),m=_w(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");_e(gn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);let T=!1,R=!1;const S=new K2({Fo:O=>{R?_e(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(T||(_e(gn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),T=!0),_e(gn,`RPC '${e}' stream ${o} sending:`,O),A.send(O))},Mo:()=>A.close()}),k=(O,Y,ue)=>{O.listen(Y,$=>{try{ue($)}catch(oe){setTimeout(()=>{throw oe},0)}})};return k(A,iu.EventType.OPEN,()=>{R||(_e(gn,`RPC '${e}' stream ${o} transport opened.`),S.Qo())}),k(A,iu.EventType.CLOSE,()=>{R||(R=!0,_e(gn,`RPC '${e}' stream ${o} transport closed`),S.Uo())}),k(A,iu.EventType.ERROR,O=>{R||(R=!0,zo(gn,`RPC '${e}' stream ${o} transport errored:`,O),S.Uo(new ve(re.UNAVAILABLE,"The operation could not be completed")))}),k(A,iu.EventType.MESSAGE,O=>{var Y;if(!R){const ue=O.data[0];ct(!!ue);const $=ue,oe=($==null?void 0:$.error)||((Y=$[0])===null||Y===void 0?void 0:Y.error);if(oe){_e(gn,`RPC '${e}' stream ${o} received error:`,oe);const me=oe.status;let we=function(N){const x=zt[N];if(x!==void 0)return Jw(x)}(me),U=oe.message;we===void 0&&(we=re.INTERNAL,U="Unknown error status: "+me+" with message "+oe.message),R=!0,S.Uo(new ve(we,U)),A.close()}else _e(gn,`RPC '${e}' stream ${o} received:`,ue),S.Ko(ue)}}),k(m,yw.STAT_EVENT,O=>{O.stat===Xm.PROXY?_e(gn,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===Xm.NOPROXY&&_e(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(r){return new ZD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="PersistentStream";class mb{constructor(e,t,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new db(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ve(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return _e(pT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(_e(pT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y2 extends mb{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=t2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Le.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Le.min():f.readTime?nr(f.readTime):Le.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=op(this.serializer),t.addTarget=function(u,f){let m;const p=f.target;if(m=np(p)?{documents:r2(u,p)}:{query:s2(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=nb(u,f.resumeToken);const g=rp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Le.min())>0){m.readTime=Lh(u,f.snapshotVersion.toTimestamp());const g=rp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=o2(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=op(this.serializer),t.removeTarget=e,this.I_(t)}}class W2 extends mb{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=i2(e.writeResults,e.commitTime),s=nr(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=op(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>n2(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{}class Z2 extends X2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,sp(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(re.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,sp(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ve(re.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class J2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yr(t),this.N_=!1):_e("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class ek{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{qa(this)&&(_e(Va,"Restarting streams for network reachability change."),await async function(p){const g=Be(p);g.W_.add(4),await Vu(g),g.j_.set("Unknown"),g.W_.delete(4),await lf(g)}(this))})}),this.j_=new J2(s,o)}}async function lf(r){if(qa(r))for(const e of r.G_)await e(!0)}async function Vu(r){for(const e of r.G_)await e(!1)}function pb(r,e){const t=Be(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Zp(t)?Xp(t):el(t).c_()&&Wp(t,e))}function Yp(r,e){const t=Be(r),s=el(t);t.K_.delete(e),s.c_()&&gb(t,e),t.K_.size===0&&(s.c_()?s.P_():qa(t)&&t.j_.set("Unknown"))}function Wp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(r).y_(e)}function gb(r,e){r.H_.Ne(e),el(r).w_(e)}function Xp(r){r.H_=new QD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),el(r).start(),r.j_.B_()}function Zp(r){return qa(r)&&!el(r).u_()&&r.K_.size>0}function qa(r){return Be(r).W_.size===0}function yb(r){r.H_=void 0}async function tk(r){r.j_.set("Online")}async function nk(r){r.K_.forEach((e,t)=>{Wp(r,e)})}async function ik(r,e){yb(r),Zp(r)?(r.j_.q_(e),Xp(r)):r.j_.set("Unknown")}async function rk(r,e,t){if(r.j_.set("Online"),e instanceof tb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){_e(Va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(r,s)}else if(e instanceof _h?r.H_.We(e):e instanceof eb?r.H_.Ze(e):r.H_.je(e),!t.isEqual(Le.min()))try{const s=await fb(r.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(fn.EMPTY_BYTE_STRING,E.snapshotVersion)),gb(u,p);const A=new Ls(E.target,p,g,E.sequenceNumber);Wp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){_e(Va,"Failed to raise snapshot:",s),await zh(r,s)}}async function zh(r,e,t){if(!Zo(e))throw e;r.W_.add(1),await Vu(r),r.j_.set("Offline"),t||(t=()=>fb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{_e(Va,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await lf(r)})}function _b(r,e){return e().catch(t=>zh(r,t,e))}async function uf(r){const e=Be(r),t=Qs(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Vp;for(;sk(e);)try{const o=await z2(e.localStore,s);if(o===null){e.U_.length===0&&t.P_();break}s=o.batchId,ak(e,o)}catch(o){await zh(e,o)}vb(e)&&Eb(e)}function sk(r){return qa(r)&&r.U_.length<10}function ak(r,e){r.U_.push(e);const t=Qs(r);t.c_()&&t.S_&&t.b_(e.mutations)}function vb(r){return qa(r)&&!Qs(r).u_()&&r.U_.length>0}function Eb(r){Qs(r).start()}async function ok(r){Qs(r).C_()}async function lk(r){const e=Qs(r);for(const t of r.U_)e.b_(t.mutations)}async function uk(r,e,t){const s=r.U_.shift(),o=qp.from(s,e,t);await _b(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await uf(r)}async function ck(r,e){e&&Qs(r).S_&&await async function(s,o){if(function(f){return $D(f)&&f!==re.ABORTED}(o.code)){const u=s.U_.shift();Qs(s).h_(),await _b(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uf(s)}}(r,e),vb(r)&&Eb(r)}async function gT(r,e){const t=Be(r);t.asyncQueue.verifyOperationInProgress(),_e(Va,"RemoteStore received new credentials");const s=qa(t);t.W_.add(3),await Vu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await lf(t)}async function hk(r,e){const t=Be(r);e?(t.W_.delete(2),await lf(t)):e||(t.W_.add(2),await Vu(t),t.j_.set("Unknown"))}function el(r){return r.J_||(r.J_=function(t,s,o){const u=Be(t);return u.M_(),new Y2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:tk.bind(null,r),No:nk.bind(null,r),Lo:ik.bind(null,r),p_:rk.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Zp(r)?Xp(r):r.j_.set("Unknown")):(await r.J_.stop(),yb(r))})),r.J_}function Qs(r){return r.Y_||(r.Y_=function(t,s,o){const u=Be(t);return u.M_(),new W2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:ok.bind(null,r),Lo:ck.bind(null,r),D_:lk.bind(null,r),v_:uk.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await uf(r)):(await r.Y_.stop(),r.U_.length>0&&(_e(Va,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new Jp(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(r,e){if(Yr("AsyncQueue",`${e}: ${r}`),Zo(r))return new ve(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ne.comparator(t.key,s.key):(t,s)=>Ne.comparator(t.key,s.key),this.keyedMap=ru(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.Z_=new At(Ne.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ve():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Go{constructor(e,t,s,o,u,f,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new Go(e,t,Lo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class dk{constructor(){this.queries=_T(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Be(t),u=o.queries;o.queries=_T(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function _T(){return new za(r=>zw(r),tf)}async function Tb(r,e){const t=Be(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new fk,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=eg(f,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&tg(t)}async function wb(r,e){const t=Be(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function mk(r,e){const t=Be(r);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&tg(t)}function pk(r,e,t){const s=Be(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function tg(r){r.ia.forEach(e=>{e.next()})}var cp,vT;(vT=cp||(cp={}))._a="default",vT.Cache="cache";class bb{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.key=e}}class Ab{constructor(e){this.key=e}}class gk{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Xe(),this.mutatedKeys=Xe(),this.ya=jw(e),this.wa=new Lo(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new yT,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const T=o.get(E),R=nf(this.query,A)?A:null,S=!!T&&this.mutatedKeys.has(T.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let O=!1;T&&R?T.data.isEqual(R.data)?S!==k&&(s.track({type:3,doc:R}),O=!0):this.va(T,R)||(s.track({type:2,doc:R}),O=!0,(p&&this.ya(R,p)>0||g&&this.ya(R,g)<0)&&(m=!0)):!T&&R?(s.track({type:0,doc:R}),O=!0):T&&!R&&(s.track({type:1,doc:T}),O=!0,(p||g)&&(m=!0)),O&&(R?(f=f.add(R),u=k?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,A)=>function(R,S){const k=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return k(R)-k(S)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new Go(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new yT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Xe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Ab(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Sb(s))}),t}Oa(e){this.fa=e.gs,this.pa=Xe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Go.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ng="SyncEngine";class yk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class _k{constructor(e){this.key=e,this.Ba=!1}}class vk{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new za(m=>zw(m),tf),this.qa=new Map,this.Qa=new Set,this.$a=new At(Ne.comparator),this.Ua=new Map,this.Ka=new Gp,this.Wa={},this.Ga=new Map,this.za=Fo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Ek(r,e,t=!0){const s=Db(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Rb(s,e,t,!0),o}async function Tk(r,e){const t=Db(r);await Rb(t,e,!0,!1)}async function Rb(r,e,t,s){const o=await j2(r.localStore,tr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await wk(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&t&&pb(r.remoteStore,o),m}async function wk(r,e,t,s,o){r.Ha=(A,T,R)=>async function(k,O,Y,ue){let $=O.view.ba(Y);$.ls&&($=await hT(k.localStore,O.query,!1).then(({documents:U})=>O.view.ba(U,$)));const oe=ue&&ue.targetChanges.get(O.targetId),me=ue&&ue.targetMismatches.get(O.targetId)!=null,we=O.view.applyChanges($,k.isPrimaryClient,oe,me);return TT(k,O.targetId,we.Ma),we.snapshot}(r,A,T,R);const u=await hT(r.localStore,e,!0),f=new gk(e,u.gs),m=f.ba(u.documents),p=Pu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);TT(r,t,g.Ma);const E=new yk(e,t,f);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),g.snapshot}async function bk(r,e,t){const s=Be(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!tf(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Yp(s.remoteStore,o.targetId),hp(s,o.targetId)}).catch(Xo)):(hp(s,o.targetId),await lp(s.localStore,o.targetId,!0))}async function Sk(r,e){const t=Be(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Yp(t.remoteStore,s.targetId))}async function Ak(r,e,t){const s=kk(r);try{const o=await function(f,m){const p=Be(f),g=Qt.now(),E=m.reduce((R,S)=>R.add(S.key),Xe());let A,T;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let S=Wr(),k=Xe();return p.ds.getEntries(R,E).next(O=>{S=O,S.forEach((Y,ue)=>{ue.isValidDocument()||(k=k.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,S)).next(O=>{A=O;const Y=[];for(const ue of m){const $=jD(ue,A.get(ue.key).overlayedDocument);$!=null&&Y.push(new ja(ue.key,$,kw($.value.mapValue),Fr.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,Y,m)}).next(O=>{T=O;const Y=O.applyToLocalDocumentSet(A,k);return p.documentOverlayCache.saveOverlays(R,O.batchId,Y)})}).then(()=>({batchId:T.batchId,changes:Hw(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new At(Ge)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,t),await xu(s,o.changes),await uf(s.remoteStore)}catch(o){const u=eg(o,"Failed to persist write");t.reject(u)}}async function Ib(r,e){const t=Be(r);try{const s=await L2(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Ua.get(u);f&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?ct(f.Ba):o.removedDocuments.size>0&&(ct(f.Ba),f.Ba=!1))}),await xu(t,s,e)}catch(s){await Xo(s)}}function ET(r,e,t){const s=Be(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Be(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const T of A.ta)T.sa(m)&&(g=!0)}),g&&tg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Rk(r,e,t){const s=Be(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new At(Ne.comparator);f=f.insert(u,_n.newNoDocument(u,Le.min()));const m=Xe().add(u),p=new af(Le.min(),new Map,new At(Ge),f,m);await Ib(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),ig(s)}else await lp(s.localStore,e,!1).then(()=>hp(s,e,t)).catch(Xo)}async function Ik(r,e){const t=Be(r),s=e.batch.batchId;try{const o=await U2(t.localStore,e);Ob(t,s,null),Cb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await xu(t,o)}catch(o){await Xo(o)}}async function Ck(r,e,t){const s=Be(r);try{const o=await function(f,m){const p=Be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(ct(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Ob(s,e,t),Cb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await xu(s,o)}catch(o){await Xo(o)}}function Cb(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function Ob(r,e,t){const s=Be(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function hp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||Nb(r,s)})}function Nb(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Yp(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),ig(r))}function TT(r,e,t){for(const s of t)s instanceof Sb?(r.Ka.addReference(s.key,e),Ok(r,s)):s instanceof Ab?(_e(ng,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||Nb(r,s.key)):Ve()}function Ok(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(_e(ng,"New document in limbo: "+t),r.Qa.add(s),ig(r))}function ig(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Ne(vt.fromString(e)),s=r.za.next();r.Ua.set(s,new _k(t)),r.$a=r.$a.insert(t,s),pb(r.remoteStore,new Ls(tr(zp(t.path)),s,"TargetPurposeLimboResolution",Zh.ae))}}async function xu(r,e,t){const s=Be(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Kp.Yi(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>se.forEach(g,T=>se.forEach(T.Hi,R=>E.persistence.referenceDelegate.addReference(A,T.targetId,R)).next(()=>se.forEach(T.Ji,R=>E.persistence.referenceDelegate.removeReference(A,T.targetId,R)))))}catch(A){if(!Zo(A))throw A;_e(Qp,"Failed to update sequence numbers: "+A)}for(const A of g){const T=A.targetId;if(!A.fromCache){const R=E.Ts.get(T),S=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(S);E.Ts=E.Ts.insert(T,k)}}}(s.localStore,u))}async function Nk(r,e){const t=Be(r);if(!t.currentUser.isEqual(e)){_e(ng,"User change. New user:",e.toKey());const s=await hb(t.localStore,e);t.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ve(re.CANCELLED,f))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xu(t,s.Rs)}}function Dk(r,e){const t=Be(r),s=t.Ua.get(e);if(s&&s.Ba)return Xe().add(s.key);{let o=Xe();const u=t.qa.get(e);if(!u)return o;for(const f of u){const m=t.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function Db(r){const e=Be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rk.bind(null,e),e.La.p_=mk.bind(null,e.eventManager),e.La.Ja=pk.bind(null,e.eventManager),e}function kk(r){const e=Be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ik.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ck.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return x2(this.persistence,new M2,e.initialUser,this.serializer)}Xa(e){return new cb($p.ri,this.serializer)}Za(e){return new H2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class Mk extends jh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ct(this.persistence.referenceDelegate instanceof Bh);const s=this.persistence.referenceDelegate.garbageCollector;return new _2(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new cb(s=>Bh.ri(s,t),this.serializer)}}class fp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ET(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nk.bind(null,this.syncEngine),await hk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dk}()}createDatastore(e){const t=of(e.databaseInfo.databaseId),s=function(u){return new Q2(u)}(e.databaseInfo);return function(u,f,m,p){return new Z2(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new ek(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>ET(this.syncEngine,t,0),function(){return mT.D()?new mT:new F2}())}createSyncEngine(e,t){return function(o,u,f,m,p,g,E){const A=new vk(o,u,f,m,p,g);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Be(o);_e(Va,"RemoteStore shutting down."),u.W_.add(5),await Vu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fp.provider={build:()=>new fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class Pk{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=ww.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{_e(Ys,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(_e(Ys,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=eg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),_e(Ys,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await hb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function wT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Vk(r);_e(Ys,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>gT(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>gT(e.remoteStore,o)),r._onlineComponents=e}async function Vk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){_e(Ys,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;zo("Error using user provided cache. Falling back to memory cache: "+t),await Nm(r,new jh)}}else _e(Ys,"Using default OfflineComponentProvider"),await Nm(r,new Mk(void 0));return r._offlineComponents}async function Mb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(_e(Ys,"Using user provided OnlineComponentProvider"),await wT(r,r._uninitializedComponentsProvider._online)):(_e(Ys,"Using default OnlineComponentProvider"),await wT(r,new fp))),r._onlineComponents}function xk(r){return Mb(r).then(e=>e.syncEngine)}async function Pb(r){const e=await Mb(r),t=e.eventManager;return t.onListen=Ek.bind(null,e.syncEngine),t.onUnlisten=bk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Tk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Sk.bind(null,e.syncEngine),t}function Uk(r,e,t={}){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new kb({next:T=>{E.su(),f.enqueueAndForget(()=>wb(u,A));const R=T.docs.has(m);!R&&T.fromCache?g.reject(new ve(re.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&p&&p.source==="server"?g.reject(new ve(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),A=new bb(zp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return Tb(u,A)}(await Pb(r),r.asyncQueue,e,t,s)),s.promise}function Lk(r,e,t={}){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new kb({next:T=>{E.su(),f.enqueueAndForget(()=>wb(u,A)),T.fromCache&&p.source==="server"?g.reject(new ve(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),A=new bb(m,E,{includeMetadataChanges:!0,Ta:!0});return Tb(u,A)}(await Pb(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(r,e,t){if(!t)throw new ve(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Bk(r,e,t,s){if(e===!0&&s===!0)throw new ve(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ST(r){if(!Ne.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function AT(r){if(Ne.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ve()}function xa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cf(r);throw new ve(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="firestore.googleapis.com",RT=!0;class IT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ub,this.ssl=RT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:RT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ub;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g2)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $N;switch(s.type){case"firstParty":return new WN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=bT.get(t);s&&(_e("ComponentProvider","Removing Datastore"),bT.delete(t),s.terminate())}(this),Promise.resolve()}}function zk(r,e,t,s={}){var o;const u=(r=xa(r,hf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${t}`;u.host!==Ub&&u.host!==m&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Da(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=yn.MOCK_USER;else{g=AI(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yn(A)}r._authCredentials=new KN(new Ew(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class xn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class qs extends Zs{constructor(e,t,s){super(e,t,zp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new Ne(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function Dm(r,e,...t){if(r=Vt(r),xb("collection","path",e),r instanceof hf){const s=vt.fromString(e,...t);return AT(s),new qs(r,null,s)}{if(!(r instanceof xn||r instanceof qs))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(vt.fromString(e,...t));return AT(s),new qs(r.firestore,null,s)}}function jk(r,e,...t){if(r=Vt(r),arguments.length===1&&(e=ww.newId()),xb("doc","path",e),r instanceof hf){const s=vt.fromString(e,...t);return ST(s),new xn(r,null,new Ne(s))}{if(!(r instanceof xn||r instanceof qs))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(vt.fromString(e,...t));return ST(s),new xn(r.firestore,r instanceof qs?r.converter:null,new Ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="AsyncQueue";class OT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new db(this,"async_queue_retry"),this.Su=()=>{const s=Om();s&&_e(CT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Om();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Om();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Zo(e))throw e;_e(CT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Yr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Jp.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ff extends hf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new OT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OT(e),this._firestoreClient=void 0,await e}}}function qk(r,e){const t=typeof r=="object"?r:_0(),s=typeof r=="string"?r:Mh,o=wp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=bI("firestore");u&&zk(o,...u)}return o}function rg(r){if(r._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Hk(r),r._firestoreClient}function Hk(r){var e,t,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new hD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Vb(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Pk(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(fn.fromBase64String(e))}catch(t){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $o(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=/^__.*__$/;class Gk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mu(e,this.data,t,this.fieldTransforms)}}function Lb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class ug{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return qh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Lb(this.Lu)&&Fk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class $k{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||of(e)}ju(e,t,s,o=!1){return new ug({Lu:e,methodName:t,zu:s,path:hn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bb(r){const e=r._freezeSettings(),t=of(r._databaseId);return new $k(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Kk(r,e,t,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,t,o);qb("Data must be an object, but it was:",f,s);const m=zb(s,f);let p,g;if(u.merge)p=new Pi(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const T=Yk(e,A,t);if(!f.contains(T))throw new ve(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Xk(E,T)||E.push(T)}p=new Pi(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new Gk(new pi(m),p,g)}class cg extends ag{_toFieldTransform(e){return new UD(e.path,new wu)}isEqual(e){return e instanceof cg}}function Qk(r,e,t,s=!1){return hg(t,r.ju(s?4:3,e))}function hg(r,e){if(jb(r=Vt(r)))return qb("Unsupported field value:",e,r),zb(r,e);if(r instanceof ag)return function(s,o){if(!Lb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=hg(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Qt.fromDate(s);return{timestampValue:Lh(o.serializer,u)}}if(s instanceof Qt){const u=new Qt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,u)}}if(s instanceof og)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $o)return{bytesValue:nb(o.serializer,s._byteString)};if(s instanceof xn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof lg)return function(f,m){return{mapValue:{fields:{[Nw]:{stringValue:Dw},[Ph]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return jp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${cf(s)}`)}(r,e)}function zb(r,e){const t={};return Sw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(r,(s,o)=>{const u=hg(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function jb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qt||r instanceof og||r instanceof $o||r instanceof xn||r instanceof ag||r instanceof lg)}function qb(r,e,t){if(!jb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=cf(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Yk(r,e,t){if((e=Vt(e))instanceof sg)return e._internalPath;if(typeof e=="string")return Hb(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Wk=new RegExp("[~\\*/\\[\\]]");function Hb(r,e,t){if(e.search(Wk)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new sg(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function qh(r,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ve(re.INVALID_ARGUMENT,m+r+p)}function Xk(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(df("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Zk extends Fb{data(){return super.data()}}function df(r,e){return typeof e=="string"?Hb(r,e):e instanceof sg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class dg extends fg{}function km(r,e,...t){let s=[];e instanceof fg&&s.push(e),s=s.concat(t),function(u){const f=u.filter(p=>p instanceof mg).length,m=u.filter(p=>p instanceof mf).length;if(f>1||f>0&&m>0)throw new ve(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class mf extends dg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new mf(e,t,s)}_apply(e){const t=this._parse(e);return Gb(e._query,t),new Zs(e.firestore,e.converter,ip(e._query,t))}_parse(e){const t=Bb(e.firestore);return function(u,f,m,p,g,E,A){let T;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ve(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){MT(A,E);const S=[];for(const k of A)S.push(kT(p,u,k));T={arrayValue:{values:S}}}else T=kT(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||MT(A,E),T=Qk(m,f,A,E==="in"||E==="not-in");return jt.create(g,E,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function NT(r,e,t){const s=e,o=df("where",r);return mf._create(o,s,t)}class mg extends fg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:xi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Gb(f,p),f=ip(f,p)}(e._query,t),new Zs(e.firestore,e.converter,ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pg extends dg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pg(e,t)}_apply(e){const t=function(o,u,f){if(o.startAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tu(u,f)}(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Jo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function DT(r,e="asc"){const t=e,s=df("orderBy",r);return pg._create(s,t)}class gg extends dg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new gg(e,t,s)}_apply(e){return new Zs(e.firestore,e.converter,xh(e._query,this._limit,this._limitType))}}function eM(r){return gg._create("limit",r,"F")}function kT(r,e,t){if(typeof(t=Vt(t))=="string"){if(t==="")throw new ve(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bw(e)&&t.indexOf("/")!==-1)throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(vt.fromString(t));if(!Ne.isDocumentKey(s))throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $E(r,new Ne(s))}if(t instanceof xn)return $E(r,t._key);throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(t)}.`)}function MT(r,e){if(!Array.isArray(r)||r.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gb(r,e){const t=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tM{convertValue(e,t="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ba(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ph].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Pt(f.doubleValue));return new lg(u)}convertGeoPoint(e){return new og(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ef(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const t=Gs(e);return new Qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=vt.fromString(e);ct(lb(s));const o=new vu(s.get(1),s.get(3)),u=new Ne(s.popFirst(5));return o.isEqual(t)||Yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $b extends Fb{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(df("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class vh extends $b{data(e={}){return super.data(e)}}class iM{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new au(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new vh(this._firestore,this._userDataWriter,s.key,s,new au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:rM(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(r){r=xa(r,xn);const e=xa(r.firestore,ff);return Uk(rg(e),r._key).then(t=>lM(e,r,t))}class Kb extends tM{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function Mm(r){r=xa(r,Zs);const e=xa(r.firestore,ff),t=rg(e),s=new Kb(e);return Jk(r._query),Lk(t,r._query).then(o=>new iM(e,s,r,o))}function aM(r,e,t){r=xa(r,xn);const s=xa(r.firestore,ff),o=nM(r.converter,e);return oM(s,[Kk(Bb(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Fr.none())])}function oM(r,e){return function(s,o){const u=new Hr;return s.asyncQueue.enqueueAndForget(async()=>Ak(await xk(s),o,u)),u.promise}(rg(r),e)}function lM(r,e,t){const s=t.docs.get(e._key),o=new Kb(r);return new $b(r,o,e._key,s,new au(t.hasPendingWrites,t.fromCache),e.converter)}function uM(){return new cg("serverTimestamp")}(function(e,t=!0){(function(o){Wo=o})(Xr),Hs(new $r("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ff(new QN(s.getProvider("auth-internal")),new XN(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ji(PE,VE,e),Ji(PE,VE,"esm2017")})();const cM={apiKey:"AIzaSyB115fIqk9gyXoxh84AVe9yASckWPxcaU8",authDomain:"hytoy-2b54d.firebaseapp.com",projectId:"hytoy-2b54d",storageBucket:void 0,messagingSenderId:"857453885025",appId:"1:857453885025:web:c3255b4b4281f5eb8b9c20",measurementId:"G-BT45SHS1DR"},Qb=y0(cM),ih=qk(Qb),Zi=oN(Qb),hM=new Ur,fM=new Lr,dM="_modalOverlay_14pjn_1",mM="_switchContainer_14pjn_11",pM="_link_14pjn_16",gM="_switchText_14pjn_31",yM="_modalContent_14pjn_38",_M="_accountContainer_14pjn_52",vM="_closeBtn_14pjn_101",EM="_loginTitle_14pjn_107",Ps={modalOverlay:dM,switchContainer:mM,link:pM,switchText:gM,modalContent:yM,accountContainer:_M,closeBtn:vM,loginTitle:EM},TM="_otherLogin_dcd5o_1",wM="_notice_dcd5o_6",rh={otherLogin:TM,notice:wM},bM=({showSignUp:r})=>{const{setShowingLogin:e}=Ha(),[t,s]=K.useState(!1),[o,u]=K.useState(""),[f,m]=K.useState(null),[,p]=K.useActionState(async(T,R)=>{const S=R.get("email"),k=R.get("password"),O=R.get("name");try{if(r){const Y=await F1(Zi,S,k);Zi.currentUser&&O&&(await $1(Zi.currentUser),u(S),s(!0),await dE(Zi.currentUser,{displayName:O}))}else{if(!(await G1(Zi,S,k)).user.emailVerified)return alert("   .    ."),{email:S,password:k,name:O};e(!1)}}catch(Y){Y instanceof yi&&m(Y),console.error("  :",Y)}return{email:S,password:k,name:O}},{email:"",password:"",name:""}),g=async()=>{try{const T=await gE(Zi,hM);e(!1)}catch{}},E=async()=>{var T;try{const R=await gE(Zi,fM);if(!R.user.displayName){const S=R.user.providerData[0];if(S){const k=(T=S.email)==null?void 0:T.split("@")[0];k&&await dE(R.user,{displayName:k})}}e(!1)}catch{}},A=()=>f&&f.code.includes("auth/email-already-in-use")?ae.jsxs("p",{children:[ae.jsx("strong",{children:"  ."}),ae.jsx("br",{})," ."]}):null;return K.useEffect(()=>{t&&m(null)},[t]),K.useEffect(()=>{f&&s(!1)},[f]),K.useEffect(()=>()=>{m(null),s(!1),u("")},[r]),ae.jsxs(ae.Fragment,{children:[ae.jsxs("form",{action:p,className:rh.form,children:[r&&ae.jsx("input",{name:"name",placeholder:"Name",type:"text",required:!0}),ae.jsx("input",{name:"email",placeholder:"Email",type:"email",required:!0}),ae.jsx("input",{name:"password",placeholder:"Password",type:"password",required:!0}),ae.jsx("input",{type:"submit",value:r?"Create Account":"Log In"})]}),t&&r&&ae.jsxs("div",{className:rh.notice,children:[ae.jsx("h4",{children:"  "}),ae.jsxs("p",{children:[ae.jsx("strong",{children:o}),"    .",ae.jsx("br",{}),"     .",ae.jsx("br",{}),"    ."]})]}),f&&r&&ae.jsx("div",{className:rh.notice,children:ae.jsx("h4",{children:A()})}),ae.jsxs("div",{className:rh.otherLogin,children:[ae.jsx("button",{onClick:g,children:r?"Start With Google":"Google Login"}),ae.jsx("button",{onClick:E,children:r?"Start With Github":"Github Login"})]})]})},SM=r=>K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:16,height:16,...r},K.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})),AM=()=>{const{setShowingLogin:r}=Ha(),[e,t]=K.useState(!1),s=()=>{t(u=>!u)},o=()=>{r(!1)};return ae.jsx("div",{className:Ps.modalOverlay,children:ae.jsxs("div",{className:Ps.modalContent,children:[ae.jsxs("div",{className:Ps.loginTitle,children:[ae.jsx("label",{children:e?"Join":"Log into"}),ae.jsx(r0,{width:120})]}),ae.jsx(SM,{className:Ps.closeBtn,width:22,height:22,onClick:o}),ae.jsx("div",{className:Ps.accountContainer,children:ae.jsx(bM,{showSignUp:e})}),ae.jsx("div",{className:Ps.switchContainer,children:ae.jsxs("span",{className:Ps.switchText,children:[e?"Already have an account? ":"Don't have an account? ",ae.jsx("button",{type:"button",className:Ps.link,onClick:s,children:e?"Log In ":"Create one "})]})})]})})},Yb=K.createContext({user:null,setShowingLogin:()=>{}}),RM=({children:r})=>{const[e,t]=K.useState(null),[s,o]=K.useState(!1),u={user:e,setShowingLogin:o};return K.useEffect(()=>{const f=W1(Zi,async m=>{m?m.providerData[0].providerId==="password"&&!m.emailVerified?(console.warn("   .  ."),await Zi.signOut()):(t(m),o(!1)):t(null)});return()=>f()},[]),ae.jsxs(Yb.Provider,{value:u,children:[s&&ae.jsx(AM,{}),r]})},Ha=()=>K.useContext(Yb),IM="_avatarWrapper_mafwj_1",CM="_avatarImage_mafwj_14",PT={avatarWrapper:IM,avatarImage:CM},OM="/hy_toy/assets/NoUser-CZ1sWPQm.png",NM=()=>{const{user:r}=Ha();return r?ae.jsx("div",{className:PT.avatarWrapper,children:ae.jsx("img",{src:r.photoURL??OM,alt:"User Avatar",className:PT.avatarImage})}):null},DM="_container_14phx_1",kM="_avatar_14phx_8",MM="_dropdown_14phx_19",Pm={container:DM,avatar:kM,dropdown:MM},Wb=()=>{const{user:r}=Ha(),[e,t]=K.useState(!1),s=K.useRef(null),o=async()=>{try{await X1(Zi)}catch(u){console.error(" ",u)}};if(K.useEffect(()=>{const u=f=>{s.current&&!s.current.contains(f.target)&&t(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),!!r)return ae.jsxs("div",{className:Pm.container,ref:s,children:[ae.jsx("div",{onClick:()=>t(!e),className:Pm.avatar,children:ae.jsx(NM,{})}),e&&ae.jsxs("div",{className:Pm.dropdown,children:[ae.jsxs("p",{children:[", ",`${r.displayName} `,"!"]}),ae.jsx("button",{onClick:o,children:""})]})]})},PM="_container_1gzm8_1",VM="_loginButton_1gzm8_8",VT={container:PM,loginButton:VM},xM=()=>{const{user:r,setShowingLogin:e}=Ha(),t=()=>{e(!0)};return ae.jsx("div",{className:VT.container,children:r?ae.jsx(Wb,{}):ae.jsx("button",{onClick:t,className:VT.loginButton,children:"Log In"})})},UM=()=>{const{user:r}=Ha(),e=pp(),t=()=>{e("/")},s=window.location.pathname.replace("/hy_toy/","").split("/").at(0);return ae.jsxs("header",{children:[ae.jsxs("div",{className:gm.left,children:[ae.jsx(r0,{className:gm.hytoylogo,width:"200px",height:"100px",onClick:t}),s!==""?`${s==null?void 0:s.toUpperCase()}`:null]}),ae.jsx("div",{className:gm.right,children:r?ae.jsx(Wb,{}):ae.jsx(xM,{})})]})},LM="_wrapper_nctol_1",BM="_shake_nctol_9",xT={wrapper:LM,shake:BM},zM="_keyboard_1o4zn_1",jM="_keyboardRow_1o4zn_10",qM="_keyButton_1o4zn_16",Vm={keyboard:zM,keyboardRow:jM,keyButton:qM},HM=["QWERTYUIOP","ASDFGHJKL","ZXCVBNM"],FM=({onKeyPress:r,isGameOver:e,currentKey:t})=>ae.jsx("div",{className:Vm.keyboard,children:HM.map((s,o)=>ae.jsx("div",{className:Vm.keyboardRow,children:s.split("").map(u=>ae.jsx("button",{className:Vm.keyButton,onClick:()=>r(u),style:t===u?{backgroundColor:"black"}:{},disabled:e,children:u},u))},o))}),GM=({isGameOver:r,speedBonus:e,spawnInterval:t,setChars:s,idRef:o,containerWidth:u})=>{K.useEffect(()=>{if(r)return;const m=setInterval(()=>{const p=[];for(let g=0;g<Math.floor((e*15+3)/3);g++)p.push({id:o.current++,text:String.fromCharCode(65+Math.floor(Math.random()*26)),top:0,left:Math.random()*(u-20),speed:2+Math.random()*2+e});s(g=>[...g,...p])},t);return()=>clearInterval(m)},[r,e,t])},$M=()=>{const[r,e]=K.useState([]),[t,s]=K.useState(100),[o,u]=K.useState(!1),[f,m]=K.useState(0),[p,g]=K.useState(0),[E,A]=K.useState(0),T=K.useRef(0),[R,S]=K.useState(1e3),[k,O]=K.useState(!1),[Y,ue]=K.useState(!1),$=i0.isMobile?400:500,oe=300,me=100,we=20,[U,I]=K.useState("");GM({isGameOver:o,speedBonus:E,spawnInterval:R,setChars:e,idRef:T,containerWidth:oe});const N=z=>{I(z),e(D=>{const Ze=D.findIndex(We=>We.text===z&&!We.isRemoving);if(Ze!==-1){const We=D[Ze].id,X=[...D];return X[Ze]={...X[Ze],isRemoving:!0},setTimeout(()=>{e(he=>he.filter(ge=>ge.id!==We))},400),g(he=>{const ge=he+1,Ce=Math.floor(ge/10),V=we+Ce;return m(te=>{const de=te+V;return ue(!0),setTimeout(()=>ue(!1),200),Math.floor(de/500)>Math.floor(te/500)&&(A(ce=>ce+.1),S(ce=>Math.max(ce-20,200))),de}),ge}),X}else return s(We=>{const X=We-3;return X<=0&&u(!0),X}),g(0),O(!0),setTimeout(()=>O(!1),300),D})};return K.useEffect(()=>{if(o)return;const z=setInterval(()=>{e(D=>D.map(X=>({...X,top:X.top+X.speed})).filter(X=>X.top>=$-24&&!X.isRemoving?(s(he=>{const ge=he-5;return O(!0),setTimeout(()=>O(!1),300),ge<=0&&u(!0),ge}),g(0),!1):!0))},50);return()=>clearInterval(z)},[o]),K.useEffect(()=>{const z=D=>{if(o)return;const Ze=D.code;if(!/^Key[A-Z]$/.test(Ze))return;const We=Ze.replace("Key","");N(We)};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[o]),K.useEffect(()=>{if(o)return;const z=setInterval(()=>{e(D=>D.filter(Ze=>Ze.top<$))},500);return()=>clearInterval(z)},[o]),{chars:r,health:t,isGameOver:o,score:f,combo:p,scoreBump:Y,spawnInterval:R,shake:k,handleVirtualKeyPress:z=>{o||N(z)},restartGame:()=>{e([]),s(me),u(!1),m(0),g(0),A(0),S(1e3),I("")},containerHeight:$,containerWidth:oe,currentKey:U}},KM="_char_1pdsj_2",QM="_explode_1pdsj_12",UT={char:KM,explode:QM},YM=({fallingChar:r})=>ae.jsx("div",{className:`${UT.char} ${r.isRemoving?UT.explode:""}`,style:{top:r.top,left:r.left,position:"absolute"},children:r.text},r.id),WM="_scoreBox_19wdj_1",XM="_comboPop_19wdj_13",ZM="_bump_19wdj_40",xm={scoreBox:WM,comboPop:XM,bump:ZM},JM=({score:r,scoreBump:e,combo:t})=>ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{className:xm.scoreBox,children:[ae.jsxs("p",{className:e?xm.bump:"",children:["Score: ",r]}),ae.jsxs("p",{children:["Combo: ",t]})]}),t>0&&t%10===0&&ae.jsxs("div",{className:xm.comboPop,children:[t," Combo!"]},t)]}),eP="_wrapper_1eqml_2",tP="_title_1eqml_13",nP="_rankList_1eqml_20",iP="_rankItem_1eqml_26",rP="_rankIndex_1eqml_41",sP="_nickName_1eqml_46",aP="_score_1eqml_55",oP="_myRankHighlight_1eqml_60",lP="_myRankAlone_1eqml_66",uP="_saveMyRankAlone_1eqml_76",Wi={wrapper:eP,title:tP,rankList:nP,rankItem:iP,rankIndex:rP,nickName:sP,score:aP,myRankHighlight:oP,myRankAlone:lP,saveMyRankAlone:uP},cP=({score:r})=>{const[e,t]=K.useState([]),{user:s,setShowingLogin:o}=Ha(),[u,f]=K.useState(null),[m,p]=K.useState(!1),[g,E]=K.useState(null),A=()=>{o(!0)},T=async O=>{const Y=km(Dm(ih,"typinggamerankings"),NT("score",">",O));return(await Mm(Y)).size+1},R=async O=>{if(!O)return;const Y=km(Dm(ih,"typinggamerankings"),NT("userId","==",O.uid)),ue=await Mm(Y);if(ue.empty)E(null);else{const $=ue.docs[0].data().score,oe=await T($);E({rank:oe,score:$})}};K.useEffect(()=>{const O=async()=>{var we;if(!s||m)return;const ue=s.uid,$=s.displayName||((we=s.email)==null?void 0:we.split("@")[0])||`user_${ue.slice(0,6)}`,oe=jk(ih,"typinggamerankings",ue),me=await sM(oe);(!me.exists()||(me.data().score??0)<r)&&await aM(oe,{userId:ue,nickName:$,score:r,timestamp:uM()}),p(!0)};return(async()=>{await O();const ue=await T(r);f(ue),await R(s)})(),()=>{E(null)}},[s]),K.useEffect(()=>{(async()=>{const Y=km(Dm(ih,"typinggamerankings"),DT("score","desc"),DT("timestamp","asc"),eM(3)),$=(await Mm(Y)).docs.map(oe=>({...oe.data()}));t($)})()},[r,m]),K.useEffect(()=>{},[s]);const S=O=>{switch(O){case 1:return"";case 2:return"";case 3:return"";default:return`#${O.toString()}`}},k=e.some(O=>O.userId===(s==null?void 0:s.uid));return ae.jsxs("div",{className:Wi.wrapper,children:[ae.jsx("h2",{className:Wi.title,children:" Top 3 Rankings"}),ae.jsx("ol",{className:Wi.rankList,children:e.map((O,Y)=>ae.jsxs("li",{className:`${Wi.rankItem} ${O.userId===(s==null?void 0:s.uid)?Wi.myRankHighlight:""}`,children:[ae.jsx("span",{className:Wi.rankIndex,children:S(Y+1)}),ae.jsx("span",{className:Wi.nickName,children:O.nickName}),ae.jsx("span",{className:Wi.score,children:O.score})]},O.id))}),u!==null&&ae.jsxs("div",{className:Wi.myRankAlone,children:[" : ",u," / ",r,"",g!==null&&!k&&ae.jsxs(ae.Fragment,{children:[ae.jsx("br",{}),"  : ",g.rank," / ",g.score,""]})]}),!s&&ae.jsx("div",{className:Wi.saveMyRankAlone,children:ae.jsx("button",{onClick:A,children:" "})})]})},hP="_gameOverOverlay_e1iwo_1",fP="_restartButton_e1iwo_21",LT={gameOverOverlay:hP,restartButton:fP},dP=({restartGame:r,score:e})=>ae.jsxs("div",{className:LT.gameOverOverlay,children:[ae.jsx("p",{children:"Game Over"}),ae.jsx(cP,{score:e}),ae.jsx("button",{onClick:r,className:LT.restartButton,children:"Restart"})]}),mP="_healthBarContainer_hn5uk_1",pP="_healthBar_hn5uk_1",BT={healthBarContainer:mP,healthBar:pP},gP=({health:r})=>ae.jsx("div",{className:BT.healthBarContainer,children:ae.jsx("div",{className:BT.healthBar,style:{width:`${r/100*100}%`}})}),yP="_gameScreen_1obu2_1",_P={gameScreen:yP},vP=({chars:r,health:e,isGameOver:t,score:s,combo:o,scoreBump:u,restartGame:f,containerHeight:m})=>ae.jsxs("div",{className:_P.gameScreen,style:{width:"300px",height:`${m}px`,position:"relative"},children:[ae.jsx(JM,{score:s,scoreBump:u,combo:o}),r.map(p=>ae.jsx(YM,{fallingChar:p},p.id)),ae.jsx(gP,{health:e}),t&&ae.jsx(dP,{restartGame:f,score:s})]}),EP=()=>{const{isGameOver:r,handleVirtualKeyPress:e,shake:t,chars:s,health:o,score:u,combo:f,scoreBump:m,restartGame:p,containerHeight:g,currentKey:E}=$M();return ae.jsxs("div",{className:`${xT.wrapper} ${t?xT.shake:""}`,children:[ae.jsx(vP,{chars:s,health:o,isGameOver:r,score:u,combo:f,scoreBump:m,restartGame:p,containerHeight:g}),ae.jsx(FM,{isGameOver:r,onKeyPress:e,currentKey:E})]})},TP=K.lazy(()=>dp(()=>import("./CoinAppWrapper-B8vDpD-1.js"),__vite__mapDeps([0,1]))),wP=K.lazy(()=>dp(()=>import("./CoinApp-Dn8vArU3.js"),__vite__mapDeps([2,3,1,4,5]))),bP=K.lazy(()=>dp(()=>import("./CoinChartView-DiPTdbTr.js").then(r=>r.c),__vite__mapDeps([3,1,4]))),SP=()=>{const r=()=>"/hy_toy/";return ae.jsx(KR,{basename:r(),children:ae.jsx(RM,{children:ae.jsxs("div",{className:"wrapper",children:[ae.jsx(UM,{}),ae.jsx(K.Suspense,{fallback:ae.jsx(lI,{}),children:ae.jsxs(SR,{children:[ae.jsx(No,{path:"/",element:ae.jsx(hI,{})}),ae.jsxs(No,{path:"/coin",element:ae.jsx(TP,{}),children:[ae.jsx(No,{index:!0,element:ae.jsx(wP,{})}),i0.isMobile&&ae.jsx(No,{path:"chartview",element:ae.jsx(bP,{})})]}),ae.jsx(No,{path:"/typinggame",element:ae.jsx(EP,{})})]})})]})})})};NA.createRoot(document.getElementById("root")).render(ae.jsx(SP,{}));export{lI as L,AP as O,SM as S,ae as j,i0 as l,K as r,pp as u};
