import{r as g,u as b,j as e,l as h,L as F}from"./index-CLcZm1pm.js";import{u,a as v,s as x,C as N}from"./CoinChartView-Cw2Zxunp.js";import{u as y,q as S}from"./SymbolContextProvider-UrLNbusT.js";const k="_chartList_143de_1",w="_symbolListLabel_143de_17",C="_priceWrpper_143de_23",W="_price_143de_23",D="_krwPrice_143de_35",P="_pricehighlight_143de_46",r={chartList:k,symbolListLabel:w,priceWrpper:C,price:W,krwPrice:D,pricehighlight:P},R=i=>{const c=i.replace("USDT","");return u({queryKey:["symbol",`KRW-${c}`],queryFn:async()=>null,initialData:null,staleTime:1/0})},T=({symbol:i})=>{const{setSymbol:c}=y(),{data:s}=v(i),{data:n}=R(i),o=g.useRef(null),j=b(),{data:l}=u({queryKey:["exchange-rate","USD-KRW"],queryFn:S,staleTime:1e3*60*10,gcTime:1e3*60*60,refetchOnWindowFocus:!1}),L=()=>{c(i),h.isMobile&&j("/chart/chartview")},t=(s==null?void 0:s.price)??0,m=(s==null?void 0:s.openPrice)??1,f=t===0?0:((t-m)/m*100).toFixed(2),p=(s==null?void 0:s.color)??"#FFFFFF",_=!!(n&&l&&t&&n.price/l-t>0);return g.useEffect(()=>{let a=null;if(o.current){const d=o.current;d.classList.add(r.pricehighlight),a=setTimeout(()=>{d.classList.remove(r.pricehighlight)},300)}return()=>{a&&(clearTimeout(a),a=null)}},[s]),e.jsxs("div",{className:r.chartList,onClick:L,children:[e.jsx("div",{children:e.jsx("strong",{className:r.symbolListLabel,children:i.replace("USDT","")})}),e.jsxs("div",{className:r.priceWrpper,children:[e.jsxs("div",{children:[e.jsx("strong",{ref:o,className:r.price,style:{color:p},children:`${t}`}),e.jsx("strong",{className:r.price,style:{color:p,marginLeft:"10px"},children:`${f}% `}),e.jsx("strong",{className:r.price,style:{marginLeft:"10px"},children:"USD"})]}),t&&n&&l?e.jsxs("div",{className:r.krwPrice,children:[e.jsx("strong",{children:"김프: "}),e.jsx("strong",{style:{color:_?"#f75467":"#4386f9"},children:`${((n.price/l-t)/t*100).toFixed(2)}% `}),e.jsx("strong",{style:{marginLeft:"10px"},children:"KRW: "}),e.jsx("strong",{style:{color:p},children:`${n.price.toLocaleString()}`})]}):e.jsx(e.Fragment,{})]})]})},K=()=>{const{symbolList:i}=y();return e.jsxs("div",{className:x.app,children:[e.jsx("div",{className:x.listContainer,style:{minWidth:h.isMobile?"100%":"300px"},children:i.length>0?i.map(c=>e.jsx(T,{symbol:c},c)):e.jsx(F,{})}),h.isMobile?e.jsx(e.Fragment,{}):e.jsx(N,{})]})};export{K as default};
