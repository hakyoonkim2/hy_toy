import{r as d,u as _,j as e,l as o,L as F}from"./index-TwiiSjFv.js";import{u,a as v,s as g,C as S,b as C}from"./CoinChartView-xYBavO9O.js";import{u as j,q as N}from"./SymbolContextProvider-BDhKxxZ-.js";const k="_chartList_143de_1",w="_symbolListLabel_143de_17",W="_priceWrpper_143de_23",D="_price_143de_23",P="_krwPrice_143de_35",R="_pricehighlight_143de_46",r={chartList:k,symbolListLabel:w,priceWrpper:W,price:D,krwPrice:P,pricehighlight:R},T=s=>{const c=s.replace("USDT","");return u({queryKey:["symbol",`KRW-${c}`],queryFn:async()=>null,initialData:null,staleTime:1/0})},$=({symbol:s})=>{const{setSymbol:c}=j(),{data:i}=v(s),{data:n}=T(s),p=d.useRef(null),y=_(),{data:l}=u({queryKey:["exchange-rate","USD-KRW"],queryFn:N,refetchInterval:1e3*60*10,staleTime:1e3*60*10,gcTime:1e3*60*60,refetchOnWindowFocus:!1}),f=()=>{c(s),o.isMobile&&y("/chart/chartview")},t=(i==null?void 0:i.price)??0,m=(i==null?void 0:i.openPrice)??1,L=t===0?0:((t-m)/m*100).toFixed(2),h=(i==null?void 0:i.color)??"#FFFFFF",b=!!(n&&l&&t&&n.price/l-t>0);return d.useEffect(()=>{let a=null;if(p.current){const x=p.current;x.classList.add(r.pricehighlight),a=setTimeout(()=>{x.classList.remove(r.pricehighlight)},300)}return()=>{a&&(clearTimeout(a),a=null)}},[i]),e.jsxs("div",{id:`${s}-pricelist`,className:r.chartList,onClick:f,children:[e.jsx("div",{children:e.jsx("strong",{className:r.symbolListLabel,children:s.replace("USDT","")})}),e.jsxs("div",{className:r.priceWrpper,children:[e.jsxs("div",{children:[e.jsx("strong",{ref:p,className:r.price,style:{color:h},children:`${t}`}),e.jsx("strong",{className:r.price,style:{color:h,marginLeft:"10px"},children:`${L}% `}),e.jsx("strong",{className:r.price,style:{marginLeft:"10px"},children:"USD"})]}),t&&n&&l?e.jsxs("div",{className:r.krwPrice,children:[e.jsx("strong",{children:"김프: "}),e.jsx("strong",{style:{color:b?"#f75467":"#4386f9"},children:`${((n.price/l-t)/t*100).toFixed(2)}% `}),e.jsx("strong",{style:{marginLeft:"10px"},children:"KRW: "}),e.jsx("strong",{style:{color:h},children:`${n.price.toLocaleString()}`})]}):e.jsx(e.Fragment,{})]})]})},U=()=>{const{symbolList:s}=j();return e.jsxs("div",{className:g.app,children:[e.jsxs("div",{className:g.listContainer,style:{minWidth:o.isMobile?"100%":"300px"},children:[o.isMobile?e.jsx(S,{}):e.jsx(e.Fragment,{}),s.length>0?s.map(c=>e.jsx($,{symbol:c},c)):e.jsx(F,{})]}),o.isMobile?e.jsx(e.Fragment,{}):e.jsx(C,{})]})};export{U as default};
